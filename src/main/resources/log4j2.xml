<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="ERROR">
	<Properties>
	    <Property name="emmlogdir">logs/emmlog</Property>
    	<!-- For WebSphere, may need to change emmlogdir to JVM argument -Dlog4jdir= to differentiate different JVMs -->
    	<!-- <Property name="emmlogdir">logs/emmlog/${sys:log4jdir}</Property> -->
    	<!-- For WebLogic, need to set JVM argument under Server Start tab -Dweblogic.log.Log4jLoggingEnabled=true -->    	
    </Properties>
	<Appenders>
		<Console name="STDOUT" target="SYSTEM_OUT">
			<PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss,SSS} %p %c:%L] %m%n"/>
		</Console>
		<Routing name="Routing">
	      <Routes pattern="$${sd:type}">
	        <Route>
	          <RollingFile name="Rolling-${sd:type}" filePattern="${emmlogdir}/console-%i.log.gz">
	            <PatternLayout>
	              <pattern>%d %p %c{1.} [%t] %m%n</pattern>
	            </PatternLayout>
	            <SizeBasedTriggeringPolicy size="2 MB" />
	            <DirectWriteRolloverStrategy maxFiles="5"/>
	          </RollingFile>
	        </Route>
	        <Route ref="STDOUT" key="Audit"/>
	      </Routes>
	    </Routing>
	    <Routing name="RoutingError">
	      <Routes pattern="$${sd:type}">
	        <Route>
	          <RollingFile name="Rolling-${sd:type}" filePattern="${emmlogdir}/error-%i.log.gz">
	            <PatternLayout>
	              <pattern>%d %p %c{1.} [%t] %m%n</pattern>
	            </PatternLayout>
	            <SizeBasedTriggeringPolicy size="2 MB" />
	            <DirectWriteRolloverStrategy maxFiles="5"/>
	          </RollingFile>
	        </Route>
	        <Route ref="STDOUT" key="Audit"/>
	      </Routes>
	    </Routing>
	</Appenders>
	<Loggers>
		<Logger name="com.interprosoft.ezmaxmobile" level="ERROR">
			<AppenderRef ref="RoutingError" level="ERROR" />
		</Logger>
		<!-- Login-->
		<Logger name="com.interprosoft.ezmaxmobile.login" level="INFO">
            <AppenderRef ref="Routing" level="INFO"/>
        </Logger> 
		<!-- Offline Mode -->
		<Logger name="com.interprosoft.ezmaxmobile.offline" level="DEBUG">
			<AppenderRef ref="Routing"/>
		</Logger>
		<!-- <Root level="ERROR" additivity="false">
			<AppenderRef ref="STDOUT"/>
		</Root> -->
	</Loggers>
</Configuration>
