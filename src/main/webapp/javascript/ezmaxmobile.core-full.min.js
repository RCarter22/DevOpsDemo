/*! EZMaxMobile Core v5.2.1 */(function(h,j){var f=window.emm||{};f.core=f.core||{};f.i18n={};f.l10n={};f.core.EMMPromise=(function(n){var s="pending";var q;var m=null;function p(t){q=t;s="resolved";if(m){o(m)}}function o(u){if(s==="pending"){m=u;return}if(!u.onResolved){u.resolve(q);return}var t=u.onResolved(q);if(t){q=t}u.resolve(q)}this.then=function(t){return new f.core.EMMPromise(function(u){o({onResolved:t,resolve:u})})};n(p)});f.i18n.en_US={mobiscroll:{setText:"Set",cancelText:"Cancel",clearText:"Clear",selectedText:"Selected",dateFormat:"m/d/y",dateOrder:"mdy",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayText:"Day",hourText:"Hours",minuteText:"Minutes",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthText:"Month",secText:"Seconds",amText:"am",pmText:"pm",timeFormat:"h:ii A",timeWheels:"hiiA",yearText:"Year",nowText:"Now"},numeral:{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(n){var m=n%10;return(Math.floor(n%100/10)===1)?"th":(m===1)?"st":(m===2)?"nd":(m===3)?"rd":"th"},currency:{symbol:"$"}},PLURAL_CATEGORY:{ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"},locale:{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MM/dd/yyyy h:mm a",mediumDate:"MM/dd/yyyy",mediumTime:"h:mm a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,macFrac:0,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,macFrac:0,maxFrac:2,minFrac:2,minInt:1,negPre:"(\u00a4",negSuf:")",posPre:"\u00a4",posSuf:""}],id:"en_US",pluralCat:function(m){if(m==1){return PLURAL_CATEGORY.ONE}return PLURAL_CATEGORY.OTHER}}}};f.deviceSettings={type:null,photoEnabled:true,scanEnabled:true};f.setDefaults=function(m){f.ui.setDefaults(m)};f.getDefaults=function(){return f.ui.getDefaults()};f.stringify=function(m){return JSON.stringify(m,function(n,o){return(typeof o==="function")?""+o:o})};f.sendEventToDevice=function(m,n){if(navigator.userAgent.match(/Android/i)){j.emmiface[m](n)}if((navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&!navigator.userAgent.match(/Safari/i)){return n}return n};function k(){var n=window.location;if(n){var m=n.pathname.split("/");if(m.length>1){return n.protocol+"//"+n.host+"/"+m[1]+"/"}else{return n.protocol+"//"+n.host+"/"}}else{return""}}function l(){var n=/\blogin\b|\bdomain\b/gi;if(sessionStorage.fieldHash&&!n.test(window.location.href)){var m=sessionStorage.fieldHash;if(m&&m.length>0){sessionStorage.removeItem("fieldHash");h("html, body").animate({scrollTop:m},1)}}}f.core.login=function(s,q,n){var p={user:{username:s,password:q}};var o={enableTouchID:false};h.extend(o,n);var m="ezmaxlogin://main.action?";m+="loginurl=login/doLoginJson.action";m+="&jsonParam="+encodeURIComponent(JSON.stringify(p));if(!o.callback){m+="&jsCallBack=emm.offline.doLoginSuccessPost()"}else{m+="&jsCallBack="+o.callback}if(o.enableTouchID==true){f.core.rememberMe("remove");sessionStorage.isTouchIDOn="1"}else{sessionStorage.removeItem("logout")}delete o.callback;m+="&"+h.param(o);nativeUrl(m)};f.core.fingerPrintLogin=function(){f.core.touchID().then(function(m){h("#doLogin_username").val(m.username);h("#doLogin_password").val(m.password);h("#touchid").click();f.core.mainLogin()})};f.core.mainLogin=function(){var s=h("#doLogin_username").val(),t=h("#doLogin_password").val(),w=h("#rememberme").is(":checked"),o=h("#touchid").is(":checked");if(w==true){f.core.rememberMe("save",s,t)}else{f.core.rememberMe("remove")}if((navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&!navigator.userAgent.match(/Safari/i)){var p="eztouchidregister://?";var u="&enableTouchID="+o;var n="&jsonParam=";if(o==true){f.core.rememberMe("remove");sessionStorage.isTouchIDOn="1";var v={user:{username:s,password:t}};var m=p+u+n+encodeURIComponent(JSON.stringify(v));var q=document.createElement("IFRAME");q.setAttribute("src",m);document.documentElement.appendChild(q);q.parentNode.removeChild(q);q=null}else{var m=p+u+n;var q=document.createElement("IFRAME");q.setAttribute("src",m);document.documentElement.appendChild(q);q.parentNode.removeChild(q);q=null;sessionStorage.removeItem("logout")}}h("#myform").submit();return false};f.core.logout=function(){var m=sessionStorage.getItem("isTouchIDOn");if(f.nativeapp.isTouchIDEnabled()&&(m!==null&&m==="1")){sessionStorage.logout=true;sessionStorage.removeItem("isTouchIDOn")}window.location.href=f.util.getHostURL()+"login/logout.action"};f.core.isLoggedOut=function(){if(sessionStorage.getItem("logout")!==null){sessionStorage.removeItem("logout");return true}return false};f.core.touchID=function(){sleep(1);var m="_emm_"+new Date().getTime();return new f.core.EMMPromise(function(o){if(f.nativeapp.isTouchIDEnabled()){window[m]=function(p){o(p)};var n=m+"(EZJSONRESULT)";nativeUrl("eztouchid://?jsCallback="+n)}})};f.core.showKpi=function(u,o){var t="#66cc66",w="#e7e658",m="#cc6666";if(!u){return}if(u.length>1){var z=[],x=[],n=[];for(i=0;i<u.length;i++){var p=u[i].kpiValue,s=u[i].cautionMin,v=u[i].cautionMax;z.push(p);x.push(p);if(v<s){var A=s;s=v;v=A;A=null;if(p<s){n.push(m)}else{if(p>s&&p<v){n.push(w)}else{if(p>v){n.push(t)}}}}else{if(p<s){n.push(t)}else{if(p>s&&p<v){n.push(w)}else{if(p>v){n.push(m)}}}}}h(document.getElementById(o)).empty();plot1=h.jqplot(o,[z],{seriesDefaults:{renderer:h.jqplot.BarRenderer,pointLabels:{show:true},rendererOptions:{manualBarColor:true}},axes:{xaxis:{renderer:h.jqplot.CategoryAxisRenderer,ticks:x}},seriesColors:n,highlighter:{show:false}})}else{var q=u[0]||u||null;if(q==null){return}var p=q.kpiValue,s=q.cautionMin,v=q.cautionMax;var n=[t,w,m];if(v<s){var A=s;s=v;v=A;A=null;n=n.reverse()}if(v<q.kpiValue){if(q.kpiValue<10){q.maxInterval=Math.ceil(q.kpiValue/10)*10}else{if(v<100){q.maxInterval=Math.ceil(q.kpiValue/100)*100}else{if(v<1000){q.maxInterval=Math.ceil(q.kpiValue/1000)*1000}else{if(v<10000){q.maxInterval=Math.ceil(q.kpiValue/10000)*10000}}}}}else{if(v<10){q.maxInterval=Math.round(v/10)*10}else{if(q.cautionMax<100){q.maxInterval=Math.round(v/100)*100}else{if(q.cautionMax<1000){q.maxInterval=Math.round(v/1000)*1000}else{if(q.cautionMax<10000){q.maxInterval=Math.round(v/10000)*10000}}}}}if(q.maxInterval==0){if(v<10){q.maxInterval=Math.ceil(v/10)*10}else{if(v<100){q.maxInterval=Math.ceil(v/100)*100}else{if(v<1000){q.maxInterval=Math.ceil(v/1000)*1000}else{if(v<10000){q.maxInterval=Math.ceil(v/10000)*10000}}}}}var z=[q.kpiValue];h(document.getElementById(o)).empty();plot1=h.jqplot(o,[z],{seriesDefaults:{renderer:h.jqplot.MeterGaugeRenderer,rendererOptions:{labelHeightAdjust:-5,intervalOuterRadius:75,target:q.target,intervals:[s,v,q.maxInterval],intervalColors:n}},grid:{background:"transparent"}})}h(document.getElementById(o)).off("orientationchange").on("orientationchange",function(){f.core.showKpi(u,o)})};f.core.generateStartCenterHtml=function(m){var n="",t,s,p,o=false,u=true,q=true;if(m.length>0){h.each(m,function(){if(this.portletType=="FACONFIG"||this.portletType=="ACTIONSCFG"||this.portletType=="FAVORITE"||this.portletType=="QUICKINSERT"){return}if(this.appName==""){t=this.portletType;s=this.portletType}else{t=this.appName}if(t=="INBXCONFIG"){t="WORKFLOW"}else{if(t=="KPIGCONFIG"){t="STARTCENTER"}}o=false;h.each(supportedApps,function(){if(this[0]=="-STARTCENTER"){u=false}if(this[0]=="-WORKFLOW"){q=false}if(h.inArray(t,this)>=0||(t=="STARTCENTER"&&u)||(t=="WORKFLOW"&&q)){if(t=="STARTCENTER"){p="dashboard.png"}else{if(t=="WORKFLOW"){p="inbox.png"}else{p=this[2]||this[1]}}o=true;return false}});if(!o){return}if(t!="DIVIDER"){if(t=="BBOARD"){t=t.toLowerCase();n+='<li><a href="../'+t+"/"+t+'.action"><img src="../images/'+p+'" /><h3>'+this.title+'</h3><span class="ui-bubble">'+this.recordCount+"</span>"}else{if(t!="WORKFLOW"&&t!="STARTCENTER"){t=t.toLowerCase();n+='<li><a onclick="emm.core.goToList('+this.id+", '"+t+'\')"><img src="../images/'+p+'" /><h3>'+this.title+'</h3><span class="ui-bubble">'+this.recordCount+"</span>"}else{t=t.toLowerCase();s=s.toLowerCase();n+='<li><a href="../'+t+"/"+s+".action";if(this.id&&this.id>0){n+="?id="+this.id}n+='"><img src="../images/'+p+'" /><h3>'+this.title+"</h3>";if(this.portletType!="KPIGCONFIG"){n+='<span class="ui-bubble">'+this.recordCount+"</span>"}}}n+='<span class="ui-arrow"></span></a></li>'}})}return n};f.core.generateFavoriteAppsHtml=function(m){var n="",p,o=false;if(m.length>0){var q=[];h.each(m,function(s){if(this.portletType!="FAVORITE"&&this.portletType!="FACONFIG"){return}p=this.appName;o=false;h.each(supportedApps,function(){if(h.inArray(p,this)>=0){m[s].icon=this[2]||this[1];o=true;return false}});if(o||this.portletType=="FACONFIG"){q.push(this)}});h.each(q,function(s){if((this.portletType=="FACONFIG"&&((s+1)<q.length)&&q[s+1].portletType=="FAVORITE")){n+='<li class="ui-divider ui-divider-b">'+this.title+"</li>"}else{if(this.portletType=="FAVORITE"){this.appName=this.appName.toLowerCase();n+='<li><a href="../'+this.appName+'/main.action"><img src="../images/'+this.icon+'" /><h3>'+this.title+'</h3><span class="ui-arrow"></span></a></li>'}}n+='<span class="ui-arrow"></span></a></li>'})}return n};f.core.generateQuickInsertHtml=function(m){var n="",p,o=false;if(m.length>0){var q=[];h.each(m,function(s){if(this.portletType!="QUICKINSERT"&&this.portletType!="ACTIONSCFG"){return}p=this.appName;o=false;h.each(supportedApps,function(){if(h.inArray(p,this)>=0){m[s].icon=this[2]||this[1];o=true;return false}});if(o||this.portletType=="ACTIONSCFG"){q.push(this)}});h.each(q,function(s){if((this.portletType=="ACTIONSCFG"&&((s+1)<q.length)&&q[s+1].portletType=="QUICKINSERT")){n+='<li class="ui-divider ui-divider-b">'+this.title+"</li>"}else{if(this.portletType=="QUICKINSERT"){this.appName=this.appName.toLowerCase();n+='<li><a href="../'+this.appName+'/create.action"><img src="../images/'+this.icon+'" /><h3>'+this.title+'</h3><span class="ui-arrow"></span></a></li>'}}n+='<span class="ui-arrow"></span></a></li>'})}return n};f.core.generateMenuHtml=function(n){var p="",o,q=supportedApps.length,m=0;if(n.length>0){h.each(supportedApps,function(){m++;if(h.inArray(this[0],n)>=0){o=this[0];p+='<li><a href="../'+this[0].toLowerCase()+'"><img src="../images/'+this[2]+'" /><h3>'+this[1]+"</h3></a></li>"}else{if(this[0]=="DIVIDER"&&o!="DIVIDER"&&m!=q){o=this[0];p+='<li class="ui-divider">'+(this[1]||"")+"</li>"}}})}return p};f.core.assetDrilldown=function(p){p=h(p);var q=h('<form id="emm_assetDrilldown" target="_self">').attr("action",k()+"domain/assetdrilldown.action").attr("method","post"),u=p.data("field"),o=p.data("source"),t=p.data("display"),s="#"+u,n=window.location.href;if(h(s).attr("readonly")!=null){return}sessionStorage.fieldHash=window.pageYOffset;q.append(h('<input type="hidden">').attr("name","fieldName").val(u));q.append(h('<input type="hidden">').attr("name","lookupSourceField").val(o));q.append(h('<input type="hidden">').attr("name","dispFlds").val(t));q.append(h('<input type="hidden">').attr("name","currentAction").val(n));var m=h("body");h("#"+q.attr("id")).remove();m.append(q);q.submit()};f.core.locationDrilldown=function(p){p=h(p);var q=h('<form id="emm_locationDrilldown" target="_self">').attr("action",k()+"domain/locationdrilldown.action").attr("method","post"),u=p.data("field"),o=p.data("source"),t=p.data("display"),s="#"+u,n=window.location.href;if(h(s).attr("readonly")!=null){return}sessionStorage.fieldHash=window.pageYOffset;q.append(h('<input type="hidden">').attr("name","fieldName").val(u));q.append(h('<input type="hidden">').attr("name","lookupSourceField").val(o));q.append(h('<input type="hidden">').attr("name","dispFlds").val(t));q.append(h('<input type="hidden">').attr("name","currentAction").val(n));var m=h("body");h("#"+q.attr("id")).remove();m.append(q);q.submit()};f.core.classificationDrilldown=function(p){p=h(p);var q=h('<form id="emm_classificationDrilldown" target="_self">').attr("action",k()+"domain/classificationdrilldown.action").attr("method","post"),u=p.data("field"),o=p.data("source"),t=p.data("display"),s="#"+u,n=window.location.href;if(h(s).attr("readonly")!=null){return}sessionStorage.fieldHash=window.pageYOffset;q.append(h('<input type="hidden">').attr("name","fieldName").val(u));q.append(h('<input type="hidden">').attr("name","lookupSourceField").val(o));q.append(h('<input type="hidden">').attr("name","dispFlds").val(t));q.append(h('<input type="hidden">').attr("name","currentAction").val(n));var m=h("body");h("#"+q.attr("id")).remove();m.append(q);q.submit()};f.core.lookup=function(q){q=h(q);var p=h('<form id="emm_lookup" target="_self">').attr("action",k()+"domain/domain.action").attr("method","post"),z=q.data("field"),w=q.data("update"),v=q.data("source"),n=q.data("display"),o=q.data("search"),A=q.data("orderby"),y=q.data("mbo"),s=q.data("mboid"),u="#"+z,m=window.location.href;if(y&&!s){alert("Missing required 'data-mboid' attribute");return}if(h(u).attr("readonly")!=null){return}var x={};if(o){h.each(o.split(","),function(C,B){var D=q.attr("data-search-"+B);if(D){x[B]=D}})}sessionStorage.fieldHash=window.pageYOffset;p.append(h('<input type="hidden">').attr("name","fieldName").val(z));p.append(h('<input type="hidden">').attr("name","lookupSourceField").val(v));p.append(h('<input type="hidden">').attr("name","updateField").val(w));p.append(h('<input type="hidden">').attr("name","dispFlds").val(n));p.append(h('<input type="hidden">').attr("name","searchFlds").val(o));p.append(h('<input type="hidden">').attr("name","searchLookupFlds").val(JSON.stringify(x)));p.append(h('<input type="hidden">').attr("name","orderByFlds").val(A));p.append(h('<input type="hidden">').attr("name","currentAction").val(m));p.append(h('<input type="hidden">').attr("name","lookupMbo").val(y));p.append(h('<input type="hidden">').attr("name","lookupMboId").val(s));var t=h("body");h("#"+p.attr("id")).remove();t.append(p);p.submit()};f.core.setLookupValue=function(w,p,n,q,m,v,t,u){var o=h('<form id="emm_setlookupvalue" target="_self">').attr("action",k()+"domain/setLookUpValue.action").attr("method","post");o.append(h('<input type="hidden">').attr("name","field").val(w));o.append(h('<input type="hidden">').attr("name","updateField").val(v));o.append(h('<input type="hidden">').attr("name","value").val(p));o.append(h('<input type="hidden">').attr("name","currentAction").val(n));o.append(h('<input type="hidden">').attr("name","lookupMbo").val(q));o.append(h('<input type="hidden">').attr("name","lookupMboId").val(m));o.append(h('<input type="hidden">').attr("name","lookupSourceField").val(t));o.append(h('<input type="hidden">').attr("name","id").val(u));var s=h("body");h("#"+o.attr("id")).remove();s.append(o);o.submit()};f.core.glalookup=function(o){o=h(o);var q=h('<form id="emm_lookup" target="_self">').attr("action",k()+"domain/selectgl.action").attr("method","post"),t=o.data("field")||"GLACCOUNT",s="#"+t,p=h(s).val(),n=window.location.href;if(h(s).attr("readonly")!=null){return}sessionStorage.fieldHash=window.pageYOffset;q.append(h('<input type="hidden">').attr("name","glaccount").val(p));q.append(h('<input type="hidden">').attr("name","fieldName").val(t));q.append(h('<input type="hidden">').attr("name","glOrder").val("0"));q.append(h('<input type="hidden">').attr("name","currentAction").val(n));var m=h("body");h("#"+q.attr("id")).remove();m.append(q);q.submit()};f.core.toGLOrder=function(m){h("form input[name='pagination.currentPageNum']").val(1);h("form input[name='searchValue']").val("");h("form input[name='search']").val("");h('input[name="glaccount"]').val(h("#GLACCOUNT").text().replace(/\s*/g,""));h('input[name="glOrder"]').val(m);h('input[name="currentGL"]').val(h('input[name="glaccount"]').val());h("form").submit()};f.core.doSelectGLComp=function(n,o,m){h("#"+n).html(o);f.core.toGLOrder(m)};f.core.setGLA=function(n){var p=h('<form id="emm_setgla" target="_self">').attr("action",k()+"setLookUpValue.action").attr("method","post"),o=h("#GLACCOUNT").text().replace(/\s*/g,"");p.append(h('<input type="hidden">').attr("name","field").val(h('input[name="fieldName"]').val()));p.append(h('<input type="hidden">').attr("name","value").val(o));p.append(h('<input type="hidden">').attr("name","currentAction").val(n));var m=h("body");h("#"+p.attr("id")).remove();m.append(p);p.submit()};f.core.setValue=function(o){h(".ui-callout").slideUp(100).remove();o=h(o);if(o.attr("id")===undefined){alert("Missing ID attribute");return}var q=o.val(),s="",n;if(o.attr("contenteditable")=="true"){q=o.html()}if(o.attr("type")==="checkbox"){q=o.is(":checked")}h("input[onchange], textarea[onchange]").each(function(){var v=h(this);if(v.data("mbo")==o.data("mbo")){n=v.attr("id")||"";if(n&&n!=""&&n.indexOf(".")==-1){s+=(n+",")}}});h('[id][data-update="true"]').each(function(){n=h(this).attr("id")||"";if(n&&n!=""){s+=(n+",")}});var m=o.data("mbo")||"",u=o.data("field")||"",t=parseInt(o.attr("id"))||0,p={field:o.attr("id"),value:q,lookupMbo:m,lookupMboId:t,fieldName:u,updatedFlds:s,lookupSourceField:o.data("source")};if(o.attr("type")==="radio"){p.field=p.fieldName}sessionStorage._tempdialogscrollposition=window.pageYOffset;h.ajax({type:"POST",url:"setValue.action?ts="+h.now(),data:p,dataType:"json",success:function(B,A,H){var F=B,w="emm_callout_"+o.attr("id");h(".ui-callout").remove();if(F.ERROR){var E="#"+w;h(E).remove();h('li:has([id="'+o.attr("id")+'"])').before('<li id="'+w+'" class="ui-callout ui-message-a">'+F.ERROR+"</li>");o.val(F.DATA);var y=sessionStorage._tempdialogscrollposition||0;if(y>0){h("html, body").animate({scrollTop:y},1)}sessionStorage.removeItem("_tempdialogscrollposition")}else{var E="#"+w;h(E).remove();o.val(F.DATA);if(F.WARNING){var E="#"+w;h(E).remove();h('li:has([id="'+o.attr("id")+'"])').before('<li id="'+w+'" class="ui-callout ui-message-b">'+F.WARNING+"</li>")}if(F.UPDATEDFLDS){var x=F.UPDATEDFLDS;for(var v in x){var G=h("#"+v);if(G.is(":checkbox")){if(x[v]==="Y"){if(!G.is(":checked")){G.click()}}if(x[v]==="N"){if(G.is(":checked")){G.click()}}}else{if(v.indexOf(".")>-1){G=h('[id="'+v+'"]');G.text(x[v])}else{G.val(x[v])}}G.removeAttr("data-updated")}h('[data-htmleditor="true"]').trigger("updatehtml");if(x.SAVE==1){var C=new RegExp("(['\"](.*)['\"])");var D=h('a[onclick^="emm.core.save"], a.ui-btn-save').addClass("ui-btn-c").attr("onclick");if(C.test(D)){var z=C.exec(D)[2];h("body").trigger("save",z)}else{h("body").trigger("save")}}}}h(".ui-statusbar").slideUp(function(){h(this).html("");h(this).show()})},error:function(x,v,w){h('a[onclick^="emm.core.save"]').removeData("disabled");if(w!=""){alert(w)}}})};f.core.setListValue=function(o){h(".ui-callout").slideUp(100).remove();o=h(o);if(o.attr("id")===undefined){alert("Missing ID attribute");return}var q=o.val(),s="",n;if(o.attr("contenteditable")=="true"){q=o.html()}if(o.attr("type")==="checkbox"){q=o.is(":checked")}var t=parseInt(o.attr("id"))||0;h('input[onchange][id^="'+t+'_"]').each(function(){element=h(this);n=element.attr("data-field")||element.data("field")||element.attr("id")||"";if(n&&n!=""&&n.indexOf(".")==-1){n=n.replace(t+"_","");s+=(n+",")}});var m=o.data("mbo")||"",u=o.data("field")||"",p={field:u,value:q,lookupMbo:m,lookupMboId:t,updatedFlds:s};if(o.attr("type")==="radio"){p.field=p.fieldName}sessionStorage._tempdialogscrollposition=window.pageYOffset;h.ajax({type:"POST",url:"setListValue.action?ts="+h.now(),data:p,dataType:"json",success:function(B,A,G){var F=B,w="emm_callout_"+o.attr("id");h(".ui-callout").remove();if(F.ERROR){var E="#"+w;h(E).remove();h('li:has([id="'+o.attr("id")+'"])').before('<li id="'+w+'" class="ui-callout ui-message-a">'+F.ERROR+"</li>");o.val(F.DATA);var y=sessionStorage._tempdialogscrollposition||0;if(y>0){h("html, body").animate({scrollTop:y},1)}sessionStorage.removeItem("_tempdialogscrollposition")}else{var E="#"+w;h(E).remove();o.val(F.DATA);if(F.WARNING){var E="#"+w;h(E).remove();h('li:has([id="'+o.attr("id")+'"])').before('<li id="'+w+'" class="ui-callout ui-message-b">'+F.WARNING+"</li>")}if(F.UPDATEDFLDS){var x=F.UPDATEDFLDS;for(var v in x){h("#"+t+"_"+v).val(x[v])}if(x.SAVE==1){var C=new RegExp("(['\"](.*)['\"])");var D=h('a[onclick^="emm.core.save"], a.ui-btn-save').addClass("ui-btn-c").attr("onclick");if(C.test(D)){var z=C.exec(D)[2];h("body").trigger("save",z)}else{h("body").trigger("save")}}}}h(".ui-statusbar").slideUp(function(){h(this).html("");h(this).show()})},error:function(x,v,w){h('a[onclick^="emm.core.save"]').removeData("disabled");if(w!=""){alert(w)}}})};f.core.setQbeValue=function(o){h(".ui-callout").slideUp(100).remove();o=h(o);if(o.attr("id")===undefined){alert("Missing ID attribute");return}var q=o.val(),s="",n;if(o.attr("contenteditable")=="true"){q=o.html()}if(o.attr("type")==="checkbox"){q=o.is(":checked")}var m=o.data("mbo")||"",u=o.data("field")||"",t=parseInt(o.attr("id"))||0,p={field:o.attr("id"),value:q,lookupMbo:m,lookupMboId:t,fieldName:u,updatedFlds:s};if(o.attr("type")==="radio"){p.field=p.fieldName}sessionStorage._tempdialogscrollposition=window.pageYOffset;h.ajax({type:"POST",url:"setQbeValue.action?ts="+h.now(),data:p,success:function(A,z,D){var C=h.parseJSON(A),w="emm_callout_"+o.attr("id");h(".ui-callout").remove();if(C.ERROR){var B="#"+w;h(B).remove();h('li:has([id="'+o.attr("id")+'"])').before('<li id="'+w+'" class="ui-callout ui-message-a">'+C.ERROR+"</li>");o.val(C.DATA);var y=sessionStorage._tempdialogscrollposition||0;if(y>0){h("html, body").animate({scrollTop:y},1)}sessionStorage.removeItem("_tempdialogscrollposition")}else{var B="#"+w;h(B).remove();o.val(C.DATA);if(C.UPDATEDFLDS){var x=C.UPDATEDFLDS;for(var v in x){h("#"+v).val(x[v])}}}h(".ui-statusbar").slideUp(function(){h(this).html("");h(this).show()})},error:function(x,v,w){if(w!=""){alert(w)}}})};f.core.toggleSelection=function(o){h(".ui-callout").slideUp(100).remove();o=h(o);if(o.data("id")===undefined){alert("Missing 'data-id' attribute");return}var q=o.val(),s="",n;if(o.attr("contenteditable")=="true"){q=o.html()}if(o.attr("type")==="checkbox"){q=o.is(":checked")}var m=o.data("mbo")||"",u=o.data("field")||"",t=parseInt(o.data("id"))||0,p={field:u,value:q,lookupMbo:m,lookupMboId:t};if(o.attr("type")==="radio"){p.field=p.fieldName}sessionStorage._tempdialogscrollposition=window.pageYOffset;h.ajax({type:"POST",url:"toggleSelection.action?ts="+h.now(),data:p,success:function(B,A,G){var F=h.parseJSON(B),w="emm_callout_"+o.attr("id");h(".ui-callout").remove();if(F.ERROR){var E="#"+w;h(E).remove();h('li:has([id="'+o.attr("id")+'"])').before('<li id="'+w+'" class="ui-callout ui-message-a">'+F.ERROR+"</li>");o.val(F.DATA);var y=sessionStorage._tempdialogscrollposition||0;if(y>0){h("html, body").animate({scrollTop:y},1)}sessionStorage.removeItem("_tempdialogscrollposition")}else{var E="#"+w;h(E).remove();o.val(F.DATA);if(h(o).hasClass("ui-checklistbutton")){h(o).toggleClass("ui-checklistbutton-on").toggleClass("ui-checklistbutton-off")}else{h(o).next().toggleClass("ui-checklistbutton-on").toggleClass("ui-checklistbutton-off")}if(F.UPDATEDFLDS){var x=F.UPDATEDFLDS;for(var v in x){h("#"+v).val(x[v])}if(x.SAVE==1){var C=new RegExp("(['\"](.*)['\"])");var D=h('a[onclick^="emm.core.save"], a.ui-btn-save').addClass("ui-btn-c").attr("onclick");if(C.test(D)){var z=C.exec(D)[2];h("body").trigger("save",z)}else{h("body").trigger("save")}}}}},error:function(x,v,w){h('a[onclick^="emm.core.save"]').removeData("disabled");if(w!=""){alert(w)}}})};f.core.deleteAttachment=function(n,m){if(!String.isNullOrEmpty(n)&&!String.isNullOrEmpty(m)){f.util.confirm({message:getText("EMMGB1011I",null,"Confirm delete?"),yes:function(){var q=h('<form id="emm_deleteAttachment" target="_self">').attr("action",f.util.getHostURL()+"doclinks/deleteattachment.action").attr("method","post");var p=window.location.href;q.append(h('<input type="hidden">').attr("name","id").val(n));q.append(h('<input type="hidden">').attr("name","uniqueId").val(m));q.append(h('<input type="hidden">').attr("name","currentAction").val(p));var o=h("body");h("#"+q.attr("id")).remove();o.append(q);q.submit()}})}else{throw Error("Invalid input parameters")}};f.core.toggleCheck=function(o){h(".ui-callout").slideUp(100).remove();o=h(o);if(o.data("id")===undefined){alert("Missing 'data-id' attribute");return}if(o.data("field")===undefined){alert("Missing 'data-field' attribute");return}var q=o.val(),s="",n;if(o.attr("contenteditable")=="true"){q=o.html()}if(o.attr("type")==="checkbox"){q=o.is(":checked")}var m=o.data("mbo")||"",u=o.data("field")||"",t=parseInt(o.data("id"))||0,p={field:u,value:q,lookupMbo:m,lookupMboId:t};if(o.attr("type")==="radio"){p.field=p.fieldName}sessionStorage._tempdialogscrollposition=window.pageYOffset;h.ajax({type:"POST",url:"toggleCheck.action?ts="+h.now(),data:p,success:function(B,A,G){var F=h.parseJSON(B),w="emm_callout_"+o.attr("id");h(".ui-callout").remove();if(F.ERROR){var E="#"+w;h(E).remove();h('li:has([id="'+o.attr("id")+'"])').before('<li id="'+w+'" class="ui-callout ui-message-a">'+F.ERROR+"</li>");o.val(F.DATA);var y=sessionStorage._tempdialogscrollposition||0;if(y>0){h("html, body").animate({scrollTop:y},1)}sessionStorage.removeItem("_tempdialogscrollposition")}else{var E="#"+w;h(E).remove();o.val(F.DATA);if(h(o).hasClass("ui-checklistbutton")){h(o).toggleClass("ui-checklistbutton-on").toggleClass("ui-checklistbutton-off")}else{h(o).next().toggleClass("ui-checklistbutton-on").toggleClass("ui-checklistbutton-off")}if(F.UPDATEDFLDS){var x=F.UPDATEDFLDS;for(var v in x){h("#"+v).val(x[v])}if(x.SAVE==1){var C=new RegExp("(['\"](.*)['\"])");var D=h('a[onclick^="emm.core.save"], a.ui-btn-save').addClass("ui-btn-c").attr("onclick");if(C.test(D)){var z=C.exec(D)[2];h("body").trigger("save",z)}else{h("body").trigger("save")}}}}},error:function(x,v,w){h('a[onclick^="emm.core.save"]').removeData("disabled");if(w!=""){alert(w)}}})};f.core.save=function(n){var m=h("[data-updated]")[0];if(m===undefined){a(null,n)}else{h("body").off("save").on("save",a);m=h(m);if(m.attr("contenteditable")!==undefined){m.blur()}else{m.change()}}};function a(n,m){h("body").off("save");f.core.checkESig("SAVE").pass(function(){var q="save.action";if(!String.isNullOrEmpty(m)){q=m}var p=h('<form id="emm_save" target="_self">').attr("action",q).attr("method","post");p.append(h('<input type="hidden">').attr("name","currentAction").val(window.location));var o=h("body");h("#"+p.attr("id")).remove();o.append(p);p.submit()})}var g=null;f.core.checkESig=function(m){if(!g||g.state()=="resolved"){try{g=f.core.eSigNeeded(m);g._pass=[];g.pass=function(o){g._pass.push(o)};g.runPass=function(){if(g._pass[0]){g._pass[0]()}};g.done(function(o){if(o&&o.ESIGREQUIRED&&o.ESIGREQUIRED===true){h("body").off("esignSuccess").on("esignSuccess",function(){g.runPass()});f.util.esign({userId:o.USER})}else{g.runPass()}});g.fail(function(o){if(g&&g.status===404){g.runPass()}})}catch(n){alert(n)}}return g};f.core.eSigNeeded=function(n){if(!String.isNullOrEmpty(n)){var m=f.ui.getDefaults();if(m.eSigEnabled===true){return h.ajax({type:"POST",url:"eSigNeeded.action",dataType:"json",data:{newStatus:n}})}else{var o=h.Deferred();setTimeout(function(){o.resolve({ESIGREQUIRED:false})},50);return o.promise()}}else{throw"Invalid Event Name"}};f.core.changeStatus=function(){f.core.checkESig("SAVE").pass(function(){var o="changestatus.action";var n=h('<form id="emm_changestatus" target="_self">').attr("action",o).attr("method","post");n.append(h('<input type="hidden">').attr("name","currentAction").val(window.location));var m=h("body");h("#"+n.attr("id")).remove();m.append(n);n.submit()})};f.core.changeDefInsertSite=function(){var o="changedefinsertsite.action";var n=h('<form id="emm_changedefinsertsite" target="_self">').attr("action",o).attr("method","post");n.append(h('<input type="hidden">').attr("name","currentAction").val(window.location));var m=h("body");h("#"+n.attr("id")).remove();m.append(n);n.submit()};f.core.doStartWorkflow=function(m){h.ajax({type:"POST",url:"../workflow/startworkflow.action",dataType:"json",data:{wfprocess:m},beforeSend:function(){f.ui.loader.show()}}).always(function(){f.ui.loader.hide()}).then(function(n){if(n&&n.SUCCESS===true){window.location.reload()}else{if(n&&n.ERROR){d.setMessage(n.ERROR,EMMConstants.ERROR)}}})};f.core.startWorkflow=function(){h.ajax({type:"POST",url:"../workflow/getAllActiveWFProcess.action",dataType:"json",beforeSend:function(){f.ui.loader.show()}}).always(function(){f.ui.loader.hide()}).then(function(m){if(m&&m.length>1){f.util.multiWorkflow({wfOptions:m})}else{if(m[0]&&!String.isNullOrEmpty(m[0].PROCESSNAME)){f.core.doStartWorkflow(m[0].PROCESSNAME)}}})};f.core.doStopWorkflow=function(m){h.ajax({type:"POST",url:"../workflow/stopworkflow.action",dataType:"json",data:{wfprocess:m},beforeSend:function(){f.ui.loader.show()}}).always(function(){f.ui.loader.hide()}).then(function(n){if(n&&n.SUCCESS===true){window.location.reload()}else{if(n&&n.ERROR){d.setMessage(n.ERROR,EMMConstants.ERROR)}}})};f.core.stopWorkflow=function(){h.ajax({type:"POST",url:"../workflow/getAllActiveWFInstance.action",dataType:"json",beforeSend:function(){f.ui.loader.show()}}).always(function(){f.ui.loader.hide()}).then(function(m){if(m&&m.length>1){f.util.stopMultiWorkflow({wfOptions:m})}else{if(m[0]&&!String.isNullOrEmpty(m[0].PROCESSNAME)){f.core.doStopWorkflow(m[0].PROCESSNAME)}}})};f.core.routeWorkflow=function(){f.core.checkESig("SAVE").pass(function(){var o="../workflow/wfaction.action";var n=h('<form id="emm_workflow" target="_self">').attr("action",o).attr("method","post");n.append(h('<input type="hidden">').attr("name","currentAction").val(window.location));var m=h("body");h("#"+n.attr("id")).remove();m.append(n);n.submit()})};f.core.goToList=function(o,p){if(!p){return}var n=h('<form id="emm_gotolist" target="_self">').attr("action",k()+"setquery.action").attr("method","post");n.append(h('<input type="hidden">').attr("name","id").val(o));n.append(h('<input type="hidden">').attr("name","appAction").val(p));var m=h("body");h("#"+n.attr("id")).remove();m.append(n);n.submit()};f.core.moveNext=function(m){localStorage.removeItem("tempUrl");window.location.href=m};f.core.movePrev=f.core.moveNext;f.core.goToPage=function(q){f.ui.clearScrollPosition();var o=h("[data-sortorder]"),n=window.location.href;var p=h('<form id="emm_pagination" target="_self">').attr("method","post");if(n.indexOf("pagination.currentPageNum=")>-1){n=n.substring(0,n.indexOf("pagination.currentPageNum="));p.attr("action",n)}var s=window.location.search;if(s.indexOf("fieldName")==-1){p.append(h('<input type="hidden">').attr("name","fieldName").val(h('[name="fieldName"]').val()))}if(s.indexOf("updateField")==-1){p.append(h('<input type="hidden">').attr("name","updateField").val(h('[name="updateField"]').val()))}if(s.indexOf("searchFlds")==-1){p.append(h('<input type="hidden">').attr("name","searchFlds").val(h('[name="searchFlds"]').val()))}if(s.indexOf("searchLookupFlds")==-1){p.append(h('<input type="hidden">').attr("name","searchLookupFlds").val(h('[name="searchLookupFlds"]').val()))}if(s.indexOf("search")==-1){p.append(h('<input type="hidden">').attr("name","search").val(h('[name="search"]').val()))}if(s.indexOf("lookupSourceField")==-1){p.append(h('<input type="hidden">').attr("name","lookupSourceField").val(h('[name="lookupSourceField"]').val()))}if(s.indexOf("dispFlds")==-1){p.append(h('<input type="hidden">').attr("name","dispFlds").val(h('[name="dispFlds"]').val()))}if(s.indexOf("currentAction")==-1){p.append(h('<input type="hidden">').attr("name","currentAction").val(h('[name="currentAction"]').val()))}if(s.indexOf("lookupMbo")==-1){p.append(h('<input type="hidden">').attr("name","lookupMbo").val(h('[name="lookupMbo"]').val()))}if(s.indexOf("lookupMboId")==-1){p.append(h('<input type="hidden">').attr("name","lookupMboId").val(h('[name="lookupMboId"]').val()))}if(s.indexOf("glaccount")==-1){p.append(h('<input type="hidden">').attr("name","glaccount").val(h('[name="glaccount"]').val()))}if(s.indexOf("glOrder")==-1){p.append(h('<input type="hidden">').attr("name","glOrder").val(h('[name="glOrder"]').val()))}if(s.indexOf("currentGL")==-1){p.append(h('<input type="hidden">').attr("name","currentGL").val(h('[name="currentGL"]').val()))}p.append(h('<input type="hidden">').attr("name","pagination.currentPageNum").val(q));p.append(h('<input type="hidden">').attr("name","pagination.sortBy").val(h('[name="pagination.sortBy"]').val()));p.append(h('<input type="hidden">').attr("name","pagination.sortOrder").val(o.data("sortorder")));h.each(h('#emm_domainform #emm_filterform input[type="text"]'),function(t,u){u=h(u);if(s.indexOf(u.attr("name"))==-1){p.append(h('<input type="hidden">').attr("name",u.attr("name")).val(u.val()))}});var m=h("body");h("#"+p.attr("id")).remove();m.append(p);p.submit()};f.core.changeSortBy=function(){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var q=window.location.origin+window.location.pathname,o=window.location.search,t=["[?&]pagination.sortBy=[^&]*","[?&]pagination.sortOrder=[^&]*"];for(i=0;i<t.length;i++){reg=RegExp(t[i],"i");if(reg.test(o)==true){o=o.replace(reg.exec(o)[0],"")}}q+=o;var n=h("[data-sortorder]");var p=h('<form id="emm_sort" target="_self">').attr("method","post").attr("action",q);p.append(h('<input type="hidden">').attr("name","pagination.sortBy").val(h('[name="pagination.sortBy"]').val()));p.append(h('<input type="hidden">').attr("name","pagination.sortOrder").val(n.data("sortorder")));var m=h("body");h("#"+p.attr("id")).remove();m.append(p);p.submit()};f.core.changeSortOrder=function(){if(h('[name="pagination.sortBy"]').val()!=""){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var q=window.location.origin+window.location.pathname,o=window.location.search,t=["[?&]pagination.sortBy=[^&]*","[?&]pagination.sortOrder=[^&]*"];for(i=0;i<t.length;i++){reg=RegExp(t[i],"i");if(reg.test(o)==true){o=o.replace(reg.exec(o)[0],"")}}q+=o;var n=h("[data-sortorder]").data("sortorder")=="DESC"?"ASC":"DESC";var p=h('<form id="emm_sort" target="_self">').attr("method","post").attr("action",q);p.append(h('<input type="hidden">').attr("name","pagination.sortBy").val(h('[name="pagination.sortBy"]').val()));p.append(h('<input type="hidden">').attr("name","pagination.sortOrder").val(n));var m=h("body");h("#"+p.attr("id")).remove();m.append(p);p.submit()}};f.core.setOwnerValue=function(q,p,o){o=o.substring(0,o.lastIndexOf("/"));var n=h('<form id="emm_setownervalue" target="_self">').attr("action",o+"/doselectowner.action").attr("method","post");n.append(h('<input type="hidden">').attr("name","field").val(q));n.append(h('<input type="hidden">').attr("name","value").val(p));var m=h("body");h("#"+n.attr("id")).remove();m.append(n);n.submit()};f.core.selectOwner=function(q){q=h(q);var p=h('<form id="emm_selectowner" target="_self">').attr("action",k()+"domain/selectowner.action").attr("method","post"),x=q.data("field"),w=q.data("update"),v=q.data("source"),n=q.data("display"),o=q.data("search"),y=q.data("mbo"),s=q.data("mboid"),u="#"+x,m=window.location.href;if(y&&!s){alert("Missing required 'data-mboid' attribute");return}if(h(u).attr("readonly")!=null){return}sessionStorage.fieldHash=window.pageYOffset;if(m.indexOf("domain")!==-1){m=q.data("currentaction")}p.append(h('<input type="hidden">').attr("name","fieldName").val(x));p.append(h('<input type="hidden">').attr("name","lookupSourceField").val(v));p.append(h('<input type="hidden">').attr("name","updateField").val(w));p.append(h('<input type="hidden">').attr("name","dispFlds").val(n));p.append(h('<input type="hidden">').attr("name","searchFlds").val(o));p.append(h('<input type="hidden">').attr("name","currentAction").val(m));p.append(h('<input type="hidden">').attr("name","lookupMbo").val(y));p.append(h('<input type="hidden">').attr("name","lookupMboId").val(s));var t=h("body");h("#"+p.attr("id")).remove();t.append(p);p.submit()};f.core.sendCommLog=function(){var n=h('<form id="emm_commlog" target="_self">').attr("action","sendcommlog.action").attr("method","post");n.append(h('<input type="hidden">').attr("name","currentAction").val(window.location));var m=h("body");h("#"+n.attr("id")).remove();m.append(n);n.submit()};f.core.addModifyImage=function(){var m=new URI();m.protocol("ezimage").filename("addmodifyimage.action");nativeUrl(m.toString())};f.core.ezphoto=function(o,q,p){if(!o){return false}if(o.indexOf("ezphoto")!=0){return false}if(String.isNullOrEmpty(q)){q={}}h.extend(q,{docType:h('[name="doctype"]:checked').val()});if(!String.isNullOrEmpty(q)){o+="&"+h.param(q)}if(String.isNullOrEmpty(p)){p=true}if(p===true){var n=new URI(o);var m=new URI(window.location);n.hostname(m.hostname());if(m.port()!==""){n.port(m.port())}nativeUrl(n.toString())}else{nativeUrl(o)}};f.core.ezscan=function(o){o=h(o);var s=window.location||"",p=s.pathname.split("/"),m="",n=o.data("search"),q=o.data("lib");if(p.length>1){m="ezscan://"+s.host+"/"+p[1]+"/"+p[2]+"/doquicksearch.action?";m+="search=EZSCANVALUE&searchFlds="+n;if(q){m+="&lib="+q}nativeUrl(m)}};f.core.ezgps=function(n){var m="&jsCallBack=";ezgpsUrl="ezgps://?";if(n!==undefined&&n!==null&&n!==""){if(n.indexOf("(")>-1){n=n.substring(0,n.indexOf("("))}ezgpsUrl+=m+n+"(EZJSONRESULT)"}nativeUrl(ezgpsUrl)};f.core.ezlookup=function(){ezscanUrl="ezformscan://?cb=(function(val){$('input[name=\"search\"]').val(val);$('form')[0].submit();})('EZSCANVALUE');";nativeUrl(ezscanUrl)};f.core.ezformscan=function(n){n=n||null;if(n!=null&&n.length>0){if(n.indexOf("(")===-1){n+="('EZSCANVALUE')"}ezscanUrl="ezformscan://?cb="+n;nativeUrl(ezscanUrl)}else{sleep(1);var m="_emm_"+new Date().getTime();return new f.core.EMMPromise(function(o){window[m]=function(p){o(p)};ezscanUrl="ezformscan://?cb="+m+"('EZSCANVALUE')";nativeUrl(ezscanUrl)})}};var b={save:function(m,n){if(!m||!n){return}if(typeof(Storage)!=="undefined"){localStorage._un=m;localStorage._pwd=n}},restore:function(){if(typeof(Storage)!=="undefined"&&localStorage._un&&localStorage._pwd){var m=h("#doLogin_username"),n=h("#doLogin_password");if(m!=undefined&&localStorage._un!=undefined){m.val(localStorage._un);n.val(localStorage._pwd);h("#rememberme").trigger("click")}}},remove:function(){if(typeof(Storage)!=="undefined"){localStorage.removeItem("_un");localStorage.removeItem("_pwd");return}}};f.core.rememberMe=function(m){if(b[m]){return b[m].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof m==="object"||!m){return b.init.apply(this,arguments)}else{h.error("Method "+m+" does not exist on emm.core.rememberMe")}}};function e(){var n=/\blogin\b/gi,m=/startcenter[^]main/gi,o=window.location.href;if(n.test(o)==true){localStorage.removeItem("tempUrl")}if(m.test(o)==true){localStorage.removeItem("history")}var p=localStorage?localStorage.history||null:null;if(p){p=h.parseJSON(p)}else{p=[]}return p}f.core.removeThisUrlFromHistory=function(){localStorage.removeItem("tempUrl")};f.core.back=function(n){if(isNaN(parseInt(n))===true){n=1}var o=e();if(o.length>-1){var m=o[o.length-n]?o[o.length-n].url:undefined;if(m!=undefined){while(n--!=0){o.pop()}localStorage.history=JSON.stringify(o);localStorage.removeItem("tempUrl");window.location=m}else{window.location=k()+"main.action"}}else{window.location=k()+"main.action"}return false};f.core.checkHistory=function(){var y=function(L){var p=-1,M=false;if(L){L=L.removeQueryParam("pagination.currentPageNum, pagination.sortOrder, pagination.sortBy, ts");var K=h.grep(JSON.parse(localStorage.history),function(O,N){if(!M&&O.url&&O.url.removeQueryParam("pagination.currentPageNum, pagination.sortOrder, pagination.sortBy, ts")==L){M=true;p=N}})}return p};var s=function(p){if(h.isNumeric(p)&&p>-1){var K=JSON.parse(localStorage.history).splice(0,p);localStorage.history=JSON.stringify(K);return true}return false};if(h("[emm-nonavigation]").length==0){var z=e(),q=window.location.href,E=z[z.length-1]?z[z.length-1].url:null,t=localStorage.tempUrl||"",w=h(".ui-header:visible .ui-title").text().trim()||document.title,J=h(".ui-navbar a[href]"),G=h("#pagination_currentPageNum"),D=h("[data-sortorder]"),C=h('select[name="pagination.sortBy"]'),F=true,m=/\blogin\b|\bdomain\b|\bworkflow(?!\/inbxconfig)\b/gi;var o=window.location.search.match(new RegExp("[^&?]*?=[^&?]*","g"));if(t){for(var H=0;H<J.length;H++){var I=h(J[H]).attr("href")||null;if(I&&t.indexOf(I)>-1){F=false}}if(t.indexOf(window.location.pathname)>-1&&o&&o.length>0){var n=false;for(var H=0;H<o.length;H++){var B=o[H];if(B&&B.indexOf("ts=")>-1&&o.length==1){n=true;break}if(t.indexOf(B)>-1){n=true}else{n=false}}F=!n}}var x=q;if(G.length==1&&G.val()!=""){if(q.indexOf("pagination.currentPageNum=")>-1){q=q.substring(0,q.indexOf("pagination.currentPageNum="))}if(q.indexOf("?")==-1){q+="?"}else{q+="&"}q+="pagination.currentPageNum="+G.val();if(C!==undefined&&C.length>0){if(D.length==1&&q.indexOf("pagination.sortOrder")==-1){q+="&pagination.sortOrder="+D.data("sortorder")}if(q.indexOf("pagination.sortBy")==-1){q+="&pagination.sortBy="+C.data("value")}}q=q.replace("&&","&")}else{if(C!==undefined&&C.length>0){if(q.indexOf("?")==-1){q+="?"}else{q+="&"}if(D.length==1&&q.indexOf("pagination.sortOrder")==-1){q+="&pagination.sortOrder="+D.data("sortorder")}if(q.indexOf("pagination.sortBy")==-1){q+="&pagination.sortBy="+C.data("value")}q=q.replace("&&","&")}}if(z.length==0){if(m.test(q)==false){z.push({url:q,title:(h(".ui-header:visible .ui-title").text()||document.title)});localStorage.history=JSON.stringify(z)}}else{if(s(y(q))){}else{if(z.length>0&&E!=q&&x!=E&&q!==undefined){if(F&&t&&E!=t&&t!=q&&m.test(t)==false){var A=q.match(t);var u=new URI(t);var v=new URI(q);if((A&&A.length>0&&/\b\\?search\b/gi.test(q))||(/\b\\?search\b/gi.test(q)&&v.pathname()===u.pathname())){t=q}else{if(/\b\\?search\b|\bdomain\b/gi.test(t)==true&&/\b\\?search\b|\bdomain\b/gi.test(q)==true){t=q}else{if(t.substring(0,t.indexOf("?"))==q.substring(0,q.indexOf("?"))&&/\bpagination.currentPageNum\b/gi.test(q)==true&&/\bpagination.currentPageNum\b/gi.test(t)==true){t=q}else{if(/\bpagination.currentPageNum\b/gi.test(t)&&h('[onclick^="emm.core.back"]').length==0){t=t.substring(0,t.indexOf("&pagination.currentPageNum="));z.push({url:t,title:localStorage.tempDocTitle});localStorage.history=JSON.stringify(z)}else{z.push({url:t,title:localStorage.tempDocTitle});localStorage.history=JSON.stringify(z)}}}}}}else{if(z.length>0&&(E==q||E==x)){z.pop();localStorage.history=JSON.stringify(z)}}}}if(m.test(q)==false){localStorage.tempUrl=q;localStorage.tempDocTitle=w}}};f.core.init=function(){h("div[contenteditable=true]").focus(function(){var n=h(this),m=n.html();n.off("blur").blur(function(){if(m!=h(this).html()){f.core.setValue(this)}})});h('[onchange^="emm.core.setValue"],[onchange^="emm.core.setListValue"],[onchange^="emm.core.setQbeValue"]').each(function(){var m=this;h(this).on("keyup",function(){h(m).attr("data-updated",true)})});f.core.checkHistory();l()};window.emm=f;if(typeof(angular)!=="undefined"){var c=angular.module("emm",["pascalprecht.translate"]);window.module=c;angular.module("ngLocale",[],["$provide",function(m){if(EMMServer.DB.getUserInfo().hasOwnProperty("username")){var n=f.i18n[EMMServer.DB.getUserInfo().locale];if(!String.isNullOrEmpty(n)&&!String.isNullOrEmpty(n.locale)){m.value("$locale",n.locale)}else{n=f.i18n.en_US;m.value("$locale",n.locale)}}}]);angular.module("emm").config(["$translateProvider",function(n){h.each(f.l10n,function(p,o){n.translations(p,o)});n.preferredLanguage("EN");if(EMMServer.DB.getUserInfo().hasOwnProperty("username")){var m=EMMServer.DB.getUserInfo().language;if(f.l10n[m]){n.preferredLanguage(m.toUpperCase())}}}]);angular.module("emm").config(["$compileProvider",function(m){m.imgSrcSanitizationWhitelist(/^\s*(file|ms-local-stream):/)}]);angular.module("emm").directive("dateFormat",["$filter","$compile",function(n,m){return{restrict:"A",require:"ngModel",link:function(u,s,p,o){var t=(p.dateFormat||"date").toLowerCase();var q=function(v){if(!String.isNullOrEmpty(v)){var x="short";if(t=="date"){x="shortDate"}else{if(t=="time"){x="shortTime"}else{if(t=="datetime"){x="short"}}}var w=n("date")((""+v).toDate(),x);return w}return v};o.$formatters.push(q)}}}]);angular.module("emm").directive("hoursFormat",function(){return{restrict:"A",require:"ngModel",link:function(p,o,n,m){var q=function(s){if(s!=undefined&&s!=null&&(""+s)!=""){return(""+s).toTime()}return s};m.$formatters.push(q);m.$parsers.push(q)}}});angular.module("emm").directive("datepicker",["$compile",function(m){return{restrict:"E",link:function(p,o,n){var q='<input disabled="true" id="'+n.id+'" type="text" ng-model="'+n.ngModel+'" date-format="'+n.dateFormat+'" ng-blur="'+n.ngChange+'" ng-required="'+n.ngRequired+'" ng-readonly="'+n.ngReadonly+'"/><a data-input="'+n.id+'" data-datetype="'+n.dateFormat+'" data-control="datepicker" class="ui-datepicker"></a>';o.replaceWith(m(q)(p))}}}]);angular.module("emm").directive("control",["$parse",function(m){return{restrict:"A",link:function(q,p,o){if(o.control==="spinner"){var n=m(o.ngModel);h(p).change(function(){q.$apply(function(){n.assign(q,h(p).val());q.$eval(o.ngChange)})})}if(o.control==="datepicker"){if(o.input){var s=h("#"+o.input);if(s){var n=m(s.attr("ng-model"));s.change(function(){n.assign(q,h(s).val());q.$eval(o.ngChange)})}}}if(o.type==="checkbox"){var n=m(o.ngModel);h(p).change(function(){q.$apply(function(){n.assign(q,h(p).is(":checked")?1:0);q.$eval(o.ngChange)})})}}}}]);angular.module("emm").directive("htmleditor",[function(){return{restrict:"A",require:"?ngModel",link:function(o,n,m,p){if(!p){return}h(function(){var q=h(n).cleditor()[0];q.change(function(){o.$apply(function(){q.updateTextArea();p.$setViewValue(h(n).val())})})})}}}]);angular.module("emm").directive("pagination",[function(){return{restrict:"A",template:"<li class='ui-pagination'><a class='ui-pagination-prev' ng-click='pageService.previousPage()' ng-show='pageService.hasPrevious()'><span class='ui-arrow'></span></a><h3 class='title' translate='PAGINATION.TITLE' translate-value-from='{{pageService.pagination.pagenum}}' translate-value-to='{{pageService.pagination.totalpages}}' translate-value-total='{{pageService.pagination.total}}'>Page {{pageService.pagination.pagenum}} of {{pageService.pagination.totalpages}} - {{pageService.pagination.total}} Records</h3><a class='ui-pagination-next' ng-click='pageService.nextPage()' ng-show='pageService.hasNext()'><span class='ui-arrow'></span></a></li>"}}]);angular.module("emm").directive("emmSync",[function(){return{restrict:"A",scope:true,link:function(o,n,m){n.click(function(){EMMServer.Offline.sync()})}}}]);angular.module("emm").directive("emmOnline",[function(){return{restrict:"A",scope:true,link:function(o,n,m){n.click(function(){EMMServer.Offline.goOnline(m.emmOnline)})}}}]);angular.module("emm").directive("emmSyncRes",[function(){return{restrict:"A",scope:true,link:function(o,n,m){n.click(function(){var p="txntrack/main.action";var q=EMMServer.Offline._syncViewName;if(!String.isNullOrEmpty(q)){p=new URI(p);p.addSearch("prevOfflineUrl",q)}EMMServer.Offline.goOnline(p.toString())})}}}])}h(function(){f.core.init()})})(jQuery,window);(function(a){a.extend(a.fn,{livequery:function(f,e,c){var b=this,g;if(a.isFunction(f)){c=e,e=f,f=undefined}a.each(a.livequery.queries,function(h,j){if(b.selector==j.selector&&b.context==j.context&&f==j.type&&(!e||e.$lqguid==j.fn.$lqguid)&&(!c||c.$lqguid==j.fn2.$lqguid)){return(g=j)&&false}});g=g||new a.livequery(this.selector,this.context,f,e,c);g.stopped=false;g.run();return this},expire:function(f,e,c){var b=this;if(a.isFunction(f)){c=e,e=f,f=undefined}a.each(a.livequery.queries,function(g,h){if(b.selector==h.selector&&b.context==h.context&&(!f||f==h.type)&&(!e||e.$lqguid==h.fn.$lqguid)&&(!c||c.$lqguid==h.fn2.$lqguid)&&!this.stopped){a.livequery.stop(h.id)}});return this}});a.livequery=function(b,e,g,f,c){this.selector=b;this.context=e;this.type=g;this.fn=f;this.fn2=c;this.elements=[];this.stopped=false;this.id=a.livequery.queries.push(this)-1;f.$lqguid=f.$lqguid||a.livequery.guid++;if(c){c.$lqguid=c.$lqguid||a.livequery.guid++}return this};a.livequery.prototype={stop:function(){var b=this;if(this.type){this.elements.unbind(this.type,this.fn)}else{if(this.fn2){this.elements.each(function(c,e){b.fn2.apply(e)})}}this.elements=[];this.stopped=true},run:function(){if(this.stopped){return}var e=this;var f=this.elements,c=a(this.selector,this.context),b=c.not(f);this.elements=c;if(this.type){b.bind(this.type,this.fn);if(f.length>0){a.each(f,function(g,h){if(a.inArray(h,c)<0){a.event.remove(h,e.type,e.fn)}})}}else{b.each(function(){e.fn.apply(this)});if(this.fn2&&f.length>0){a.each(f,function(g,h){if(a.inArray(h,c)<0){e.fn2.apply(h)}})}}}};a.extend(a.livequery,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length){var b=a.livequery.queue.length;while(b--){a.livequery.queries[a.livequery.queue.shift()].run()}}},pause:function(){a.livequery.running=false},play:function(){a.livequery.running=true;a.livequery.run()},registerPlugin:function(){a.each(arguments,function(c,e){if(!a.fn[e]){return}var b=a.fn[e];a.fn[e]=function(){var f=b.apply(this,arguments);a.livequery.run();return f}})},run:function(b){if(b!=undefined){if(a.inArray(b,a.livequery.queue)<0){a.livequery.queue.push(b)}}else{a.each(a.livequery.queries,function(c){if(a.inArray(c,a.livequery.queue)<0){a.livequery.queue.push(c)}})}if(a.livequery.timeout){clearTimeout(a.livequery.timeout)}a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(b){if(b!=undefined){a.livequery.queries[b].stop()}else{a.each(a.livequery.queries,function(c){a.livequery.queries[c].stop()})}}});a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html");a(function(){a.livequery.play()})})(jQuery);if(Function.prototype.name===undefined&&Object.defineProperty!==undefined){Object.defineProperty(Function.prototype,"name",{get:function(){var b=/function\s+([^\s\(]+)/;var a=(b).exec((this).toString());return(a&&a.length>1)?a[1].trim():""},set:function(a){}})}(function(aj){function H(o){var c=this,n=o.target,a=aj.data(n,aC),l=ah[a],b=l.popupName,e=at[b],h,f;if(!c.disabled&&aj(n).attr(ad)!==ad){if(h={editor:c,button:n,buttonName:a,popup:e,popupName:b,command:l.command,useCSS:c.options.useCSS},l.buttonClick&&l.buttonClick(o,h)===!1){return !1}if(a==="source"){al(c)?(delete c.range,c.$area.hide(),c.$frame.show(),n.title=l.title):(c.$frame.hide(),c.$area.show(),n.title="Show Rich Text"),setTimeout(function(){aA(c)},100)}else{if(!al(c)){if(b){if(f=aj(e),b==="url"){if(a==="link"&&V(c)===""){return O(c,"A selection is required when inserting a link.",n),!1}f.children(":button").unbind(aa).bind(aa,function(){var g=f.find(":text"),k=aj.trim(g.val());k!==""&&ac(c,h.command,k,null,h.button);g.val("http://");aw();ap(c)})}else{b==="pastetext"&&f.children(":button").unbind(aa).bind(aa,function(){var k=f.find("textarea"),g=k.val().replace(/\n/g,"<br />");g!==""&&ac(c,h.command,g,null,h.button);k.val("");aw();ap(c)})}return n!==aj.data(e,aB)?(W(c,e,n),!1):void 0}if(a==="print"){c.$frame[0].contentWindow.print()}else{if(!ac(c,h.command,h.value,h.useCSS,n)){return !1}}}}ap(c)}}function ak(b){var a=aj(b.target).closest("div");a.css(K,a.data(aC)?"#FFF":"#FFC")}function x(a){aj(a.target).closest("div").css(K,"transparent")}function I(g){var t=this,o=g.data.popup,a=g.target,e;if(o!==at.msg&&!aj(o).hasClass(aq)){var s=aj.data(o,aB),aF=aj.data(s,aC),b=ah[aF],f=b.command,n,h=t.options.useCSS;if(aF==="font"?n=a.style.fontFamily.replace(/"/g,""):aF==="size"?(a.tagName.toUpperCase()==="DIV"&&(a=a.children[0]),n=a.innerHTML):aF==="style"?n="<"+a.tagName+">":aF==="color"?n=j(a.style.backgroundColor):aF==="highlight"&&(n=j(a.style.backgroundColor),ab?f="backcolor":h=!0),e={editor:t,button:s,buttonName:aF,popup:o,popupName:b.popupName,command:f,value:n,useCSS:h},!b.popupClick||b.popupClick(g,e)!==!1){if(e.command&&!ac(t,e.command,e.value,e.useCSS,s)){return !1}aw();ap(t)}}}function an(e){for(var b=1,a=0,c=0;c<e.length;++c){b=(b+e.charCodeAt(c))%65521,a=(a+b)%65521}return a<<16|b}function F(a){a.$area.val("");Q(a)}function z(g,a,k,l,f){var b,n;return at[g]?at[g]:(b=aj(ao).hide().addClass(G).appendTo("body"),l?b.html(l):g==="color"?(n=a.colors.split(" "),n.length<10&&b.width("auto"),aj.each(n,function(c,e){aj(ao).appendTo(b).css(K,"#"+e)}),k=az):g==="font"?aj.each(a.fonts.split(","),function(c,e){aj(ao).appendTo(b).css("fontFamily",e).html(e)}):g==="size"?aj.each(a.sizes.split(","),function(c,e){aj(ao).appendTo(b).html('<font size="'+e+'">'+e+"</font>")}):g==="style"?aj.each(a.styles,function(c,e){aj(ao).appendTo(b).html(e[1]+e[0]+e[1].replace("<","</"))}):g==="url"?(b.html('Enter URL:<br /><input type="text" value="http://" size="35" /><br /><input type="button" value="Submit" />'),k=aq):g==="pastetext"&&(b.html('Paste your content here and click submit.<br /><textarea cols="40" rows="3"></textarea><br /><input type="button" value="Submit" />'),k=aq),k||l||(k=A),b.addClass(k),ab&&b.attr(af,"on").find("div,font,p,h1,h2,h3,h4,h5,h6").attr(af,"on"),(b.hasClass(A)||f===!0)&&b.children().hover(ak,x),at[g]=b[0],b[0])}function aE(c,b){b?(c.$area.attr(ad,ad),c.disabled=!0):(c.$area.removeAttr(ad),delete c.disabled);try{ab?c.doc.body.contentEditable=!b:c.doc.designMode=b?"off":"on"}catch(a){}aA(c)}function ac(p,b,g,a,h){L(p);ab||((a===undefined||a===null)&&(a=p.options.useCSS),p.doc.execCommand("styleWithCSS",0,a.toString()));var k=!0,l;if(ab&&b.toLowerCase()==="inserthtml"){ag(p).pasteHTML(g)}else{try{k=p.doc.execCommand(b,0,g||null)}catch(c){l=c.message;k=!1}k||("cutcopypaste".indexOf(b)>-1?O(p,"For security reasons, your browser does not support the "+b+" command. Try using the keyboard shortcut or context menu instead.",h):O(p,l?l:"Error executing the "+b+" command.",h))}return aA(p),J(p,!0),k}function ap(a){setTimeout(function(){al(a)?a.$area.focus():a.$frame[0].contentWindow.focus();aA(a)},0)}function ag(a){return ab?au(a).createRange():au(a).getRangeAt(0)}function au(a){return ab?a.doc.selection:a.$frame[0].contentWindow.getSelection()}function j(c){var b=/rgba?\((\d+), (\d+), (\d+)/.exec(c),a;if(b){for(c=(b[1]<<16|b[2]<<8|b[3]).toString(16);c.length<6;){c="0"+c}return"#"+c}return(a=c.split(""),c.length===4)?"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]:c}function aw(){aj.each(at,function(b,a){aj(a).hide().unbind(aa).removeData(aB)})}function S(){var a=aj("link[href*=cleditor]").attr("href");return a.replace(/^(.*\/)[^\/]+$/,"$1")+"images/"}function m(a){return"url("+S()+a+")"}function ai(c){var k=c.$main,g=c.options;c.$frame&&c.$frame.remove();var b=c.$frame=aj('<iframe frameborder="0" src="javascript:true;" />').hide().appendTo(k),a=b[0].contentWindow,h=c.doc=a.document,e=aj(h);h.open();h.write(g.docType+"<html>"+(g.docCSSFile===""?"":'<head><link rel="stylesheet" type="text/css" href="'+g.docCSSFile+'" /></head>')+'<body style="'+g.bodyStyle+'"></body></html>');h.close();(ab||N)&&e.click(function(){ap(c)});Q(c);ab||N?(e.bind("beforedeactivate beforeactivate selectionchange keypress",function(f){if(f.type==="beforedeactivate"){c.inactive=!0}else{if(f.type==="beforeactivate"){!c.inactive&&c.range&&c.range.length>1&&c.range.shift(),delete c.inactive}else{if(!c.inactive){for(c.range||(c.range=[]),c.range.unshift(ag(c));c.range.length>2;){c.range.pop()}}}}}),b.focus(function(){L(c);aj(c).triggerHandler(ay)}),b.blur(function(){aj(c).triggerHandler(Y)})):aj(c.$frame[0].contentWindow).focus(function(){aj(c).triggerHandler(ay)}).blur(function(){aj(c).triggerHandler(Y)});e.click(aw).bind("keyup mouseup",function(){aA(c);J(c,!0)});C?c.$area.show():b.show();aj(function(){var l=c.$toolbar,o=l.children("div:last"),p=k.width(),s=o.offset().top+o.outerHeight()-l.offset().top+1;l.height(s);s=(/%/.test(""+g.height)?k.height():parseInt(g.height,10))-s;b.width(p).height(s);c.$area.width(p).height(T?s-2:s);aE(c,c.disabled);aA(c)})}function aA(b){var a,c;C||!B||b.focused||(b.$frame[0].contentWindow.focus(),window.focus(),b.focused=!0);a=b.doc;ab&&(a=ag(b));c=al(b);aj.each(b.$toolbar.find("."+D),function(t,k){var f=aj(k),g=aj.cleditor.buttons[aj.data(k,aC)],w=g.command,e=!0,u;if(b.disabled){e=!1}else{if(g.getEnabled){u={editor:b,button:k,buttonName:g.name,popup:at[g.popupName],popupName:g.popupName,command:g.command,useCSS:b.options.useCSS},e=g.getEnabled(u),e===undefined&&(e=!0)}else{if((c||C)&&g.name!=="source"||ab&&(w==="undo"||w==="redo")){e=!1}else{if(w&&w!=="print"&&(ab&&w==="hilitecolor"&&(w="backcolor"),!ab||w!=="inserthtml")){try{e=a.queryCommandEnabled(w)}catch(n){e=!1}}}}}e?(f.removeClass(E),f.removeAttr(ad)):(f.addClass(E),f.attr(ad,ad))})}function L(a){a.range&&(ab?a.range[0].select():N&&au(a).addRange(a.range[0]))}function ar(a){setTimeout(function(){al(a)?a.$area.select():ac(a,"selectall")},0)}function aD(b){var a,c,e;return(L(b),a=ag(b),ab)?a.htmlText:(c=aj("<layer>")[0],c.appendChild(a.cloneContents()),e=c.innerHTML,c=null,e)}function V(a){return(L(a),ab)?ag(a).text:au(a).toString()}function O(e,b,a){var c=z("msg",e.options,P);c.innerHTML=b;W(e,c,a)}function W(u,g,a){var n,k,p,b=aj(g),e,v;a?(e=aj(a),n=e.offset(),k=--n.left,p=n.top+e.height()):(v=u.$toolbar,n=v.offset(),k=Math.floor((v.width()-b.width())/2)+n.left,p=n.top+v.height()-2);aw();b.css({left:k,top:p}).show();a&&(aj.data(g,aB,a),b.bind(aa,{popup:g},aj.proxy(I,u)));setTimeout(function(){b.find(":text,textarea").eq(0).focus().select()},100)}function al(a){return a.$area.is(":visible")}function Q(c,b){var a=c.$area.val(),n=c.options,k=n.updateFrame,g=aj(c.doc.body),l,h;if(k){if(l=an(a),b&&c.areaChecksum===l){return}c.areaChecksum=l}h=k?k(a):a;h=h.replace(/<(?=\/?script)/ig,"&lt;");n.updateTextArea&&(c.frameChecksum=an(h));h!==g.html()&&(g.html(h),aj(c).triggerHandler(am))}function J(c,b){var a=aj(c.doc.body).html(),n=c.options,k=n.updateTextArea,g=c.$area,l,h;if(k){if(l=an(a),b&&c.frameChecksum===l){return}c.frameChecksum=l}h=k?k(a):a;n.updateFrame&&(c.areaChecksum=an(h));h!==g.val()&&(g.val(h),aj(c).triggerHandler(am))}var X,ae;aj.cleditor={defaultOptions:{width:"auto",height:250,controls:"bold italic underline strikethrough subscript superscript | font size style | color highlight removeformat | bullets numbering | outdent indent | alignleft center alignright justify | undo redo | rule image link unlink | cut copy paste pastetext | print source",colors:"FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C 999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C 666 900 C60 C93 990 090 399 33F 60C 939 333 600 930 963 660 060 366 009 339 636 000 300 630 633 330 030 033 006 309 303",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond,Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",sizes:"1,2,3,4,5,6,7",styles:[["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]],useCSS:!0,docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',docCSSFile:"",bodyStyle:"margin:4px; font:12pt Arial,Verdana; cursor:text"},buttons:{init:"bold,,|italic,,|underline,,|strikethrough,,|subscript,,|superscript,,|font,,fontname,|size,Font Size,fontsize,|style,,formatblock,|color,Font Color,forecolor,|highlight,Text Highlight Color,hilitecolor,color|removeformat,Remove Formatting,|bullets,,insertunorderedlist|numbering,,insertorderedlist|outdent,,|indent,,|alignleft,Align Text Left,justifyleft|center,,justifycenter|alignright,Align Text Right,justifyright|justify,,justifyfull|undo,,|redo,,|rule,Insert Horizontal Rule,inserthorizontalrule|image,Insert Image,insertimage,url|link,Insert Hyperlink,createlink,url|unlink,Remove Hyperlink,|cut,,|copy,,|paste,,|pastetext,Paste as Text,inserthtml,|print,,|source,Show Source"},imagesPath:function(){return S()}};aj.fn.cleditor=function(b){var a=aj([]);return this.each(function(e,c){if(c.tagName.toUpperCase()==="TEXTAREA"){var g=aj.data(c,M);g||(g=new cleditor(c,b));a=a.add(g)}}),a};var K="backgroundColor",Y="blurred",aB="button",aC="buttonName",am="change",M="cleditor",aa="click",ad="disabled",ao="<div>",ay="focused",af="unselectable",R="cleditorMain",av="cleditorToolbar",q="cleditorGroup",D="cleditorButton",E="cleditorDisabled",U="cleditorDivider",G="cleditorPopup",A="cleditorList",az="cleditorColor",aq="cleditorPrompt",P="cleditorMsg",Z=navigator.userAgent.toLowerCase(),ab=/msie/.test(Z),T=/msie\s6/.test(Z),N=/(trident)(?:.*rv:([\w.]+))?/.test(Z),B=/webkit/.test(Z),C=/iphone|ipad|ipod/i.test(Z),at={},ax,ah=aj.cleditor.buttons;aj.each(ah.init.split("|"),function(e,b){var a=b.split(","),c=a[0];ah[c]={stripIndex:e,name:c,title:a[1]===""?c.charAt(0).toUpperCase()+c.substr(1):a[1],command:a[2]===""?c:a[2],popupName:a[3]===""?c:a[3]}});delete ah.init;cleditor=function(k,n){var g=this;g.options=n=aj.extend({},aj.cleditor.defaultOptions,n);var a=g.$area=aj(k).hide().data(M,g).blur(function(){Q(g,!0)}),b=g.$main=aj(ao).addClass(R).width(n.width).height(n.height),p=g.$toolbar=aj(ao).addClass(av).appendTo(b),e=aj(ao).addClass(q).appendTo(p),o=0;aj.each(n.controls.split(" "),function(s,u){var f,c,t,h;if(u===""){return !0}u==="|"?(f=aj(ao).addClass(U).appendTo(e),e.width(o+1),o=0,e=aj(ao).addClass(q).appendTo(p)):(c=ah[u],t=aj(ao).data(aC,c.name).addClass(D).attr("title",c.title).bind(aa,aj.proxy(H,g)).appendTo(e).hover(ak,x),o+=24,e.width(o+1),h={},c.css?h=c.css:c.image&&(h.backgroundImage=m(c.image)),c.stripIndex&&(h.backgroundPosition=c.stripIndex*-24),t.css(h),ab&&t.attr(af,"on"),c.popupName&&z(c.popupName,n,c.popupClass,c.popupContent,c.popupHover))});b.insertBefore(a).append(a);ax||(aj(document).click(function(f){var c=aj(f.target);c.add(c.parents()).is("."+aq)||aw()}),ax=!0);/auto|%/.test(""+n.width+n.height)&&aj(window).bind("resize.cleditor",function(){ai(g)});ai(g)};X=cleditor.prototype;ae=[["clear",F],["disable",aE],["execCommand",ac],["focus",ap],["hidePopups",aw],["sourceMode",al,!0],["refresh",ai],["select",ar],["selectedHTML",aD,!0],["selectedText",V,!0],["showMessage",O],["updateFrame",Q],["updateTextArea",J]];aj.each(ae,function(b,a){X[a[0]]=function(){for(var c,g=this,f=[g],e=0;e<arguments.length;e++){f.push(arguments[e])}return(c=a[1].apply(g,f),a[2])?c:g}});X.blurred=function(b){var a=aj(this);return b?a.bind(Y,b):a.trigger(Y)};X.change=function(b){console.log("change test");var a=aj(this);return b?a.bind(am,b):a.trigger(am)};X.focused=function(b){var a=aj(this);return b?a.bind(ay,b):a.trigger(ay)}})(jQuery);Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};(function(){var b=Date,a=b.prototype,e=b.CultureInfo,h=function(k,j){if(!j){j=2}return("000"+k).slice(j*-1)};a.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};a.setTimeToNow=function(){var j=new Date();this.setHours(j.getHours());this.setMinutes(j.getMinutes());this.setSeconds(j.getSeconds());this.setMilliseconds(j.getMilliseconds());return this};b.today=function(){return new Date().clearTime()};b.compare=function(k,j){if(isNaN(k)||isNaN(j)){throw new Error(k+" - "+j)}else{if(k instanceof Date&&j instanceof Date){return(k<j)?-1:(k>j)?1:0}else{throw new TypeError(k+" - "+j)}}};b.equals=function(k,j){return(k.compareTo(j)===0)};b.getDayNumberFromName=function(k){var t=e.dayNames,j=e.abbreviatedDayNames,q=e.shortestDayNames,p=k.toLowerCase();for(var l=0;l<t.length;l++){if(t[l].toLowerCase()==p||j[l].toLowerCase()==p||q[l].toLowerCase()==p){return l}}return -1};b.getMonthNumberFromName=function(k){var p=e.monthNames,j=e.abbreviatedMonthNames,o=k.toLowerCase();for(var l=0;l<p.length;l++){if(p[l].toLowerCase()==o||j[l].toLowerCase()==o){return l}}return -1};b.isLeapYear=function(j){return((j%4===0&&j%100!==0)||j%400===0)};b.getDaysInMonth=function(j,k){return[31,(b.isLeapYear(j)?29:28),31,30,31,30,31,31,30,31,30,31][k]};b.getTimezoneAbbreviation=function(m){var l=e.timezones,k;for(var j=0;j<l.length;j++){if(l[j].offset===m){return l[j].name}}return null};b.getTimezoneOffset=function(j){var m=e.timezones,l;for(var k=0;k<m.length;k++){if(m[k].name===j.toUpperCase()){return m[k].offset}}return null};a.clone=function(){return new Date(this.getTime())};a.compareTo=function(j){return Date.compare(this,j)};a.equals=function(j){return Date.equals(this,j||new Date())};a.between=function(k,j){return this.getTime()>=k.getTime()&&this.getTime()<=j.getTime()};a.isAfter=function(j){return this.compareTo(j||new Date())===1};a.isBefore=function(j){return(this.compareTo(j||new Date())===-1)};a.isToday=function(){return this.isSameDay(new Date())};a.isSameDay=function(j){return this.clone().clearTime().equals(j.clone().clearTime())};a.addMilliseconds=function(j){this.setMilliseconds(this.getMilliseconds()+j);return this};a.addSeconds=function(j){return this.addMilliseconds(j*1000)};a.addMinutes=function(j){return this.addMilliseconds(j*60000)};a.addHours=function(j){return this.addMilliseconds(j*3600000)};a.addDays=function(j){this.setDate(this.getDate()+j);return this};a.addWeeks=function(j){return this.addDays(j*7)};a.addMonths=function(j){var k=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+j);this.setDate(Math.min(k,b.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};a.addYears=function(j){return this.addMonths(j*12)};a.add=function(k){if(typeof k=="number"){this._orient=k;return this}var j=k;if(j.milliseconds){this.addMilliseconds(j.milliseconds)}if(j.seconds){this.addSeconds(j.seconds)}if(j.minutes){this.addMinutes(j.minutes)}if(j.hours){this.addHours(j.hours)}if(j.weeks){this.addWeeks(j.weeks)}if(j.months){this.addMonths(j.months)}if(j.years){this.addYears(j.years)}if(j.days){this.addDays(j.days)}return this};var f,g,c;a.getWeek=function(){var t,q,p,o,m,l,k,j,v,u;f=(!f)?this.getFullYear():f;g=(!g)?this.getMonth()+1:g;c=(!c)?this.getDate():c;if(g<=2){t=f-1;q=(t/4|0)-(t/100|0)+(t/400|0);p=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0);v=q-p;m=0;l=c-1+(31*(g-1))}else{t=f;q=(t/4|0)-(t/100|0)+(t/400|0);p=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0);v=q-p;m=v+1;l=c+((153*(g-3)+2)/5)+58+v}k=(t+q)%7;o=(l+k-m)%7;j=(l+3-o)|0;if(j<0){u=53-((k-v)/5|0)}else{if(j>364+v){u=1}else{u=(j/7|0)+1}}f=g=c=null;return u};a.getISOWeek=function(){f=this.getUTCFullYear();g=this.getUTCMonth()+1;c=this.getUTCDate();return h(this.getWeek())};a.setWeek=function(j){return this.moveToDayOfWeek(1).addWeeks(j-this.getWeek())};b._validate=function(m,l,j,k){if(typeof m=="undefined"){return false}else{if(typeof m!="number"){throw new TypeError(m+" is not a Number.")}else{if(m<l||m>j){throw new RangeError(m+" is not a valid value for "+k+".")}}}return true};b.validateMillisecond=function(j){return b._validate(j,0,999,"millisecond")};b.validateSecond=function(j){return b._validate(j,0,59,"second")};b.validateMinute=function(j){return b._validate(j,0,59,"minute")};b.validateHour=function(j){return b._validate(j,0,23,"hour")};b.validateDay=function(k,j,l){return b._validate(k,1,b.getDaysInMonth(j,l),"day")};b.validateMonth=function(j){return b._validate(j,0,11,"month")};b.validateYear=function(j){return b._validate(j,0,9999,"year")};a.set=function(j){if(b.validateMillisecond(j.millisecond)){this.addMilliseconds(j.millisecond-this.getMilliseconds())}if(b.validateSecond(j.second)){this.addSeconds(j.second-this.getSeconds())}if(b.validateMinute(j.minute)){this.addMinutes(j.minute-this.getMinutes())}if(b.validateHour(j.hour)){this.addHours(j.hour-this.getHours())}if(b.validateMonth(j.month)){this.addMonths(j.month-this.getMonth())}if(b.validateYear(j.year)){this.addYears(j.year-this.getFullYear())}if(b.validateDay(j.day,this.getFullYear(),this.getMonth())){this.addDays(j.day-this.getDate())}if(j.timezone){this.setTimezone(j.timezone)}if(j.timezoneOffset){this.setTimezoneOffset(j.timezoneOffset)}if(j.week&&b._validate(j.week,0,53,"week")){this.setWeek(j.week)}return this};a.moveToFirstDayOfMonth=function(){return this.set({day:1})};a.moveToLastDayOfMonth=function(){return this.set({day:b.getDaysInMonth(this.getFullYear(),this.getMonth())})};a.moveToNthOccurrence=function(k,l){var j=0;if(l>0){j=l-1}else{if(l===-1){this.moveToLastDayOfMonth();if(this.getDay()!==k){this.moveToDayOfWeek(k,-1)}return this}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(k,+1).addWeeks(j)};a.moveToDayOfWeek=function(j,k){var l=(j-this.getDay()+7*(k||+1))%7;return this.addDays((l===0)?l+=7*(k||+1):l)};a.moveToMonth=function(l,j){var k=(l-this.getMonth()+12*(j||+1))%12;return this.addMonths((k===0)?k+=12*(j||+1):k)};a.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1};a.getTimezone=function(){return b.getTimezoneAbbreviation(this.getUTCOffset())};a.setTimezoneOffset=function(l){var j=this.getTimezoneOffset(),k=Number(l)*-6/10;return this.addMinutes(k-j)};a.setTimezone=function(j){return this.setTimezoneOffset(b.getTimezoneOffset(j))};a.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset())};a.isDaylightSavingTime=function(){return(this.hasDaylightSavingTime()&&new Date().getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset())};a.getUTCOffset=function(){var k=this.getTimezoneOffset()*-10/6,j;if(k<0){j=(k-10000).toString();return j.charAt(0)+j.substr(2)}else{j=(k+10000).toString();return"+"+j.substr(1)}};a.getElapsed=function(j){return(j||new Date())-this};if(!a.toISOString){a.toISOString=function(){function j(k){return k<10?"0"+k:k}return'"'+this.getUTCFullYear()+"-"+j(this.getUTCMonth()+1)+"-"+j(this.getUTCDate())+"T"+j(this.getUTCHours())+":"+j(this.getUTCMinutes())+":"+j(this.getUTCSeconds())+'Z"'}}a._toString=a.toString;a.toString=function(l){var j=this;if(l&&l.length==1){var m=e.formatPatterns;j.t=j.toString;switch(l){case"d":return j.t(m.shortDate);case"D":return j.t(m.longDate);case"F":return j.t(m.fullDateTime);case"m":return j.t(m.monthDay);case"r":return j.t(m.rfc1123);case"s":return j.t(m.sortableDateTime);case"t":return j.t(m.shortTime);case"T":return j.t(m.longTime);case"u":return j.t(m.universalSortableDateTime);case"y":return j.t(m.yearMonth)}}var k=function(o){switch(o*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return l?l.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(n){if(n.charAt(0)==="\\"){return n.replace("\\","")}j.h=j.getHours;switch(n){case"hh":return h(j.h()<13?(j.h()===0?12:j.h()):(j.h()-12));case"h":return j.h()<13?(j.h()===0?12:j.h()):(j.h()-12);case"HH":return h(j.h());case"H":return j.h();case"mm":return h(j.getMinutes());case"m":return j.getMinutes();case"ss":return h(j.getSeconds());case"s":return j.getSeconds();case"yyyy":return h(j.getFullYear(),4);case"yy":return h(j.getFullYear());case"dddd":return e.dayNames[j.getDay()];case"ddd":return e.abbreviatedDayNames[j.getDay()];case"dd":return h(j.getDate());case"d":return j.getDate();case"MMMM":return e.monthNames[j.getMonth()];case"MMM":return e.abbreviatedMonthNames[j.getMonth()];case"MM":return h((j.getMonth()+1));case"M":return j.getMonth()+1;case"t":return j.h()<12?e.amDesignator.substring(0,1):e.pmDesignator.substring(0,1);case"tt":return j.h()<12?e.amDesignator:e.pmDesignator;case"S":return k(j.getDate());default:return n}}):this._toString()}}());(function(){var w=Date,h=w.prototype,x=w.CultureInfo,p=Number.prototype;h._orient=+1;h._nth=null;h._is=false;h._same=false;h._isSecond=false;p._dateElement="day";h.next=function(){this._orient=+1;return this};w.next=function(){return w.today().next()};h.last=h.prev=h.previous=function(){this._orient=-1;return this};w.last=w.prev=w.previous=function(){return w.today().last()};h.is=function(){this._is=true;return this};h.same=function(){this._same=true;this._isSecond=false;return this};h.today=function(){return this.same().day()};h.weekday=function(){if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun())}return false};h.at=function(j){return(typeof j==="string")?w.parse(this.toString("d")+" "+j):this.set(j)};p.fromNow=p.after=function(j){var k={};k[this._dateElement]=this;return((!j)?new Date():j.clone()).add(k)};p.ago=p.before=function(j){var k={};k[this._dateElement]=this*-1;return((!j)?new Date():j.clone()).add(k)};var f=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),m=("january february march april may june july august september october november december").split(/\s/),o=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),q=("Milliseconds Seconds Minutes Hours Date Week Month FullYear").split(/\s/),b=("final first second third fourth fifth").split(/\s/),z;h.toObject=function(){var k={};for(var j=0;j<o.length;j++){k[o[j].toLowerCase()]=this["get"+q[j]]()}return k};w.fromObject=function(j){j.week=null;return Date.today().set(j)};var y=function(j){return function(){if(this._is){this._is=false;return this.getDay()==j}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1)}this._isSecond=false;var l=this._nth;this._nth=null;var k=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(j,l);if(this>k){throw new RangeError(w.getDayName(j)+" does not occur "+l+" times in the month of "+w.getMonthName(k.getMonth())+" "+k.getFullYear()+".")}return this}return this.moveToDayOfWeek(j,this._orient)}};var g=function(j){return function(){var l=w.today(),k=j-l.getDay();if(j===0&&x.firstDayOfWeek===1&&l.getDay()!==0){k=k+7}return l.addDays(k)}};for(var v=0;v<f.length;v++){w[f[v].toUpperCase()]=w[f[v].toUpperCase().substring(0,3)]=v;w[f[v]]=w[f[v].substring(0,3)]=g(v);h[f[v]]=h[f[v].substring(0,3)]=y(v)}var A=function(j){return function(){if(this._is){this._is=false;return this.getMonth()===j}return this.moveToMonth(j,this._orient)}};var n=function(j){return function(){return w.today().set({month:j,day:1})}};for(var u=0;u<m.length;u++){w[m[u].toUpperCase()]=w[m[u].toUpperCase().substring(0,3)]=u;w[m[u]]=w[m[u].substring(0,3)]=n(u);h[m[u]]=h[m[u].substring(0,3)]=A(u)}var c=function(k){return function(){if(this._isSecond){this._isSecond=false;return this}if(this._same){this._same=this._is=false;var D=this.toObject(),C=(arguments[0]||new Date()).toObject(),B="",l=k.toLowerCase();for(var j=(o.length-1);j>-1;j--){B=o[j].toLowerCase();if(D[B]!=C[B]){return false}if(l==B){break}}return true}if(k.substring(k.length-1)!="s"){k+="s"}return this["add"+k](this._orient)}};var e=function(j){return function(){this._dateElement=j;return this}};for(var t=0;t<o.length;t++){z=o[t].toLowerCase();h[z]=h[z+"s"]=c(o[t]);p[z]=p[z+"s"]=e(z)}h._ss=c("Second");var a=function(j){return function(k){if(this._same){return this._ss(arguments[0])}if(k||k===0){return this.moveToNthOccurrence(k,j)}this._nth=j;if(j===2&&(k===undefined||k===null)){this._isSecond=true;return this.addSeconds(this._orient)}return this}};for(var s=0;s<b.length;s++){h[b[s]]=(s===0)?a(-1):a(s)}}());(function(){Date.Parsing={Exception:function(j){this.message="Parse error at '"+j.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(j){return function(l){var m=l.match(j);if(m){return([m[0],l.substring(m[0].length)])}else{throw new a.Exception(l)}}},token:function(j){return function(l){return c.rtoken(new RegExp("^s*"+l+"s*"))(l)}},stoken:function(j){return c.rtoken(new RegExp("^"+j))},until:function(j){return function(l){var m=[],o=null;while(l.length){try{o=j.call(this,l)}catch(n){m.push(o[0]);l=o[1];continue}break}return[m,l]}},many:function(j){return function(l){var o=[],m=null;while(l.length){try{m=j.call(this,l)}catch(n){return[o,l]}o.push(m[0]);l=m[1]}return[o,l]}},optional:function(j){return function(l){var m=null;try{m=j.call(this,l)}catch(n){return[null,l]}return[m[0],m[1]]}},not:function(j){return function(l){try{j.call(this,l)}catch(m){return[null,l]}throw new a.Exception(l)}},ignore:function(j){return j?function(l){var m=null;m=j.call(this,l);return[null,m[1]]}:null},product:function(){var l=arguments[0],m=Array.prototype.slice.call(arguments,1),n=[];for(var j=0;j<l.length;j++){n.push(c.each(l[j],m))}return n},cache:function(m){var j={},l=null;return function(n){try{l=j[n]=(j[n]||m.call(this,n))}catch(o){l=j[n]=o}if(l instanceof a.Exception){throw l}else{return l}}},any:function(){var j=arguments;return function(m){var n=null;for(var l=0;l<j.length;l++){if(j[l]==null){continue}try{n=(j[l].call(this,m))}catch(o){n=null}if(n){return n}}throw new a.Exception(m)}},each:function(){var j=arguments;return function(m){var p=[],n=null;for(var l=0;l<j.length;l++){if(j[l]==null){continue}try{n=(j[l].call(this,m))}catch(o){throw new a.Exception(m)}p.push(n[0]);m=n[1]}return[p,m]}},all:function(){var l=arguments,j=j;return j.each(j.optional(l))},sequence:function(j,l,m){l=l||c.rtoken(/^\s*/);m=m||null;if(j.length==1){return j[0]}return function(t){var u=null,v=null;var x=[];for(var p=0;p<j.length;p++){try{u=j[p].call(this,t)}catch(w){break}x.push(u[0]);try{v=l.call(this,u[1])}catch(o){v=null;break}t=v[1]}if(!u){throw new a.Exception(t)}if(v){throw new a.Exception(v[1])}if(m){try{u=m.call(this,u[1])}catch(n){throw new a.Exception(u[1])}}return[x,(u?u[1]:t)]}},between:function(l,m,j){j=j||l;var n=c.each(c.ignore(l),m,c.ignore(j));return function(o){var p=n.call(this,o);return[[p[0][0],r[0][2]],p[1]]}},list:function(j,l,m){l=l||c.rtoken(/^\s*/);m=m||null;return(j instanceof Array?c.each(c.product(j.slice(0,-1),c.ignore(l)),j.slice(-1),c.ignore(m)):c.each(c.many(c.each(j,c.ignore(l))),px,c.ignore(m)))},set:function(j,l,m){l=l||c.rtoken(/^\s*/);m=m||null;return function(D){var n=null,t=null,o=null,u=null,v=[[],D],C=false;for(var x=0;x<j.length;x++){o=null;t=null;n=null;C=(j.length==1);try{n=j[x].call(this,D)}catch(A){continue}u=[[n[0]],n[1]];if(n[1].length>0&&!C){try{o=l.call(this,n[1])}catch(B){C=true}}else{C=true}if(!C&&o[1].length===0){C=true}if(!C){var y=[];for(var w=0;w<j.length;w++){if(x!=w){y.push(j[w])}}t=c.set(y,l).call(this,o[1]);if(t[0].length>0){u[0]=u[0].concat(t[0]);u[1]=t[1]}}if(u[1].length<v[1].length){v=u}if(v[1].length===0){break}}if(v[0].length===0){return v}if(m){try{o=m.call(this,v[1])}catch(z){throw new a.Exception(v[1])}v[1]=o[1]}return v}},forward:function(j,l){return function(m){return j[l].call(this,m)}},replace:function(l,j){return function(m){var n=l.call(this,m);return[j,n[1]]}},process:function(l,j){return function(m){var n=l.call(this,m);return[j.call(this,n[0]),n[1]]}},min:function(j,l){return function(m){var n=l.call(this,m);if(n[0].length<j){throw new a.Exception(m)}return n}}};var k=function(j){return function(){var l=null,o=[];if(arguments.length>1){l=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){l=arguments[0]}}if(l){for(var n=0,m=l.shift();n<m.length;n++){l.unshift(m[n]);o.push(j.apply(null,l));l.shift();return o}}else{return j.apply(null,arguments)}}};var h="optional not ignore cache".split(/\s/);for(var e=0;e<h.length;e++){c[h[e]]=k(c[h[e]])}var g=function(j){return function(){if(arguments[0] instanceof Array){return j.apply(null,arguments[0])}else{return j.apply(null,arguments)}}};var f="each any all".split(/\s/);for(var b=0;b<f.length;b++){c[f[b]]=g(c[f[b]])}}());(function(){var f=Date,n=f.prototype,h=f.CultureInfo;var j=function(o){var p=[];for(var g=0;g<o.length;g++){if(o[g] instanceof Array){p=p.concat(j(o[g]))}else{if(o[g]){p.push(o[g])}}}return p};f.Grammar={};f.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var o=g.replace(/[^\d\+\-]/g,"");if(o.length){this.timezoneOffset=Number(o)}else{this.timezone=g.toLowerCase()}}},day:function(g){var o=g[0];return function(){this.day=Number(o.match(/\d+/)[0])}},month:function(g){return function(){this.month=(g.length==3)?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(g)/4:Number(g)-1}},year:function(g){return function(){var o=Number(g);this.year=((g.length>2)?o:(o+(((o+2000)<h.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];for(var p=0;p<g.length;p++){if(g[p]){g[p].call(this)}}var o=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=o.getDate()}if(!this.year){this.year=o.getFullYear()}if(!this.month&&this.month!==0){this.month=o.getMonth()}if(!this.day){this.day=1}if(!this.hour){this.hour=0}if(!this.minute){this.minute=0}if(!this.second){this.second=0}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.day>f.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var q=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){q.set({timezone:this.timezone})}else{if(this.timezoneOffset){q.set({timezoneOffset:this.timezoneOffset})}}return q},finish:function(g){g=(g instanceof Array)?j(g):[g];if(g.length===0){return null}for(var t=0;t<g.length;t++){if(typeof g[t]=="function"){g[t].call(this)}}var p=f.today();if(this.now&&!this.unit&&!this.operator){return new Date()}else{if(this.now){p=new Date()}}var u=!!(this.days&&this.days!==null||this.orient||this.operator);var v,s,q;q=((this.orient=="past"||this.operator=="subtract")?-1:1);if(!this.now&&"hour minute second".indexOf(this.unit)!=-1){p.setTimeToNow()}if(this.month||this.month===0){if("year day hour minute second".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;u=true}}if(!u&&this.weekday&&!this.day&&!this.days){var o=Date[this.weekday]();this.day=o.getDate();if(!this.month){this.month=o.getMonth()}this.year=o.getFullYear()}if(u&&this.weekday&&this.unit!="month"){this.unit="day";v=(f.getDayNumberFromName(this.weekday)-p.getDay());s=7;this.days=v?((v+(q*s))%s):(q*s)}if(this.month&&this.unit=="day"&&this.operator){this.value=(this.month+1);this.month=null}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1}if(this.month&&!this.day&&this.value){p.set({day:this.value*1});if(!u){this.day=this.value*1}}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;u=true}if(u&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";v=(this.month-p.getMonth());s=12;this.months=v?((v+(q*s))%s):(q*s);this.month=null}if(!this.unit){this.unit="day"}if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+((this.operator=="add")?1:-1)+(this.value||0)*q}else{if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}this[this.unit+"s"]=this.value*q}}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.weekday&&!this.day&&!this.days){var o=Date[this.weekday]();this.day=o.getDate();if(o.getMonth()!==p.getMonth()){this.month=o.getMonth()}}if((this.month||this.month===0)&&!this.day){this.day=1}if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value)}if(u&&this.timezone&&this.day&&this.days){this.day=this.days}return(u)?p.add(this):p.set(this)}};var k=f.Parsing.Operators,e=f.Grammar,m=f.Translator,b;e.datePartDelimiter=k.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=k.stoken(":");e.whiteSpace=k.rtoken(/^\s*/);e.generalDelimiter=k.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};e.ctoken=function(s){var q=a[s];if(!q){var t=h.regexPatterns;var p=s.split(/\s+/),o=[];for(var g=0;g<p.length;g++){o.push(k.replace(k.rtoken(t[p[g]]),p[g]))}q=a[s]=k.any.apply(null,o)}return q};e.ctoken2=function(g){return k.rtoken(h.regexPatterns[g])};e.h=k.cache(k.process(k.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),m.hour));e.hh=k.cache(k.process(k.rtoken(/^(0[0-9]|1[0-2])/),m.hour));e.H=k.cache(k.process(k.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),m.hour));e.HH=k.cache(k.process(k.rtoken(/^([0-1][0-9]|2[0-3])/),m.hour));e.m=k.cache(k.process(k.rtoken(/^([0-5][0-9]|[0-9])/),m.minute));e.mm=k.cache(k.process(k.rtoken(/^[0-5][0-9]/),m.minute));e.s=k.cache(k.process(k.rtoken(/^([0-5][0-9]|[0-9])/),m.second));e.ss=k.cache(k.process(k.rtoken(/^[0-5][0-9]/),m.second));e.hms=k.cache(k.sequence([e.H,e.m,e.s],e.timePartDelimiter));e.t=k.cache(k.process(e.ctoken2("shortMeridian"),m.meridian));e.tt=k.cache(k.process(e.ctoken2("longMeridian"),m.meridian));e.z=k.cache(k.process(k.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),m.timezone));e.zz=k.cache(k.process(k.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),m.timezone));e.zzz=k.cache(k.process(e.ctoken2("timezone"),m.timezone));e.timeSuffix=k.each(k.ignore(e.whiteSpace),k.set([e.tt,e.zzz]));e.time=k.each(k.optional(k.ignore(k.stoken("T"))),e.hms,e.timeSuffix);e.d=k.cache(k.process(k.each(k.rtoken(/^([0-2]\d|3[0-1]|\d)/),k.optional(e.ctoken2("ordinalSuffix"))),m.day));e.dd=k.cache(k.process(k.each(k.rtoken(/^([0-2]\d|3[0-1])/),k.optional(e.ctoken2("ordinalSuffix"))),m.day));e.ddd=e.dddd=k.cache(k.process(e.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));e.M=k.cache(k.process(k.rtoken(/^(1[0-2]|0\d|\d)/),m.month));e.MM=k.cache(k.process(k.rtoken(/^(1[0-2]|0\d)/),m.month));e.MMM=e.MMMM=k.cache(k.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),m.month));e.y=k.cache(k.process(k.rtoken(/^(\d\d?)/),m.year));e.yy=k.cache(k.process(k.rtoken(/^(\d\d)/),m.year));e.yyy=k.cache(k.process(k.rtoken(/^(\d\d?\d?\d?)/),m.year));e.yyyy=k.cache(k.process(k.rtoken(/^(\d\d\d\d)/),m.year));b=function(){return k.each(k.any.apply(null,arguments),k.not(e.ctoken2("timeContext")))};e.day=b(e.d,e.dd);e.month=b(e.M,e.MMM);e.year=b(e.yyyy,e.yy);e.orientation=k.process(e.ctoken("past future"),function(g){return function(){this.orient=g}});e.operator=k.process(e.ctoken("add subtract"),function(g){return function(){this.operator=g}});e.rday=k.process(e.ctoken("yesterday tomorrow today now"),m.rday);e.unit=k.process(e.ctoken("second minute hour day week month year"),function(g){return function(){this.unit=g}});e.value=k.process(k.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});e.expression=k.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);b=function(){return k.set(arguments,e.datePartDelimiter)};e.mdy=b(e.ddd,e.month,e.day,e.year);e.ymd=b(e.ddd,e.year,e.month,e.day);e.dmy=b(e.ddd,e.day,e.month,e.year);e.date=function(g){return((e[h.dateElementOrder]||e.mdy).call(this,g))};e.format=k.process(k.many(k.any(k.process(k.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(e[g]){return e[g]}else{throw f.Parsing.Exception(g)}}),k.process(k.rtoken(/^[^dMyhHmstz]+/),function(g){return k.ignore(k.stoken(g))}))),function(g){return k.process(k.each.apply(null,g),m.finishExact)});var l={};var c=function(g){return l[g]=(l[g]||e.format(g)[0])};e.formats=function(o){if(o instanceof Array){var p=[];for(var g=0;g<o.length;g++){p.push(c(o[g]))}return k.any.apply(null,p)}else{return c(o)}};e._formats=e.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);e._start=k.process(k.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),m.finish);e.start=function(g){try{var o=e._formats.call({},g);if(o[1].length===0){return o}}catch(p){}return e._start.call({},g)};f._parse=f.parse;f.parse=function(g){var o=null;if(!g){return null}if(g instanceof Date){return g}try{o=f.Grammar.start.call({},g.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(p){return null}return((o[1].length===0)?o[0]:null)};f.getParseFunction=function(o){var g=f.Grammar.formats(o);return function(p){var q=null;try{q=g.call({},p)}catch(t){return null}return((q[1].length===0)?q[0]:null)}};f.parseExact=function(g,o){return f.getParseFunction(o)(g)}}());(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(e){e.timeago=function(h){if(h instanceof Date){return a(h)}else{if(typeof h==="string"){return a(e.timeago.parse(h))}else{if(typeof h==="number"){return a(new Date(h))}else{return a(e.timeago.datetime(h))}}}};var g=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:60000,allowFuture:false,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"Less than a minute",minute:"About a minute",minutes:"%d minutes",hour:"About an hour",hours:"About %d hours",day:"a day",days:"%d days",month:"About a month",months:"%d months",year:"About a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(o){var p=this.settings.strings;var l=p.prefixAgo;var u=p.suffixAgo;if(this.settings.allowFuture){if(o<0){l=p.prefixFromNow;u=p.suffixFromNow}}var s=Math.abs(o)/1000;var h=s/60;var q=h/60;var t=q/24;var m=t/365;function k(v,x){var w=e.isFunction(v)?v(x,o):v;var y=(p.numbers&&p.numbers[x])||x;return w.replace(/%d/i,y)}var n=s<45&&k(p.seconds,Math.round(s))||s<90&&k(p.minute,1)||h<45&&k(p.minutes,Math.round(h))||h<90&&k(p.hour,1)||q<24&&k(p.hours,Math.round(q))||q<42&&k(p.day,1)||t<30&&k(p.days,Math.round(t))||t<45&&k(p.month,1)||t<365&&k(p.months,Math.round(t/30))||m<1.5&&k(p.year,1)||k(p.years,Math.round(m));var j=p.wordSeparator||"";if(p.wordSeparator===undefined){j=" "}return e.trim([l,n,u].join(j))},parse:function(j){var h=e.trim(j);h=h.replace(/\.\d+/,"");h=h.replace(/-/,"/").replace(/-/,"/");h=h.replace(/T/," ").replace(/Z/," UTC");h=h.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(h)},datetime:function(j){var h=g.isTime(j)?e(j).attr("datetime"):e(j).attr("title");return g.parse(h)},isTime:function(h){return e(h).get(0).tagName.toLowerCase()==="time"}});e.fn.timeago=function(){var j=this;j.each(c);var h=g.settings;if(h.refreshMillis>0){setInterval(function(){j.each(c)},h.refreshMillis)}return j};function c(){var h=b(this);if(!isNaN(h.datetime)){e(this).text(a(h.datetime))}return this}function b(h){h=e(h);if(!h.data("timeago")){h.data("timeago",{datetime:g.datetime(h)});var j=e.trim(h.text());if(j.length>0&&!(g.isTime(h)&&h.attr("title"))){h.attr("title",j)}}return h.data("timeago")}function a(h){return g.inWords(f(h))}function f(h){return(new Date().getTime()-h.getTime())}document.createElement("abbr");document.createElement("time")}));jQuery.timeago.settings.strings={prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"",seconds:"1m",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",month:"1mo",months:"%dmo",year:"1yr",years:"%dyr",wordSeparator:" ",numbers:[]};!function(e,c){"function"==typeof define&&define.amd?define(c):"object"==typeof module&&module.exports?module.exports=c():e.numeral=c()}(this,function(){function k(e,c){this._input=e,this._value=c}var j,q,p="2.0.6",o={},n={},m={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:m.currentLocale,zeroFormat:m.zeroFormat,nullFormat:m.nullFormat,defaultFormat:m.defaultFormat,scalePercentBy100:m.scalePercentBy100};return j=function(h){var e,c,b,a;if(j.isNumeral(h)){e=h.value()}else{if(0===h||"undefined"==typeof h){e=0}else{if(null===h||q.isNaN(h)){e=null}else{if("string"==typeof h){if(l.zeroFormat&&h===l.zeroFormat){e=0}else{if(l.nullFormat&&h===l.nullFormat||!h.replace(/[^0-9]+/g,"").length){e=null}else{for(c in o){if(a="function"==typeof o[c].regexps.unformat?o[c].regexps.unformat():o[c].regexps.unformat,a&&h.match(a)){b=o[c].unformat;break}}b=b||j._.stringToNumber,e=b(h)}}}else{e=Number(h)||null}}}}return new k(h,e)},j.version=p,j.isNumeral=function(a){return a instanceof k},j._=q={numberToFormat:function(R,Q,P){var O,N,M,L,K,J,I,H=n[j.options.currentLocale],G=!1,F=!1,E=0,D="",C=1000000000000,B=1000000000,A=1000000,z=1000,y="",f=!1;if(R=R||0,N=Math.abs(R),j._.includes(Q,"(")?(G=!0,Q=Q.replace(/[\(|\)]/g,"")):(j._.includes(Q,"+")||j._.includes(Q,"-"))&&(K=j._.includes(Q,"+")?Q.indexOf("+"):0>R?Q.indexOf("-"):-1,Q=Q.replace(/[\+|\-]/g,"")),j._.includes(Q,"a")&&(O=Q.match(/a(k|m|b|t)?/),O=O?O[1]:!1,j._.includes(Q," a")&&(D=" "),Q=Q.replace(new RegExp(D+"a[kmbt]?"),""),N>=C&&!O||"t"===O?(D+=H.abbreviations.trillion,R/=C):C>N&&N>=B&&!O||"b"===O?(D+=H.abbreviations.billion,R/=B):B>N&&N>=A&&!O||"m"===O?(D+=H.abbreviations.million,R/=A):(A>N&&N>=z&&!O||"k"===O)&&(D+=H.abbreviations.thousand,R/=z)),j._.includes(Q,"[.]")&&(F=!0,Q=Q.replace("[.]",".")),M=R.toString().split(".")[0],L=Q.split(".")[1],J=Q.indexOf(","),E=(Q.split(".")[0].split(",")[0].match(/0/g)||[]).length,L?(j._.includes(L,"[")?(L=L.replace("]",""),L=L.split("["),y=j._.toFixed(R,L[0].length+L[1].length,P,L[1].length)):y=j._.toFixed(R,L.length,P),M=y.split(".")[0],y=j._.includes(y,".")?H.delimiters.decimal+y.split(".")[1]:"",F&&0===Number(y.slice(1))&&(y="")):M=j._.toFixed(R,0,P),D&&!O&&Number(M)>=1000&&D!==H.abbreviations.trillion){switch(M=String(Number(M)/1000),D){case H.abbreviations.thousand:D=H.abbreviations.million;break;case H.abbreviations.million:D=H.abbreviations.billion;break;case H.abbreviations.billion:D=H.abbreviations.trillion}}if(j._.includes(M,"-")&&(M=M.slice(1),f=!0),M.length<E){for(var b=E-M.length;b>0;b--){M="0"+M}}return J>-1&&(M=M.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+H.delimiters.thousands)),0===Q.indexOf(".")&&(M=""),I=M+y+(D?D:""),G?I=(G&&f?"(":"")+I+(G&&f?")":""):K>=0?I=0===K?(f?"-":"+")+I:I+(f?"-":"+"):f&&(I="-"+I),I},stringToNumber:function(h){var f,w,v,u=n[l.currentLocale],t=h,s={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&h===l.zeroFormat){w=0}else{if(l.nullFormat&&h===l.nullFormat||!h.replace(/[^0-9]+/g,"").length){w=null}else{w=1,"."!==u.delimiters.decimal&&(h=h.replace(/\./g,"").replace(u.delimiters.decimal,"."));for(f in s){if(v=new RegExp("[^a-zA-Z]"+u.abbreviations[f]+"(?:\\)|(\\"+u.currency.symbol+")?(?:\\))?)?$"),t.match(v)){w*=Math.pow(10,s[f]);break}}w*=(h.split("-").length+Math.min(h.split("(").length-1,h.split(")").length-1))%2?1:-1,h=h.replace(/[^0-9\.]+/g,""),w*=Number(h)}}return w},isNaN:function(b){return"number"==typeof b&&isNaN(b)},includes:function(e,c){return -1!==e.indexOf(c)},insert:function(f,e,g){return f.slice(0,g)+e+f.slice(g)},reduce:function(h,g){if(null===this){throw new TypeError("Array.prototype.reduce called on null or undefined")}if("function"!=typeof g){throw new TypeError(g+" is not a function")}var v,u=Object(h),t=u.length>>>0,s=0;if(3===arguments.length){v=arguments[2]}else{for(;t>s&&!(s in u);){s++}if(s>=t){throw new TypeError("Reduce of empty array with no initial value")}v=u[s++]}for(;t>s;s++){s in u&&(v=g(v,u[s],s,u))}return v},multiplier:function(e){var c=e.toString().split(".");return c.length<2?1:Math.pow(10,c[1].length)},correctionFactor:function(){var b=Array.prototype.slice.call(arguments);return b.reduce(function(e,c){var f=q.multiplier(c);return e>f?e:f},1)},toFixed:function(B,A,z,y){var x,w,v,u,t=B.toString().split("."),s=A-(y||0);return x=2===t.length?Math.min(Math.max(t[1].length,s),A):s,v=Math.pow(10,x),u=(z(B+"e+"+x)/v).toFixed(x),y>A-x&&(w=new RegExp("\\.?0{1,"+(y-(A-x))+"}$"),u=u.replace(w,"")),u}},j.options=l,j.formats=o,j.locales=n,j.locale=function(b){return b&&(l.currentLocale=b.toLowerCase()),l.currentLocale},j.localeData=function(b){if(!b){return n[l.currentLocale]}if(b=b.toLowerCase(),!n[b]){throw new Error("Unknown locale : "+b)}return n[b]},j.reset=function(){for(var b in m){l[b]=m[b]}},j.zeroFormat=function(b){l.zeroFormat="string"==typeof b?b:null},j.nullFormat=function(b){l.nullFormat="string"==typeof b?b:null},j.defaultFormat=function(b){l.defaultFormat="string"==typeof b?b:"0.0"},j.register=function(f,e,g){if(e=e.toLowerCase(),this[f+"s"][e]){throw new TypeError(e+" "+f+" already registered.")}return this[f+"s"][e]=g,g},j.validate=function(B,A){var z,y,x,w,v,u,t,s;if("string"!=typeof B&&(B+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",B)),B=B.trim(),B.match(/^\d+$/)){return !0}if(""===B){return !1}try{t=j.localeData(A)}catch(b){t=j.localeData(j.locale())}return x=t.currency.symbol,v=t.abbreviations,z=t.delimiters.decimal,y="."===t.delimiters.thousands?"\\.":t.delimiters.thousands,s=B.match(/^[^\d]+/),null!==s&&(B=B.substr(1),s[0]!==x)?!1:(s=B.match(/[^\d]+$/),null!==s&&(B=B.slice(0,-1),s[0]!==v.thousand&&s[0]!==v.million&&s[0]!==v.billion&&s[0]!==v.trillion)?!1:(u=new RegExp(y+"{2}"),B.match(/[^\d.,]/g)?!1:(w=B.split(z),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(u):1===w[0].length?!!w[0].match(/^\d+$/)&&!w[0].match(u)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(u)&&!!w[1].match(/^\d+$/))))},j.fn=k.prototype={clone:function(){return j(this)},format:function(b,v){var u,t,s,h=this._value,e=b||l.defaultFormat;if(v=v||Math.round,0===h&&null!==l.zeroFormat){t=l.zeroFormat}else{if(null===h&&null!==l.nullFormat){t=l.nullFormat}else{for(u in o){if(e.match(o[u].regexps.format)){s=o[u].format;break}}s=s||j._.numberToFormat,t=s(h,e,v)}}return t},value:function(){return this._value},input:function(){return this._input},set:function(b){return this._value=Number(b),this},add:function(e){function c(h,g,t,s){return h+Math.round(f*g)}var f=q.correctionFactor.call(null,this._value,e);return this._value=q.reduce([this._value,e],c,0)/f,this},subtract:function(e){function c(h,g,t,s){return h-Math.round(f*g)}var f=q.correctionFactor.call(null,this._value,e);return this._value=q.reduce([e],c,Math.round(this._value*f))/f,this},multiply:function(e){function c(h,g,u,t){var s=q.correctionFactor(h,g);return Math.round(h*s)*Math.round(g*s)/Math.round(s*s)}return this._value=q.reduce([this._value,e],c,1),this},divide:function(e){function c(h,g,u,t){var s=q.correctionFactor(h,g);return Math.round(h*s)/Math.round(g*s)}return this._value=q.reduce([this._value,e],c),this},difference:function(b){return Math.abs(j(this._value).subtract(b).value())}},j.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var c=e%10;return 1===~~(e%100/10)?"th":1===c?"st":2===c?"nd":3===c?"rd":"th"},currency:{symbol:"$"}}),function(){j.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(b,t,s){var h,g=j._.includes(t," BPS")?" ":"";return b=10000*b,t=t.replace(/\s?BPS/,""),h=j._.numberToFormat(b,t,s),j._.includes(h,")")?(h=h.split(""),h.splice(-1,0,g+"BPS"),h=h.join("")):h=h+g+"BPS",h},unformat:function(b){return +(0.0001*j._.stringToNumber(b)).toFixed(15)}})}(),function(){var b={base:1000,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},h={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=b.suffixes.concat(h.suffixes.filter(function(a){return b.suffixes.indexOf(a)<0})),f=g.join("|");f="("+f.replace("B","B(?!PS)")+")",j.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(f)},format:function(y,x,w){var v,u,t,s,c=j._.includes(x,"ib")?h:b,a=j._.includes(x," b")||j._.includes(x," ib")?" ":"";for(x=x.replace(/\s?i?b/,""),u=0;u<=c.suffixes.length;u++){if(t=Math.pow(c.base,u),s=Math.pow(c.base,u+1),null===y||0===y||y>=t&&s>y){a+=c.suffixes[u],t>0&&(y/=t);break}}return v=j._.numberToFormat(y,x,w),v+a},unformat:function(t){var s,c,a=j._.stringToNumber(t);if(a){for(s=b.suffixes.length-1;s>=0;s--){if(j._.includes(t,b.suffixes[s])){c=Math.pow(b.base,s);break}if(j._.includes(t,h.suffixes[s])){c=Math.pow(h.base,s);break}}a*=c||1}return a}})}(),function(){j.register("format","currency",{regexps:{format:/(\$)/},format:function(b,y,x){var w,v,u,t=j.locales[j.options.currentLocale],s={before:y.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:y.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(y=y.replace(/\s?\$\s?/,""),w=j._.numberToFormat(b,y,x),b>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):0>b&&!j._.includes(s.before,"-")&&!j._.includes(s.before,"(")&&(s.before="-"+s.before),u=0;u<s.before.length;u++){switch(v=s.before[u]){case"$":w=j._.insert(w,t.currency.symbol,u);break;case" ":w=j._.insert(w," ",u+t.currency.symbol.length-1)}}for(u=s.after.length-1;u>=0;u--){switch(v=s.after[u]){case"$":w=u===s.after.length-1?w+t.currency.symbol:j._.insert(w,t.currency.symbol,-(s.after.length-(1+u)));break;case" ":w=u===s.after.length-1?w+" ":j._.insert(w," ",-(s.after.length-(1+u)+t.currency.symbol.length-1))}}return w}})}(),function(){j.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(b,v,u){var t,s="number"!=typeof b||j._.isNaN(b)?"0e+0":b.toExponential(),h=s.split("e");return v=v.replace(/e[\+|\-]{1}0/,""),t=j._.numberToFormat(Number(h[0]),v,u),t+"e"+h[1]},unformat:function(b){function t(u,z,y,x){var w=j._.correctionFactor(u,z),v=u*w*(z*w)/(w*w);return v}var s=j._.includes(b,"e+")?b.split("e+"):b.split("e-"),h=Number(s[0]),g=Number(s[1]);return g=j._.includes(b,"e-")?g*=-1:g,j._.reduce([h,Math.pow(10,g)],t,1)}})}(),function(){j.register("format","ordinal",{regexps:{format:/(o)/},format:function(b,v,u){var t,s=j.locales[j.options.currentLocale],h=j._.includes(v," o")?" ":"";return v=v.replace(/\s?o/,""),h+=s.ordinal(b),t=j._.numberToFormat(b,v,u),t+h}})}(),function(){j.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(b,t,s){var h,g=j._.includes(t," %")?" ":"";return j.options.scalePercentBy100&&(b=100*b),t=t.replace(/\s?\%/,""),h=j._.numberToFormat(b,t,s),j._.includes(h,")")?(h=h.split(""),h.splice(-1,0,g+"%"),h=h.join("")):h=h+g+"%",h},unformat:function(b){var e=j._.stringToNumber(b);return j.options.scalePercentBy100?0.01*e:e}})}(),function(){j.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(h,g,v){var u=Math.floor(h/60/60),t=Math.floor((h-60*u*60)/60),s=Math.round(h-60*u*60-60*t);return u+":"+(10>t?"0"+t:t)+":"+(10>s?"0"+s:s)},unformat:function(f){var e=f.split(":"),g=0;return 3===e.length?(g+=60*Number(e[0])*60,g+=60*Number(e[1]),g+=Number(e[2])):2===e.length&&(g+=60*Number(e[0]),g+=Number(e[1])),Number(g)}})}(),j});(function(b,a){"object"===typeof exports?module.exports=a():"function"===typeof define&&define.amd?define(a):b.IPv6=a(b)})(this,function(b){var a=b&&b.IPv6;return{best:function(q){q=q.toLowerCase().split(":");var e=q.length,c=8;""===q[0]&&""===q[1]&&""===q[2]?(q.shift(),q.shift()):""===q[0]&&""===q[1]?q.shift():""===q[e-1]&&""===q[e-2]&&q.pop();e=q.length;-1!==q[e-1].indexOf(".")&&(c=7);var n;for(n=0;n<e&&""!==q[n];n++){}if(n<c){for(q.splice(n,1,"0000");q.length<c;){q.splice(n,0,"0000")}}for(n=0;n<c;n++){for(var e=q[n].split(""),s=0;3>s;s++){if("0"===e[0]&&1<e.length){e.splice(0,1)}else{break}}q[n]=e.join("")}var e=-1,j=s=0,o=-1,p=!1;for(n=0;n<c;n++){p?"0"===q[n]?j+=1:(p=!1,j>s&&(e=o,s=j)):"0"===q[n]&&(p=!0,o=n,j=1)}j>s&&(e=o,s=j);1<s&&q.splice(e,s,"");e=q.length;c="";""===q[0]&&(c=":");for(n=0;n<e;n++){c+=q[n];if(n===e-1){break}c+=":"}""===q[e-1]&&(c+=":");return c},noConflict:function(){b.IPv6===this&&(b.IPv6=a);return this}}});(function(P){function L(e){throw RangeError(j[e])}function O(f,k){for(var g=f.length;g--;){f[g]=k(f[g])}return f}function K(f,g){return O(f.split(o),g).join(".")}function R(f){for(var l=[],k=0,g=f.length,n,m;k<g;){n=f.charCodeAt(k++),55296<=n&&56319>=n&&k<g?(m=f.charCodeAt(k++),56320==(m&64512)?l.push(((n&1023)<<10)+(m&1023)+65536):(l.push(n),k--)):l.push(n)}return l}function M(e){return O(e,function(f){var g="";65535<f&&(f-=65536,g+=H(f>>>10&1023|55296),f=56320|f&1023);return g+=H(f)}).join("")}function c(f,g){return f+22+75*(26>f)-((0!=g)<<5)}function I(f,l,k){var g=0;f=k?F(f/700):f>>1;for(f+=F(f/l);455<f;g+=36){f=F(f/35)}return F(g+36*f/(f+38))}function N(v){var q=[],l=v.length,z,u=0,s=128,B=72,A,y,n,p,k;A=v.lastIndexOf("-");0>A&&(A=0);for(y=0;y<A;++y){128<=v.charCodeAt(y)&&L("not-basic"),q.push(v.charCodeAt(y))}for(A=0<A?A+1:0;A<l;){y=u;z=1;for(n=36;;n+=36){A>=l&&L("invalid-input");p=v.charCodeAt(A++);p=10>p-48?p-22:26>p-65?p-65:26>p-97?p-97:36;(36<=p||p>F((2147483647-u)/z))&&L("overflow");u+=p*z;k=n<=B?1:n>=B+26?26:n-B;if(p<k){break}p=36-k;z>F(2147483647/p)&&L("overflow");z*=p}z=q.length+1;B=I(u-y,z,0==y);F(u/z)>2147483647-s&&L("overflow");s+=F(u/z);u%=z;q.splice(u++,0,s)}return M(q)}function E(y){var s,u,C,A,z,S,D,B,v,p=[],b,q,l;y=R(y);b=y.length;s=128;u=0;z=72;for(S=0;S<b;++S){v=y[S],128>v&&p.push(H(v))}for((C=A=p.length)&&p.push("-");C<b;){D=2147483647;for(S=0;S<b;++S){v=y[S],v>=s&&v<D&&(D=v)}q=C+1;D-s>F((2147483647-u)/q)&&L("overflow");u+=(D-s)*q;s=D;for(S=0;S<b;++S){if(v=y[S],v<s&&2147483647<++u&&L("overflow"),v==s){B=u;for(D=36;;D+=36){v=D<=z?1:D>=z+26?26:D-z;if(B<v){break}l=B-v;B=36-v;p.push(H(c(v+l%B,0)));B=F(l/B)}p.push(H(c(B,0)));z=I(u,q,C==A);u=0;++C}}++u;++s}return p.join("")}var G="object"==typeof exports&&exports,x="object"==typeof module&&module&&module.exports==G&&module,a="object"==typeof global&&global;if(a.global===a||a.window===a){P=a}var w,J=/^xn--/,Q=/[^ -~]/,o=/\x2E|\u3002|\uFF0E|\uFF61/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=Math.floor,H=String.fromCharCode,t;w={version:"1.2.3",ucs2:{decode:R,encode:M},decode:N,encode:E,toASCII:function(e){return K(e,function(f){return Q.test(f)?"xn--"+E(f):f})},toUnicode:function(e){return K(e,function(f){return J.test(f)?N(f.slice(4).toLowerCase()):f})}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd){define(function(){return w})}else{if(G&&!G.nodeType){if(x){x.exports=w}else{for(t in w){w.hasOwnProperty(t)&&(G[t]=w[t])}}}else{P.punycode=w}}})(this);(function(b,a){"object"===typeof exports?module.exports=a():"function"===typeof define&&define.amd?define(a):b.SecondLevelDomains=a(b)})(this,function(c){var a=c&&c.SecondLevelDomains,b={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(j){var e=j.lastIndexOf(".");if(0>=e||e>=j.length-1){return !1}var h=j.lastIndexOf(".",e-1);if(0>=h||h>=e-1){return !1}var g=b.list[j.slice(e+1)];return g?0<=g.indexOf(" "+j.slice(h+1,e)+" "):!1},is:function(h){var e=h.lastIndexOf(".");if(0>=e||e>=h.length-1||0<=h.lastIndexOf(".",e-1)){return !1}var g=b.list[h.slice(e+1)];return g?0<=g.indexOf(" "+h.slice(0,e)+" "):!1},get:function(j){var e=j.lastIndexOf(".");if(0>=e||e>=j.length-1){return null}var h=j.lastIndexOf(".",e-1);if(0>=h||h>=e-1){return null}var g=b.list[j.slice(e+1)];return !g||0>g.indexOf(" "+j.slice(h+1,e)+" ")?null:j.slice(h+1)},noConflict:function(){c.SecondLevelDomains===this&&(c.SecondLevelDomains=a);return this}};return b});(function(b,a){"object"===typeof exports?module.exports=a(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],a):b.URI=a(b.punycode,b.IPv6,b.SecondLevelDomains,b)})(this,function(V,R,U,Q){function X(b,e){if(!(this instanceof X)){return new X(b,e)}void 0===b&&(b="undefined"!==typeof location?location.href+"":"");this.href(b);return void 0!==e?this.absoluteTo(e):this}function S(b){return b.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function c(b){return void 0===b?"Undefined":String(Object.prototype.toString.call(b)).slice(8,-1)}function O(b){return"Array"===c(b)}function T(g,l){var k,f;if(O(l)){k=0;for(f=l.length;k<f;k++){if(!T(g,l[k])){return !1}}return !0}var h=c(l);k=0;for(f=g.length;k<f;k++){if("RegExp"===h){if("string"===typeof g[k]&&g[k].match(l)){return !0}}else{if(g[k]===l){return !0}}}return !1}function K(f,h){if(!O(f)||!O(h)||f.length!==h.length){return !1}f.sort();h.sort();for(var g=0,e=f.length;g<e;g++){if(f[g]!==h[g]){return !1}}return !0}function M(b){return escape(b)}function J(b){return encodeURIComponent(b).replace(/[!'()*]/g,M).replace(/\*/g,"%2A")}function a(b){return function(f,e){if(void 0===f){return this._parts[b]||""}this._parts[b]=f||null;this.build(!e);return this}}function I(b,e){return function(g,f){if(void 0===g){return this._parts[b]||""}null!==g&&(g+="",g.charAt(0)===e&&(g=g.substring(1)));this._parts[b]=g;this.build(!f);return this}}var P=Q&&Q.URI;X.version="1.14.1";var W=X.prototype,w=Object.prototype.hasOwnProperty;X._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:X.duplicateQueryParameters,escapeQuerySpace:X.escapeQuerySpace}};X.duplicateQueryParameters=!1;X.escapeQuerySpace=!0;X.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;X.idn_expression=/[^a-z0-9\.-]/i;X.punycode_expression=/(xn--)/i;X.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;X.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;X.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;X.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};X.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};X.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;X.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};X.getDomAttribute=function(b){if(b&&b.nodeName){var e=b.nodeName.toLowerCase();return"input"===e&&"image"!==b.type?void 0:X.domAttributes[e]}};X.encode=J;X.decode=decodeURIComponent;X.iso8859=function(){X.encode=escape;X.decode=unescape};X.unicode=function(){X.encode=J;X.decode=decodeURIComponent};X.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};X.encodeQuery=function(b,f){var e=X.encode(b+"");void 0===f&&(f=X.escapeQuerySpace);return f?e.replace(/%20/g,"+"):e};X.decodeQuery=function(b,f){b+="";void 0===f&&(f=X.escapeQuerySpace);try{return X.decode(f?b.replace(/\+/g,"%20"):b)}catch(e){return b}};X.recodePath=function(b){b=(b+"").split("/");for(var f=0,e=b.length;f<e;f++){b[f]=X.encodePathSegment(X.decode(b[f]))}return b.join("/")};X.decodePath=function(b){b=(b+"").split("/");for(var f=0,e=b.length;f<e;f++){b[f]=X.decodePathSegment(b[f])}return b.join("/")};var o={encode:"encode",decode:"decode"},L,N=function(b,e){return function(g){try{return X[e](g+"").replace(X.characters[b][e].expression,function(h){return X.characters[b][e].map[h]})}catch(f){return g}}};for(L in o){X[L+"PathSegment"]=N("pathname",o[L])}X.encodeReserved=N("reserved","encode");X.parse=function(b,f){var e;f||(f={});e=b.indexOf("#");-1<e&&(f.fragment=b.substring(e+1)||null,b=b.substring(0,e));e=b.indexOf("?");-1<e&&(f.query=b.substring(e+1)||null,b=b.substring(0,e));"//"===b.substring(0,2)?(f.protocol=null,b=b.substring(2),b=X.parseAuthority(b,f)):(e=b.indexOf(":"),-1<e&&(f.protocol=b.substring(0,e)||null,f.protocol&&!f.protocol.match(X.protocol_expression)?f.protocol=void 0:"//"===b.substring(e+1,e+3)?(b=b.substring(e+3),b=X.parseAuthority(b,f)):(b=b.substring(e+1),f.urn=!0)));f.path=b;return f};X.parseHost=function(f,h){var g=f.indexOf("/"),e;-1===g&&(g=f.length);"["===f.charAt(0)?(e=f.indexOf("]"),h.hostname=f.substring(1,e)||null,h.port=f.substring(e+2,g)||null,"/"===h.port&&(h.port=null)):f.indexOf(":")!==f.lastIndexOf(":")?(h.hostname=f.substring(0,g)||null,h.port=null):(e=f.substring(0,g).split(":"),h.hostname=e[0]||null,h.port=e[1]||null);h.hostname&&"/"!==f.substring(g).charAt(0)&&(g++,f="/"+f);return f.substring(g)||"/"};X.parseAuthority=function(b,e){b=X.parseUserinfo(b,e);return X.parseHost(b,e)};X.parseUserinfo=function(b,g){var f=b.indexOf("/"),e=b.lastIndexOf("@",-1<f?f:b.length-1);-1<e&&(-1===f||e<f)?(f=b.substring(0,e).split(":"),g.username=f[0]?X.decode(f[0]):null,f.shift(),g.password=f[0]?X.decode(f.join(":")):null,b=b.substring(e+1)):(g.username=null,g.password=null);return b};X.parseQuery=function(b,s){if(!b){return{}}b=b.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!b){return{}}for(var q={},k=b.split("&"),p=k.length,n,l,m=0;m<p;m++){n=k[m].split("="),l=X.decodeQuery(n.shift(),s),n=n.length?X.decodeQuery(n.join("="),s):null,w.call(q,l)?("string"===typeof q[l]&&(q[l]=[q[l]]),q[l].push(n)):q[l]=n}return q};X.build=function(b){var e="";b.protocol&&(e+=b.protocol+":");b.urn||!e&&!b.hostname||(e+="//");e+=X.buildAuthority(b)||"";"string"===typeof b.path&&("/"!==b.path.charAt(0)&&"string"===typeof b.hostname&&(e+="/"),e+=b.path);"string"===typeof b.query&&b.query&&(e+="?"+b.query);"string"===typeof b.fragment&&b.fragment&&(e+="#"+b.fragment);return e};X.buildHost=function(b){var e="";if(b.hostname){e=X.ip6_expression.test(b.hostname)?e+("["+b.hostname+"]"):e+b.hostname}else{return""}b.port&&(e+=":"+b.port);return e};X.buildAuthority=function(b){return X.buildUserinfo(b)+X.buildHost(b)};X.buildUserinfo=function(b){var e="";b.username&&(e+=X.encode(b.username),b.password&&(e+=":"+X.encode(b.password)),e+="@");return e};X.buildQuery=function(b,s,q){var k="",p,n,l,m;for(n in b){if(w.call(b,n)&&n){if(O(b[n])){for(p={},l=0,m=b[n].length;l<m;l++){void 0!==b[n][l]&&void 0===p[b[n][l]+""]&&(k+="&"+X.buildQueryParameter(n,b[n][l],q),!0!==s&&(p[b[n][l]+""]=!0))}}else{void 0!==b[n]&&(k+="&"+X.buildQueryParameter(n,b[n],q))}}}return k.substring(1)};X.buildQueryParameter=function(b,f,e){return X.encodeQuery(b,e)+(null!==f?"="+X.encodeQuery(f,e):"")};X.addQuery=function(b,h,g){if("object"===typeof h){for(var f in h){w.call(h,f)&&X.addQuery(b,f,h[f])}}else{if("string"===typeof h){void 0===b[h]?b[h]=g:("string"===typeof b[h]&&(b[h]=[b[h]]),O(g)||(g=[g]),b[h]=(b[h]||[]).concat(g))}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}};X.removeQuery=function(b,q,p){var n;if(O(q)){for(p=0,n=q.length;p<n;p++){b[q[p]]=void 0}}else{if("object"===typeof q){for(n in q){w.call(q,n)&&X.removeQuery(b,n,q[n])}}else{if("string"===typeof q){if(void 0!==p){if(b[q]===p){b[q]=void 0}else{if(O(b[q])){n=b[q];var m={},k,l;if(O(p)){for(k=0,l=p.length;k<l;k++){m[p[k]]=!0}}else{m[p]=!0}k=0;for(l=n.length;k<l;k++){void 0!==m[n[k]]&&(n.splice(k,1),l--,k--)}b[q]=n}}}else{b[q]=void 0}}else{throw new TypeError("URI.addQuery() accepts an object, string as the first parameter")}}}};X.hasQuery=function(b,l,k,h){if("object"===typeof l){for(var g in l){if(w.call(l,g)&&!X.hasQuery(b,g,l[g])){return !1}}return !0}if("string"!==typeof l){throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter")}switch(c(k)){case"Undefined":return l in b;case"Boolean":return b=Boolean(O(b[l])?b[l].length:b[l]),k===b;case"Function":return !!k(b[l],l,b);case"Array":return O(b[l])?(h?T:K)(b[l],k):!1;case"RegExp":return O(b[l])?h?T(b[l],k):!1:Boolean(b[l]&&b[l].match(k));case"Number":k=String(k);case"String":return O(b[l])?h?T(b[l],k):!1:b[l]===k;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}};X.commonPath=function(f,h){var g=Math.min(f.length,h.length),e;for(e=0;e<g;e++){if(f.charAt(e)!==h.charAt(e)){e--;break}}if(1>e){return f.charAt(0)===h.charAt(0)&&"/"===f.charAt(0)?"/":""}if("/"!==f.charAt(e)||"/"!==h.charAt(e)){e=f.substring(0,e).lastIndexOf("/")}return f.substring(0,e+1)};X.withinString=function(z,y,v){v||(v={});var u=v.start||X.findUri.start,s=v.end||X.findUri.end,p=v.trim||X.findUri.trim,q=/[a-z0-9-]=["']?$/i;for(u.lastIndex=0;;){var b=u.exec(z);if(!b){break}b=b.index;if(v.ignoreHtml){var n=z.slice(Math.max(b-3,0),b);if(n&&q.test(n)){continue}}var n=b+z.slice(b).search(s),l=z.slice(b,n).replace(p,"");v.ignore&&v.ignore.test(l)||(n=b+l.length,l=y(l,b,n,z),z=z.slice(0,b)+l+z.slice(n),u.lastIndex=b+l.length)}u.lastIndex=0;return z};X.ensureValidHostname=function(b){if(b.match(X.invalid_hostname_characters)){if(!V){throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available')}if(V.toASCII(b).match(X.invalid_hostname_characters)){throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-]')}}};X.noConflict=function(b){if(b){return b={URI:this.noConflict()},Q.URITemplate&&"function"===typeof Q.URITemplate.noConflict&&(b.URITemplate=Q.URITemplate.noConflict()),Q.IPv6&&"function"===typeof Q.IPv6.noConflict&&(b.IPv6=Q.IPv6.noConflict()),Q.SecondLevelDomains&&"function"===typeof Q.SecondLevelDomains.noConflict&&(b.SecondLevelDomains=Q.SecondLevelDomains.noConflict()),b}Q.URI===this&&(Q.URI=P);return this};W.build=function(b){if(!0===b){this._deferred_build=!0}else{if(void 0===b||this._deferred_build){this._string=X.build(this._parts),this._deferred_build=!1}}return this};W.clone=function(){return new X(this)};W.valueOf=W.toString=function(){return this.build(!1)._string};W.protocol=a("protocol");W.username=a("username");W.password=a("password");W.hostname=a("hostname");W.port=a("port");W.query=I("query","?");W.fragment=I("fragment","#");W.search=function(b,f){var e=this.query(b,f);return"string"===typeof e&&e.length?"?"+e:e};W.hash=function(b,f){var e=this.fragment(b,f);return"string"===typeof e&&e.length?"#"+e:e};W.pathname=function(b,f){if(void 0===b||!0===b){var e=this._parts.path||(this._parts.hostname?"/":"");return b?X.decodePath(e):e}this._parts.path=b?X.recodePath(b):"/";this.build(!f);return this};W.path=W.pathname;W.href=function(b,l){var k;if(void 0===b){return this.toString()}this._string="";this._parts=X._parts();var h=b instanceof X,g="object"===typeof b&&(b.hostname||b.path||b.pathname);b.nodeName&&(g=X.getDomAttribute(b),b=b[g]||"",g=!1);!h&&g&&void 0!==b.pathname&&(b=b.toString());if("string"===typeof b||b instanceof String){this._parts=X.parse(String(b),this._parts)}else{if(h||g){for(k in h=h?b._parts:b,h){w.call(this._parts,k)&&(this._parts[k]=h[k])}}else{throw new TypeError("invalid input")}}this.build(!l);return this};W.is=function(v){var u=!1,s=!1,q=!1,p=!1,n=!1,b=!1,l=!1,g=!this._parts.urn;this._parts.hostname&&(g=!1,s=X.ip4_expression.test(this._parts.hostname),q=X.ip6_expression.test(this._parts.hostname),u=s||q,n=(p=!u)&&U&&U.has(this._parts.hostname),b=p&&X.idn_expression.test(this._parts.hostname),l=p&&X.punycode_expression.test(this._parts.hostname));switch(v.toLowerCase()){case"relative":return g;case"absolute":return !g;case"domain":case"name":return p;case"sld":return n;case"ip":return u;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return q;case"idn":return b;case"url":return !this._parts.urn;case"urn":return !!this._parts.urn;case"punycode":return l}return null};var H=W.protocol,x=W.port,t=W.hostname;W.protocol=function(b,e){if(void 0!==b&&b&&(b=b.replace(/:(\/\/)?$/,""),!b.match(X.protocol_expression))){throw new TypeError('Protocol "'+b+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]")}return H.call(this,b,e)};W.scheme=W.protocol;W.port=function(b,e){if(this._parts.urn){return void 0===b?"":this}if(void 0!==b&&(0===b&&(b=null),b&&(b+="",":"===b.charAt(0)&&(b=b.substring(1)),b.match(/[^0-9]/)))){throw new TypeError('Port "'+b+'" contains characters other than [0-9]')}return x.call(this,b,e)};W.hostname=function(b,f){if(this._parts.urn){return void 0===b?"":this}if(void 0!==b){var e={};X.parseHost(b,e);b=e.hostname}return t.call(this,b,f)};W.host=function(b,e){if(this._parts.urn){return void 0===b?"":this}if(void 0===b){return this._parts.hostname?X.buildHost(this._parts):""}X.parseHost(b,this._parts);this.build(!e);return this};W.authority=function(b,e){if(this._parts.urn){return void 0===b?"":this}if(void 0===b){return this._parts.hostname?X.buildAuthority(this._parts):""}X.parseAuthority(b,this._parts);this.build(!e);return this};W.userinfo=function(b,f){if(this._parts.urn){return void 0===b?"":this}if(void 0===b){if(!this._parts.username){return""}var e=X.buildUserinfo(this._parts);return e.substring(0,e.length-1)}"@"!==b[b.length-1]&&(b+="@");X.parseUserinfo(b,this._parts);this.build(!f);return this};W.resource=function(b,f){var e;if(void 0===b){return this.path()+this.search()+this.hash()}e=X.parse(b);this._parts.path=e.path;this._parts.query=e.query;this._parts.fragment=e.fragment;this.build(!f);return this};W.subdomain=function(b,f){if(this._parts.urn){return void 0===b?"":this}if(void 0===b){if(!this._parts.hostname||this.is("IP")){return""}var e=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,e)||""}e=this._parts.hostname.length-this.domain().length;e=this._parts.hostname.substring(0,e);e=new RegExp("^"+S(e));b&&"."!==b.charAt(b.length-1)&&(b+=".");b&&X.ensureValidHostname(b);this._parts.hostname=this._parts.hostname.replace(e,b);this.build(!f);return this};W.domain=function(b,f){if(this._parts.urn){return void 0===b?"":this}"boolean"===typeof b&&(f=b,b=void 0);if(void 0===b){if(!this._parts.hostname||this.is("IP")){return""}var e=this._parts.hostname.match(/\./g);if(e&&2>e.length){return this._parts.hostname}e=this._parts.hostname.length-this.tld(f).length-1;e=this._parts.hostname.lastIndexOf(".",e-1)+1;return this._parts.hostname.substring(e)||""}if(!b){throw new TypeError("cannot set domain empty")}X.ensureValidHostname(b);!this._parts.hostname||this.is("IP")?this._parts.hostname=b:(e=new RegExp(S(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(e,b));this.build(!f);return this};W.tld=function(b,f){if(this._parts.urn){return void 0===b?"":this}"boolean"===typeof b&&(f=b,b=void 0);if(void 0===b){if(!this._parts.hostname||this.is("IP")){return""}var e=this._parts.hostname.lastIndexOf("."),e=this._parts.hostname.substring(e+1);return !0!==f&&U&&U.list[e.toLowerCase()]?U.get(this._parts.hostname)||e:e}if(b){if(b.match(/[^a-zA-Z0-9-]/)){if(U&&U.is(b)){e=new RegExp(S(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(e,b)}else{throw new TypeError('TLD "'+b+'" contains characters other than [A-Z0-9]')}}else{if(!this._parts.hostname||this.is("IP")){throw new ReferenceError("cannot set TLD on non-domain host")}e=new RegExp(S(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(e,b)}}else{throw new TypeError("cannot set TLD empty")}this.build(!f);return this};W.directory=function(b,f){if(this._parts.urn){return void 0===b?"":this}if(void 0===b||!0===b){if(!this._parts.path&&!this._parts.hostname){return""}if("/"===this._parts.path){return"/"}var e=this._parts.path.length-this.filename().length-1,e=this._parts.path.substring(0,e)||(this._parts.hostname?"/":"");return b?X.decodePath(e):e}e=this._parts.path.length-this.filename().length;e=this._parts.path.substring(0,e);e=new RegExp("^"+S(e));this.is("relative")||(b||(b="/"),"/"!==b.charAt(0)&&(b="/"+b));b&&"/"!==b.charAt(b.length-1)&&(b+="/");b=X.recodePath(b);this._parts.path=this._parts.path.replace(e,b);this.build(!f);return this};W.filename=function(b,h){if(this._parts.urn){return void 0===b?"":this}if(void 0===b||!0===b){if(!this._parts.path||"/"===this._parts.path){return""}var g=this._parts.path.lastIndexOf("/"),g=this._parts.path.substring(g+1);return b?X.decodePathSegment(g):g}g=!1;"/"===b.charAt(0)&&(b=b.substring(1));b.match(/\.?\//)&&(g=!0);var f=new RegExp(S(this.filename())+"$");b=X.recodePath(b);this._parts.path=this._parts.path.replace(f,b);g?this.normalizePath(h):this.build(!h);return this};W.suffix=function(b,h){if(this._parts.urn){return void 0===b?"":this}if(void 0===b||!0===b){if(!this._parts.path||"/"===this._parts.path){return""}var g=this.filename(),f=g.lastIndexOf(".");if(-1===f){return""}g=g.substring(f+1);g=/^[a-z0-9%]+$/i.test(g)?g:"";return b?X.decodePathSegment(g):g}"."===b.charAt(0)&&(b=b.substring(1));if(g=this.suffix()){f=b?new RegExp(S(g)+"$"):new RegExp(S("."+g)+"$")}else{if(!b){return this}this._parts.path+="."+X.recodePath(b)}f&&(b=X.recodePath(b),this._parts.path=this._parts.path.replace(f,b));this.build(!h);return this};W.segment=function(k,q,p){var g=this._parts.urn?":":"/",n=this.path(),m="/"===n.substring(0,1),n=n.split(g);void 0!==k&&"number"!==typeof k&&(p=q,q=k,k=void 0);if(void 0!==k&&"number"!==typeof k){throw Error('Bad segment "'+k+'", must be 0-based integer')}m&&n.shift();0>k&&(k=Math.max(n.length+k,0));if(void 0===q){return void 0===k?n:n[k]}if(null===k||void 0===n[k]){if(O(q)){n=[];k=0;for(var l=q.length;k<l;k++){if(q[k].length||n.length&&n[n.length-1].length){n.length&&!n[n.length-1].length&&n.pop(),n.push(q[k])}}}else{if(q||"string"===typeof q){""===n[n.length-1]?n[n.length-1]=q:n.push(q)}}}else{q?n[k]=q:n.splice(k,1)}m&&n.unshift("");return this.path(n.join(g),p)};W.segmentCoded=function(b,l,k){var h,g;"number"!==typeof b&&(k=l,l=b,b=void 0);if(void 0===l){b=this.segment(b,l,k);if(O(b)){for(h=0,g=b.length;h<g;h++){b[h]=X.decode(b[h])}}else{b=void 0!==b?X.decode(b):void 0}return b}if(O(l)){for(h=0,g=l.length;h<g;h++){l[h]=X.decode(l[h])}}else{l="string"===typeof l||l instanceof String?X.encode(l):l}return this.segment(b,l,k)};var j=W.query;W.query=function(b,h){if(!0===b){return X.parseQuery(this._parts.query,this._parts.escapeQuerySpace)}if("function"===typeof b){var g=X.parseQuery(this._parts.query,this._parts.escapeQuerySpace),f=b.call(this,g);this._parts.query=X.buildQuery(f||g,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!h);return this}return void 0!==b&&"string"!==typeof b?(this._parts.query=X.buildQuery(b,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!h),this):j.call(this,b,h)};W.setQuery=function(b,l,k){var h=X.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof b||b instanceof String){h[b]=void 0!==l?l:null}else{if("object"===typeof b){for(var g in b){w.call(b,g)&&(h[g]=b[g])}}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}this._parts.query=X.buildQuery(h,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof b&&(k=l);this.build(!k);return this};W.addQuery=function(b,h,g){var f=X.parseQuery(this._parts.query,this._parts.escapeQuerySpace);X.addQuery(f,b,void 0===h?null:h);this._parts.query=X.buildQuery(f,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof b&&(g=h);this.build(!g);return this};W.removeQuery=function(b,h,g){var f=X.parseQuery(this._parts.query,this._parts.escapeQuerySpace);X.removeQuery(f,b,h);this._parts.query=X.buildQuery(f,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof b&&(g=h);this.build(!g);return this};W.hasQuery=function(b,h,g){var f=X.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return X.hasQuery(f,b,h,g)};W.setSearch=W.setQuery;W.addSearch=W.addQuery;W.removeSearch=W.removeQuery;W.hasSearch=W.hasQuery;W.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};W.normalizeProtocol=function(b){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!b));return this};W.normalizeHostname=function(b){this._parts.hostname&&(this.is("IDN")&&V?this._parts.hostname=V.toASCII(this._parts.hostname):this.is("IPv6")&&R&&(this._parts.hostname=R.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!b));return this};W.normalizePort=function(b){"string"===typeof this._parts.protocol&&this._parts.port===X.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!b));return this};W.normalizePath=function(b){if(this._parts.urn||!this._parts.path||"/"===this._parts.path){return this}var n,m=this._parts.path,l="",k,g;"/"!==m.charAt(0)&&(n=!0,m="/"+m);m=m.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");n&&(l=m.substring(1).match(/^(\.\.\/)+/)||"")&&(l=l[0]);for(;;){k=m.indexOf("/..");if(-1===k){break}else{if(0===k){m=m.substring(3);continue}}g=m.substring(0,k).lastIndexOf("/");-1===g&&(g=k);m=m.substring(0,g)+m.substring(k+3)}n&&this.is("relative")&&(m=l+m.substring(1));m=X.recodePath(m);this._parts.path=m;this.build(!b);return this};W.normalizePathname=W.normalizePath;W.normalizeQuery=function(b){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(X.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!b));return this};W.normalizeFragment=function(b){this._parts.fragment||(this._parts.fragment=null,this.build(!b));return this};W.normalizeSearch=W.normalizeQuery;W.normalizeHash=W.normalizeFragment;W.iso8859=function(){var b=X.encode,e=X.decode;X.encode=escape;X.decode=decodeURIComponent;this.normalize();X.encode=b;X.decode=e;return this};W.unicode=function(){var b=X.encode,e=X.decode;X.encode=J;X.decode=unescape;this.normalize();X.encode=b;X.decode=e;return this};W.readable=function(){var b=this.clone();b.username("").password("").normalize();var p="";b._parts.protocol&&(p+=b._parts.protocol+"://");b._parts.hostname&&(b.is("punycode")&&V?(p+=V.toUnicode(b._parts.hostname),b._parts.port&&(p+=":"+b._parts.port)):p+=b.host());b._parts.hostname&&b._parts.path&&"/"!==b._parts.path.charAt(0)&&(p+="/");p+=b.path(!0);if(b._parts.query){for(var n="",m=0,f=b._parts.query.split("&"),l=f.length;m<l;m++){var k=(f[m]||"").split("="),n=n+("&"+X.decodeQuery(k[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==k[1]&&(n+="="+X.decodeQuery(k[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}p+="?"+n.substring(1)}return p+=X.decodeQuery(b.hash(),!0)};W.absoluteTo=function(b){var l=this.clone(),k=["protocol","username","password","hostname","port"],h,g;if(this._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}b instanceof X||(b=new X(b));l._parts.protocol||(l._parts.protocol=b._parts.protocol);if(this._parts.hostname){return l}for(h=0;g=k[h];h++){l._parts[g]=b._parts[g]}l._parts.path?".."===l._parts.path.substring(-2)&&(l._parts.path+="/"):(l._parts.path=b._parts.path,l._parts.query||(l._parts.query=b._parts.query));"/"!==l.path().charAt(0)&&(b=b.directory(),l._parts.path=(b?b+"/":"")+l._parts.path,l.normalizePath());l.build();return l};W.relativeTo=function(b){var n=this.clone().normalize(),m,l,k,g;if(n._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}b=(new X(b)).normalize();m=n._parts;l=b._parts;k=n.path();g=b.path();if("/"!==k.charAt(0)){throw Error("URI is already relative")}if("/"!==g.charAt(0)){throw Error("Cannot calculate a URI relative to another relative URI")}m.protocol===l.protocol&&(m.protocol=null);if(m.username===l.username&&m.password===l.password&&null===m.protocol&&null===m.username&&null===m.password&&m.hostname===l.hostname&&m.port===l.port){m.hostname=null,m.port=null}else{return n.build()}if(k===g){return m.path="",n.build()}b=X.commonPath(n.path(),b.path());if(!b){return n.build()}l=l.path.substring(b.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");m.path=l+m.path.substring(b.length);return n.build()};W.equals=function(b){var n=this.clone();b=new X(b);var m={},l={},k={},g;n.normalize();b.normalize();if(n.toString()===b.toString()){return !0}m=n.query();l=b.query();n.query("");b.query("");if(n.toString()!==b.toString()||m.length!==l.length){return !1}m=X.parseQuery(m,this._parts.escapeQuerySpace);l=X.parseQuery(l,this._parts.escapeQuerySpace);for(g in m){if(w.call(m,g)){if(!O(m[g])){if(m[g]!==l[g]){return !1}}else{if(!K(m[g],l[g])){return !1}}k[g]=!0}}for(g in l){if(w.call(l,g)&&!k[g]){return !1}}return !0};W.duplicateQueryParameters=function(b){this._parts.duplicateQueryParameters=!!b;return this};W.escapeQuerySpace=function(b){this._parts.escapeQuerySpace=!!b;return this};return X});(function(b,a){"object"===typeof exports?module.exports=a(require("./URI")):"function"===typeof define&&define.amd?define(["./URI"],a):b.URITemplate=a(b.URI,b)})(this,function(n,e){function j(f){if(j._cache[f]){return j._cache[f]}if(!(this instanceof j)){return new j(f)}this.expression=f;j._cache[f]=this;return this}function c(f){this.data=f;this.cache={}}var a=e&&e.URITemplate,h=Object.prototype.hasOwnProperty,q=j.prototype,o={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};j._cache={};j.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g;j.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/;j.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/;j.expand=function(y,w){var v=o[y.operator],p=v.named?"Named":"Unnamed",t=y.variables,A=[],g,x,z;for(z=0;x=t[z];z++){g=w.get(x.name),g.val.length?A.push(j["expand"+p](g,v,x.explode,x.explode&&v.separator||",",x.maxlength,x.name)):g.type&&A.push("")}return A.length?v.prefix+A.join(v.separator):""};j.expandNamed=function(E,B,A,x,z,H){var w="",C=B.encode;B=B.empty_name_separator;var G=!E[C].length,F=2===E.type?"":n[C](H),f,t,D;t=0;for(D=E.val.length;t<D;t++){z?(f=n[C](E.val[t][1].substring(0,z)),2===E.type&&(F=n[C](E.val[t][0].substring(0,z)))):G?(f=n[C](E.val[t][1]),2===E.type?(F=n[C](E.val[t][0]),E[C].push([F,f])):E[C].push([void 0,f])):(f=E[C][t][1],2===E.type&&(F=E[C][t][0])),w&&(w+=x),A?w+=F+(B||f?"=":"")+f:(t||(w+=n[C](H)+(B||f?"=":"")),2===E.type&&(w+=F+","),w+=f)}return w};j.expandUnnamed=function(D,A,z,w,x){var F="",u=A.encode;A=A.empty_name_separator;var B=!D[u].length,t,E,f,C;f=0;for(C=D.val.length;f<C;f++){x?E=n[u](D.val[f][1].substring(0,x)):B?(E=n[u](D.val[f][1]),D[u].push([2===D.type?n[u](D.val[f][0]):void 0,E])):E=D[u][f][1],F&&(F+=w),2===D.type&&(t=x?n[u](D.val[f][0].substring(0,x)):D[u][f][0],F+=t,F=z?F+(A||E?"=":""):F+","),F+=E}return F};j.noConflict=function(){e.URITemplate===j&&(e.URITemplate=a);return j};q.expand=function(g){var s="";this.parts&&this.parts.length||this.parse();g instanceof c||(g=new c(g));for(var p=0,m=this.parts.length;p<m;p++){s+="string"===typeof this.parts[p]?this.parts[p]:j.expand(this.parts[p],g)}return s};q.parse=function(){var A=this.expression,y=j.EXPRESSION_PATTERN,x=j.VARIABLE_PATTERN,t=j.VARIABLE_NAME_PATTERN,w=[],D=0,p,z,C;for(y.lastIndex=0;;){z=y.exec(A);if(null===z){w.push(A.substring(D));break}else{w.push(A.substring(D,z.index)),D=z.index+z[0].length}if(!o[z[1]]){throw Error('Unknown Operator "'+z[1]+'" in "'+z[0]+'"')}if(!z[3]){throw Error('Unclosed Expression "'+z[0]+'"')}p=z[2].split(",");for(var B=0,g=p.length;B<g;B++){C=p[B].match(x);if(null===C){throw Error('Invalid Variable "'+p[B]+'" in "'+z[0]+'"')}if(C[1].match(t)){throw Error('Invalid Variable Name "'+C[1]+'" in "'+z[0]+'"')}p[B]={name:C[1],explode:!!C[3],maxlength:C[4]&&parseInt(C[4],10)}}if(!p.length){throw Error('Expression Missing Variable(s) "'+z[0]+'"')}w.push({expression:z[0],operator:z[1],variables:p})}w.length||w.push(A);this.parts=w;return this};c.prototype.get=function(k){var s=this.data,p={type:0,val:[],encode:[],encodeReserved:[]},m;if(void 0!==this.cache[k]){return this.cache[k]}this.cache[k]=p;s="[object Function]"===String(Object.prototype.toString.call(s))?s(k):"[object Function]"===String(Object.prototype.toString.call(s[k]))?s[k](k):s[k];if(void 0!==s&&null!==s){if("[object Array]"===String(Object.prototype.toString.call(s))){m=0;for(k=s.length;m<k;m++){void 0!==s[m]&&null!==s[m]&&p.val.push([void 0,String(s[m])])}p.val.length&&(p.type=3)}else{if("[object Object]"===String(Object.prototype.toString.call(s))){for(m in s){h.call(s,m)&&void 0!==s[m]&&null!==s[m]&&p.val.push([m,String(s[m])])}p.val.length&&(p.type=2)}else{p.type=1,p.val.push([void 0,String(s)])}}}return p};n.expand=function(f,m){var g=(new j(f)).expand(m);return new n(g)};return j});
/*! EZMaxMobile UI v5.2.1 */(function($){var calcFloat={get:function(num){var num=num.toString();if(num.indexOf(".")==-1){return[0,eval(num)]}var nn=num.split(".");var po=nn[1].length;var st=nn.join("");var sign="";if(st.charAt(0)=="-"){st=st.substr(1);sign="-"}for(var i=0;i<st.length;++i){if(st.charAt(0)=="0"){st=st.substr(1,st.length)}}st=sign+st;return[po,eval(st)]},getInt:function(num,figure){var d=Math.pow(10,figure);var n=this.get(num);var v1=eval("num * d");var v2=eval("n[1] * d");if(this.get(v1)[1]==v2){return v1}return(n[0]==0?v1:eval(v2+"/Math.pow(10, n[0])"))},sum:function(v1,v2){var n1=this.get(v1);var n2=this.get(v2);var figure=(n1[0]>n2[0]?n1[0]:n2[0]);v1=this.getInt(v1,figure);v2=this.getInt(v2,figure);return eval("v1 + v2")/Math.pow(10,figure)}};$.extend({spin:{interval:0.25,max:null,min:null,timeInterval:0,timeBlink:200,btnDownClass:"ui-button ui-btn-down",btnUpClass:"ui-button ui-btn-up",txtCss:{marginRight:0,paddingRight:0},lock:false,decimal:".",comma:",",beforeChange:null,changed:null,buttonUp:null,buttonDown:null}});$.fn.extend({spin:function(o){var move=false;touch=("ontouchstart" in window),START_EVENT=touch?"touchstart":"mousedown",MOVE_EVENT=touch?"touchmove":"",END_EVENT=touch?"touchend":"mouseup";return this.each(function(){o=o||{};var opt={isDecimal:false};$.each($.spin,function(k,v){opt[k]=(typeof o[k]!="undefined"?o[k]:v)});var txt=$(this);txt.parent().addClass("ui-spinner");if(txt.data("interval")){opt.interval=parseFloat("0"+txt.data("interval"),10);if(!String.isNullOrEmpty(opt.interval)){opt.isDecimal=((""+opt.interval).indexOf(".")>-1)}}if(txt.data("min")||txt.data("min")===0){opt.min=parseFloat("0"+txt.data("min"),10)}if(txt.data("max")||txt.data("max")===0){opt.max=parseFloat("0"+txt.data("max"),10)}var btnSpinDown=$('<button type="button"><span class="minus"></span></button>');btnSpinDown.addClass(opt.btnDownClass);if(opt.btnDownClass){btnSpinDown.addClass(opt.btnDownClass)}var btnSpinUp=$('<button type="button"><span class="plus"></span></button>');if(opt.btnUpClass){btnSpinUp.addClass(opt.btnUpClass)}btnSpinUp.addClass(opt.btnUpClass);txt.after(btnSpinDown);txt.after(btnSpinUp);if(opt.lock){txt.focus(function(){txt.blur()})}btnSpinDown.on(MOVE_EVENT,function(e){e.stopPropagation();move=true}).on(END_EVENT,function(e){if(!move){e.preventDefault();e.stopPropagation();spin("down")}move=false;return false});btnSpinUp.on(MOVE_EVENT,function(e){e.stopPropagation();move=true}).on(END_EVENT,function(e){if(!move){e.preventDefault();e.stopPropagation();spin("up")}move=false;return false});function spin(dir){var val=txt.val()||"0",readonly=txt.attr("readonly")||false;opt.comma=numeral.localeData().delimiters.thousands;opt.decimal=numeral.localeData().delimiters.decimal;if(!readonly){var org_val=val;if(val.indexOf(":")>0){var x=1,h=parseInt(val.split(":")[0]),m=parseInt(val.split(":")[1]);if(val.indexOf("-")==0){x=-1}if(x==-1&&h==0){h=h*x}val=(h+m*x/60).toString()}else{val=numeral(val).value()}var vector=(dir=="up"?1:-1);var val_temp=org_val;if(opt.decimal){val_temp=val_temp.replace(opt.decimal,"")}if(opt.comma){val_temp=val_temp.replace(opt.comma,"")}if(!isNaN(val_temp)||val_temp.indexOf(":")>0){val=numeral(parseFloat(val)).add(vector*opt.interval).value();if(opt.min!==null&&val<numeral(opt.min).value()){val=numeral(opt.min).value()}if(opt.max!==null&&val>numeral(opt.max).value()){val=numeral(opt.max).value()}if(opt.isDecimal==true){val=numeral(val).format("0.00")}else{val=numeral(val).format("0")}if(val!=txt.val()){var ret=($.isFunction(opt.beforeChange)?opt.beforeChange.apply(txt,[val,org_val]):true);if(ret!==false){txt.val(val);if($.isFunction(opt.changed)){opt.changed.apply(txt,[val])}txt.change();txt.blur()}}}if(vector>0){if($.isFunction(opt.buttonUp)){opt.buttonUp.apply(txt,[val])}}else{if($.isFunction(opt.buttonDown)){opt.buttonDown.apply(txt,[val])}}}}})}})})(jQuery);(function(e){var a=e.event.special,d="D"+(+new Date()),b="D"+(+new Date()+1);a.scrollstart={setup:function(){var g,f=function(j){var h=this,i=arguments;if(g){clearTimeout(g)}else{j.type="scrollstart";e.event.dispatch.apply(h,i)}g=setTimeout(function(){g=null},a.scrollstop.latency)};e(this).bind("scroll",f).data(d,f)},teardown:function(){e(this).unbind("scroll",e(this).data(d))}};a.scrollstop={latency:300,setup:function(){var g,f=function(j){var h=this,i=arguments;if(g){clearTimeout(g)}g=setTimeout(function(){g=null;j.type="scrollstop";e.event.dispatch.apply(h,i)},a.scrollstop.latency)};e(this).bind("scroll",f).data(b,f)},teardown:function(){e(this).unbind("scroll",e(this).data(b))}};e.fn.rememberscroll=function(){var f=sessionStorage.lastscrollposition||0;if(f>0){e("html, body").animate({scrollTop:f},1)}sessionStorage.removeItem("lastscrollposition");e(window).bind("scrollstop",function(){if(e(".ui-page:visible").length>0){sessionStorage.lastscrollposition=window.pageYOffset}})};e.fn.navbar=function(){return this.each(function(){var f=e(this);c=f.children("li").length||0,n="ui-nav-";if(!f.data("emminit")){f.data("emminit",1);f.addClass("ui-navbar");if(c<=1){n+="one"}else{if(c==2){n+="two"}else{if(c==3){n+="three"}else{if(c==4){n+="four"}else{if(c==5){n+="five"}else{if(c>=6){n+="wrap"}}}}}}f.addClass(n)}})};e.fn.checkbox=function(h){var g=false,k=("ontouchstart" in window),f=k?"touchstart":"mousedown",j=k?"touchmove":"",i=k?"touchend":"mouseup";h=e.extend({labels:["",""]},h);return this.each(function(){var t=e(this),s=[];if(t.data("on")){s[0]=t.data("on");s[1]=t.data("off")}else{s=h.labels}var p=e("<div>",{"class":"ui-checkbox ",html:'<div class="ui-checkbox-label">'+s[this.checked?0:1]+'</div><div class="ui-checkbox-handle"></div>'});p.insertAfter(t.hide());p.on(j,function(u){u.stopPropagation();g=true}).on(i,function(){var u=t.attr("readonly")||false;if(!g&&t.attr("disabled")==null&&!u){t.trigger("click")}g=false});t.on("click",function(){var u=false;if(e().jquery.split(".")[0]==="1"){u=!e(this).is(":checked")}else{u=e(this).is(":checked")}r(u)});var l=t.attr("value")||null;if(typeof(angular)!=="undefined"&&t.attr("ng-model")&&angular.element(t).scope){var o=t.attr("ng-model").split(".");var m=angular.element(t).scope();for(var q=0;q<o.length;){m=m[o[q]];if(++q==o.length){l=m}}}if(l!=null&&(l=="true"||l=="Y"||l=="1"||l==1||l==true)){t.prop("checked",true);r(true)}function r(u){p.toggleClass("checked");p.find(".ui-checkbox-label").html(s[u?0:1])}})};e.fn.radiobutton=function(h){var g=false,m=("ontouchstart" in window),f=m?"touchstart":"mousedown",l=m?"touchmove":"",j=m?"touchend":"mouseup";h=h||{};var k={className:"ui-container",checkedClass:"ui-radiobutton-on"};var i=e.extend(k,h||{});return this.each(function(){var o=e(this);if(!o.data("emminit")){o.data("emminit",1);var r=e('<div class="'+i.className+'"><span class="'+i.className+'" name="'+o.attr("id")+'" rel="'+o.attr("name")+'"></span></div>');var q=e("span",r);if(o.attr("checked")==="checked"){q.addClass(i.checkedClass)}var p=e('label[for="'+this.id+'"]');p.on(l,function(s){g=true}).on(j,function(s){if(!g){q.trigger("click")}g=false});q.on("click",function(t){t.preventDefault();t.stopPropagation();var s=e("input#"+e(this).attr("name"),r.parent());if(o.attr("disabled")!=null){return false}if(s.is(":checked")){}else{s.prop("checked",true)}s.trigger("emm.ui.radio");return false});o.on("emm.ui.radio",function(t){t.preventDefault();t.stopPropagation();var s=e(this);e('span[rel="'+s.attr("name")+'"].'+i.checkedClass).removeClass(i.checkedClass);if(s.is(":checked")){e("span[name="+s.attr("id")+"]",r.parent()).addClass(i.checkedClass)}else{e("span[name="+s.attr("id")+"]",r.parent()).removeClass(i.checkedClass)}});o.css({position:"absolute",top:"-200px",left:"-200px"}).before(r);r.parent().css("overflow","hidden")}})};e.fn.autoexpand=function(h){var g=e.extend({minHeight:100,maxHeight:99999},h||{});function f(k){k=k.target||k;var l=k.value.length,j=k.offsetWidth;if(l!=k.valLength||j!=k.boxWidth){var i=Math.max(k.expandMin,Math.min(k.scrollHeight,k.expandMax));k.style.overflow=(k.scrollHeight>i?"auto":"hidden");k.style.height=i+"px";k.valLength=l;k.boxWidth=j}return true}return this.each(function(){if(this.nodeName.toLowerCase()!="textarea"){return}if(e(this).data()){g.minHeight=parseInt("0"+e(this).data("minheight"),10)||e(this).data("minheight")||g.minHeight;g.maxHeight=parseInt("0"+e(this).data("maxheight"),10)||e(this).data("maxheight")||g.maxHeight}this.expandMin=g.minHeight;this.expandMax=g.maxHeight;f(this);if(!this.initialized){this.initialized=true;e(this).css("padding-top",0).css("padding-bottom",0);e(this).on("keyup focus",f)}})};e.fn.searchbar=function(){var g=("ontouchstart" in window),f=g?"touchend":"click";return this.each(function(){var k=e(this);if(!k.data("emminit")){k.data("emminit",1);k.removeClass().addClass("ui-search").wrap('<div class="ui-searchbar">').wrap('<div class="ui-container">');var j=k.find('input[type="search"]'),i=e('<button type="button" class="ui-btn-clear">'),h=null;i.on(f,function(){j.val("");if(typeof(angular)!=="undefined"&&angular.element(j).scope){angular.element(j).triggerHandler("input")}});j.before('<div class="ui-icon-search">').after(i);h=k.find(".ui-btn-side");if(h){k.parent().append(" ").append(h)}if((navigator.platform=="iPad"||navigator.platform=="iPhone"||navigator.platform=="iPod")==false){i.hide()}}})};e.fn.togglebutton=function(){var g=("ontouchstart" in window),f=g?"touchend":"click";return this.each(function(){var i=e(this),h=i.attr("href")||null,j=["Show...","Hide..."];if(!i.data("emminit")){i.data("emminit",1);i.on("click",function(k){k.preventDefault();k.stopPropagation();return false}).on(f,function(m){m.preventDefault();m.stopPropagation();var l=e(h),k;if(i.parent().hasClass("ui-panel")){if(l){l.toggle();i.toggleClass("ui-toggle-hide")}}else{if(i.data("show")||i.data("hide")){j[0]=i.data("show");j[1]=i.data("hide")}if(l){var o=l.is(":visible");l.toggle();i.text((o?j[0]:j[1]))}else{i.text(j[0])}}return false})}})};e.fn.field=function(){return this.each(function(){var h=e(this),f=h.find("label"),j='<div class="ui-block">',g=h.find("input");if(!h.data("emminit")){h.data("emminit",1);if(g.length==0){g=h.find("textarea")}if(g.length==0){g=h.find("[contenteditable]")}if(g){if(g.attr("required")){f.append('<span class="ui-required">')}if(g.attr("readonly")||g.is('[contenteditable="false"]')){g.addClass("ui-readonly").parent().addClass("ui-readonly")}if(f){f.siblings().wrapAll(j);f.wrap(j)}}}})};e.fn.fieldBarcode=function(){var i=("ontouchstart" in window),f="click";var h=(EMMServer.DB.getUserInfo().hasOwnProperty("username"));var g='src="../images/barcode.png"';if(h){g='src="../../images/barcode.png"'}return this.each(function(){var j=e(this);if(!j.data("emminit_fieldBarcode")&&(j.attr("id")||j.attr("ng-model"))){j.data("emminit_fieldBarcode",1);var l=e('<span class="ui-field-barcode"><img '+g+"/></span>");l.on(f,function(){var m={id:j.attr("id"),model:'[ng-model="'+j.attr("ng-model")+'"]'};localStorage._fieldBarcode=JSON.stringify(m);ezscanUrl="ezformscan://?cb=emm.ui._fieldBarcodeCallback('EZSCANVALUE')";nativeUrl(ezscanUrl)});var k=j.siblings(".ui-arrow");if(k.length>0){l.css({right:e(k[0]).width()+1});l.insertBefore(k[0])}else{j.parent().append(l)}}})};e.fn.dialog=function(){return this.each(function(){var f=e(this),g;if(!f.data("emminit")){f.data("emminit",1);f.on("click",function(i){i.preventDefault();i.stopPropagation();g=f.attr("href");if(g){var h=e(g);h.find(".ui-header").each(function(){var k=e(".ui-page:visible").attr("id"),l=e(this);if(l.find("#back").length==0){var j=l.has("#emm_dialog_close");if(!j||j.length==0){j=l.prepend('<a href="#" id="emm_dialog_close" class="ui-btn-left"><span class="cross"/></a>')}j=j.add(e('[data-dismiss="modal"]'));j.on("click",function(m){m.preventDefault();m.stopPropagation();if(k){e(".ui-dialog:visible").hide();e(k).show()}else{e(".ui-dialog:visible").hide();e(".ui-page:first").show();var o=sessionStorage._tempdialogscrollposition||0;if(o>0){e("html, body").animate({scrollTop:o},1)}sessionStorage.removeItem("_tempdialogscrollposition")}h.css("zIndex","0")})}});sessionStorage._tempdialogscrollposition=window.pageYOffset;h.show();h.css("zIndex","999999999");e("html, body").animate({scrollTop:0},1);e(window).off("orientationchange").on("orientationchange",function(j){});e(".ui-page:visible").hide();h.animate({top:0},1,function(){h.height(h.children().first().outerHeight(true))})}})}})};e.fn.breadcrumb=function(h){var f=e.extend({seperator:"&nbsp;&gt;"},h);function g(i){var j=localStorage.history;if(j){j=e.parseJSON(j);if(j.length>=i){j=j.slice(0,i);localStorage.history=JSON.stringify(j)}}localStorage.removeItem("tempUrl")}return this.each(function(){var m=/\blogin\b|\bdomain\b|\bworkflow(?!\/inbxconfig)\b/gi;var o=localStorage.history;if(o){o=e.parseJSON(o)}else{o=[]}if(o.length>1&&m.test(window.location.href)==false){var k=e(document.createElement("ul"));var p=0;if(f.maxBreadcrumbs&&o.length>f.maxBreadcrumbs){p=o.length-f.maxBreadcrumbs}for(var l=p;l<o.length;l++){crumb=o[l];crumbListItem=e(document.createElement("li"));var j=e(document.createElement("a"));j.attr({href:crumb.url}).text(crumb.title).appendTo(crumbListItem.appendTo(k));j.click(function(){g(e(this).data("index"))});j.data("index",l);e(document.createElement("span")).html(f.seperator).appendTo(crumbListItem)}crumbListItem=e(document.createElement("li"));crumb=(e(".ui-header:visible .ui-title").text()||document.title);e(document.createElement("span")).text(crumb).appendTo(e(crumbListItem).appendTo(e(k)));k.appendTo(e(this))}})};e.fn.callout=function(g,f){var f=f||EMMConstants.INFO;return this.each(function(){if(!g){return}emm.ui.removeAllCallouts();var h=e(this);if(String.isNullOrEmpty(h.attr("id"))){i=new Date().getTime();h.parents("li").before('<li id="'+i+'" class="ui-callout ui-message-'+f+'">'+g+"</li>")}else{var i="emm_callout_"+h.attr("id");e('li:has([id="'+h.attr("id")+'"])').before('<li id="'+i+'" class="ui-callout ui-message-'+f+'">'+g+"</li>")}})};e.fn.htmlEditor=function(f){return this.each(function(h,g){var m=e(this),l={height:m.attr("height")||"inherit",width:m.attr("width")||"inherit",controls:m.data("controls")||""};if(f){e.extend(l,f)}var j=m.cleditor(l);m.cleditor()[0].$area.hide();m.cleditor()[0].$frame.show();if(m.attr("readonly")!==undefined){m.cleditor()[0].disable(true)}var i=function(){var k=e(m.cleditor()[0].$frame).contents().find("body").height();if(k<100){k=100}e(m.cleditor()[0].$frame).height(k+20)};if(m.attr("onchange")||m.attr("ng-model")){j.change(function(){m.change();i()});e(m.cleditor()[0].doc.body).on("input paste",function(k){setTimeout(function(){m.cleditor()[0].updateTextArea();i();if(typeof(angular)!=="undefined"&&angular.element(m).scope){angular.element(m).triggerHandler("input")}},1)});m.on("updatehtml",function(){var k=e(m.cleditor()[0].doc.body);function o(){var r=e(".cleditorMain iframe");for(var q=0,p=r.length;q<p;q++){if(r[q]===document.activeElement){return true}}return false}if(o()===false){k.html(m.val());i()}})}if(l.controls===""){e(".cleditorGroup, .cleditorToolbar").css({height:0})}e(".cleditorMain iframe").attr("tabindex","-1");m.cleditor()[0].doc.documentElement.style.height="auto";m.cleditor()[0].doc.body.style.height="auto";setTimeout(function(){e(".cleditorGroup, .cleditorToolbar").remove();i()},10)})};e.fn.inlineStyle=function(f){return this.prop("style")?this.prop("style")[e.camelCase(f)]:null}})(jQuery);(function($){var emm=window.emm||{};emm.ui=emm.ui||{};var isOfflineMode=false,isiOS=(navigator.platform=="iPad"||navigator.platform=="iPhone"||navigator.platform=="iPod"),defaultOpts={eSigEnabled:false,enableBreadcrumbs:false,maxBreadcrumbs:4,enableHtmlEditor:true,fixedHeader:true,datePickerTheme:"emm",datePickerMode:"mixed",datePickerTapEnabled:true,timeStepMinute:1,locale:"en_US",language:"EN"};emm.ui._fieldBarcodeCallback=function(barcodeValue){var isOfflineMode=(EMMServer.DB.getUserInfo().hasOwnProperty("username"));var el=localStorage._fieldBarcode;if(!String.isNullOrEmpty(el)){el=$.parseJSON(el);if(el.id){el=$("#"+el.id)}else{if(el.model){el=$(el.model)}else{return}}el.val(barcodeValue);if(isOfflineMode){el.trigger("input")}else{el.trigger("change")}}};emm.ui.setLocale=function(value){if(String.isNullOrEmpty(value)){value="en_US"}var locale=value.split("_");if(value&&locale){var opt={locale:value};defaultOpts=$.extend(defaultOpts,opt||{});var i18n=emm.i18n[defaultOpts.locale];if(i18n){$.mobiscroll.i18n[defaultOpts.locale]=$.extend($.mobiscroll.i18n[defaultOpts.locale],i18n.mobiscroll);$.each($.mobiscroll.instances,function(k,v){$("#"+k).mobiscroll("option","lang",defaultOpts.locale).mobiscroll("setDate",new Date(),false)});if(i18n.numeral){numeral.register("locale",defaultOpts.locale,i18n.numeral);numeral.locale(defaultOpts.locale)}}else{if(defaultOpts.locale!=="en_US"){if(console){console.info('Locale emm.i18n["'+defaultOpts.locale+'"] not found. Default locale is en_US.')}}}}};emm.ui.setLanguage=function(value){if(!String.isNullOrEmpty(value)){var opt={language:value};defaultOpts=$.extend(defaultOpts,opt||{})}};emm.ui.setDefaults=function(opt){defaultOpts=$.extend(defaultOpts,opt||{});$(function(){if(isOfflineMode){if(!String.isNullOrEmpty(EMMServer.DB.getUserInfo().locale)){defaultOpts.locale=EMMServer.DB.getUserInfo().locale}if(!String.isNullOrEmpty(EMMServer.DB.getUserInfo().language)){defaultOpts.language=EMMServer.DB.getUserInfo().language}}emm.ui.setLocale(defaultOpts.locale);emm.ui.setLanguage(defaultOpts.language)})};emm.ui.sendProfileToNativeApp=function(userInfo){var invalidUrls=/\blogin\b|\bdomain\b|\bworkflow(?!\/inbxconfig)\b/i;if(invalidUrls.test(window.location.href)==false){userInfo=userInfo||defaultOpts.userInfo;var emmUserInfoHash=sessionStorage.getItem("emmUserInfo");if(!String.isNullOrEmpty(userInfo)){var json=JSON.parse(userInfo);delete json.token;delete json.lastLoginTime;var serverUrl=emm.util.getHostURL();var userInfoHash=(serverUrl+JSON.stringify(json)).hashCode();if(emmUserInfoHash!=userInfoHash){sessionStorage.setItem("emmUserInfo",userInfoHash);var action="ezprofile://?";var jsonParam="&jsonParam=";var url=action+jsonParam+encodeURIComponent(userInfo);if(navigator.userAgent.match(/Android/i)){if(window.emmiface!==undefined&&window.emmiface.callFromAndroid!==undefined){emmiface.callFromAndroid(url);return}}if((navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&!navigator.userAgent.match(/Safari/i)){var iframe=document.createElement("IFRAME");iframe.setAttribute("src",url);document.documentElement.appendChild(iframe);iframe.parentNode.removeChild(iframe);iframe=null;return}if(emm.nativeapp.isWin8()){emm.nativeapp.setProfileObject(userInfo);sendProfile(url);return}}}}};emm.ui.getDefaults=function(){return defaultOpts};emm.ui.clearScrollPosition=function(){sessionStorage.removeItem("lastscrollposition")};emm.ui.removeAllCallouts=function(){$(".ui-callout").slideUp(100).remove()};emm.ui.initNativeAppControls=function(){$("input[data-barcode]").fieldBarcode();var arrows=$(".ui-field .ui-field-barcode:visible");$.each(arrows,function(){var $this=$(this);var siblings=$this.siblings("p");var margin=siblings.css("margin-right");if(margin){$.each(siblings,function(){var $p=$(this);var pMargin=parseFloat($p.css("margin-right"));if(pMargin){var origMargin=pMargin;pMargin+=parseFloat(margin);$p.css("margin-right",(pMargin-origMargin+$this.width()+2)+"px")}})}})};emm.ui.init=function(){if($("[data-touchid]").length>0){$(function(){emm.core.rememberMe("restore");$("#doLogin_username, #doLogin_password").keypress(function(e){if(e.which==13){emm.core.mainLogin();return false}})});$(document).on("onTouchIDEnabled",function(){if(emm.core.isLoggedOut()){$("#logintouchid").show()}else{emm.core.fingerPrintLogin()}})}isOfflineMode=(EMMServer.DB.getUserInfo().hasOwnProperty("username"));$("a, button, input").on("touchstart",function(){});$.mobiscroll.i18n[defaultOpts.locale]=$.extend($.mobiscroll.i18n.en_US,emm.i18n.en_US.mobiscroll);numeral.locale("en_US");$.mobiscroll.setDefaults({theme:defaultOpts.datePickerTheme,mode:defaultOpts.datePickerMode,lang:defaultOpts.locale});var d=document;var e=$(".ui-main .ui-content");var sh=0,ch=e.height()||0;$(".ui-page, .ui-dialog").each(function(){var el=$(this);if(el.has('.ui-sidebar:not([data-visible="false"]):visible').length>0){var sidebarRemoved=false;if($(".ui-sidebar ul li").length==0){$(".ui-sidebar ul").remove();if($(".ui-sidebar").children().length==0){$(".ui-sidebar").remove();sidebarRemoved=true}}if(sidebarRemoved==false){el.find(".ui-sidebar, .ui-content").wrapAll('<div class="ui-main">')}}el.css({display:"none"});if(el.hasClass("ui-inset")){el.find(".ui-listview:not(.ui-panel-content)").each(function(){$(this).addClass("ui-inset")})}});if(ch>0){$(".ui-main .ui-sidebar",$(".ui-page",d)).each(function(){sh+=$(this).height()});if(sh>0&&ch<sh){e.height(sh)}}$(".ui-page:first").show();if($('.ui-page[data-rememberscroll="true"]').length>0){$(window).rememberscroll()}function getElementsBySelector(sel){var elements=$(sel);if(elements.length==0&&document.querySelectorAll){elements=document.querySelectorAll(sel)}return elements}$(getElementsBySelector('[readonly="true"]')).removeAttr("required");$(getElementsBySelector('[readonly="false"]')).removeAttr("readonly");$(getElementsBySelector('[required="false"]')).removeAttr("required");$('input[data-control="spinner"]').spin();$('[data-native="true"]').hide();$('[data-visible="false"]').hide();$('[data-sortorder="DESC"]').addClass("ui-btn-sort-desc");$('[data-sortorder="ASC"]').addClass("ui-btn-sort-asc");$("input[data-time]").each(function(){var $this=$(this);var v=$this.val();$this.val(v.toTime())});$(".ui-field:not(:has(.ui-block)):has(label), .ui-field-block:has(label)").livequery(function(){$(this).field()});$(".ui-btn-toggle").togglebutton();$(".ui-navbar").navbar();$('textarea[data-control="autoexpand"]').autoexpand();$(".ui-searchbar").searchbar();$(".ui-radiobutton input").radiobutton();$('input[type="checkbox"]').livequery(function(){$(this).checkbox()});$(".ui-checklistbutton").livequery(function(){var el=$(this),checked=el.data("checked")||false;if(checked===true||checked==="true"){el.addClass("ui-checklistbutton-on").removeClass("ui-checklistbutton-off")}else{el.addClass("ui-checklistbutton-off").removeClass("ui-checklistbutton-on")}});$('[data-markdeleted="true"]').addClass("ui-tobedeleted");$(".ui-panel-content .ui-divider:visible ~ .ui-divider:visible, .ui-sidebar .ui-divider:visible ~ .ui-divider:visible").each(function(k,v){var el=$(this);if(el.nextUntil(".ui-divider:visible").length==0){if(String.isNullOrEmpty(el.html())){el.hide()}}if($(this).prevUntil(".ui-divider:visible").length==0){if(String.isNullOrEmpty(el.html())){el.hide()}}});$(".ui-listview a:has(.ui-bubble), .ui-listview a:has(.ui-badge)").each(function(){var el=$(this);if(el.height()>45&&el.find(".ui-bubble").length!=0){el.addClass("ui-has-bubble-mini")}else{el.addClass("ui-has-bubble")}});$(".ui-listview a:has(.ui-accessory-left)").addClass("ui-has-accessory").each(function(){var v=-0.5,el=$(this).find(".ui-accessory-left"),l=el.children().length||0;if(el.length>0){v=(v*l)+"em";el.css("margin-top",v)}});$(".ui-listview li:has(a.ui-arrow[onclick]), li:has(a.ui-arrow[ng-click]), li:has(a.ui-arrow[data-control]), li:has(a.ui-email), li:has(a.ui-facetime), li:has(a.ui-phone)").livequery(function(){$(this).addClass("ui-accessory")});$(".ui-listview li > a:has(img)").livequery(function(){$(this).addClass("ui-has-image")});$(".ui-btn-container").each(function(){var el=$(this);if(el.children().length==2){el.addClass("ui-btn-container-split")}});$('a[data-control="dialog"]').livequery(function(){$(this).dialog()});$('a[data-control="datepicker"]').each(function(){var el=$(this),type="date",d=new Date(),controls=["calendar"];if(el.data("datetype")){type=el.data("datetype")}if(type=="date"){type="calendar"}if(type=="datetime"){type="calendar";controls=["calendar","time"]}var target=el.data("input"),targetInput=$("#"+target),targetInputIsReadonly=false,today=new Date();if(targetInput.length===0){targetInput=$('[id="{0}"]'.format(target))}if(targetInput.is("[readonly]")){targetInputIsReadonly=true}if(el.data("datecontrols")){controls=el.data("datecontrols").split(",")}targetInput.mobiscroll({preset:type,mode:defaultOpts.datePickerMode,theme:defaultOpts.datePickerTheme,startYear:today.getFullYear()-20,endYear:today.getFullYear()+20,headerText:false,showOnFocus:false,controls:controls,tap:defaultOpts.datePickerTapEnabled,stepMinute:defaultOpts.timeStepMinute,onSelect:function(text,inst){if(isOfflineMode){var input=$(this),d=input.mobiscroll("getDate"),formattedDate=$.mobiscroll.formatDate(inst.format,d,$.mobiscroll.i18n[defaultOpts.locale]);var localscope=angular.element(input).scope();var model=input.attr("ng-model").split(".");eval('localscope["'+model.join('"]["')+'"] = d.toISOString();');input.trigger("blur")}},onCancel:function(text,inst){targetInput.val(targetInput.data("origvalue"));targetInput.removeAttr("data-origvalue")}});el.on("click",function(){targetInput.data("origvalue",targetInput.val());targetInput.mobiscroll("show");return false});if(targetInputIsReadonly===false){targetInput.attr("emm-readonlydate",false)}else{targetInput.attr("emm-readonlydate",true);el.hide()}});function enhanceRowWithButtons(){var rowButtons=$("li a ~ a[class^='ui-trash'], li a ~ a[class^='ui-checklistbutton'], [class^='ui-rowbutton']");var maxWidth=0;var rowElement=null;var extraMargin=10;$.each(rowButtons,function(){var $this=$(this);if($this.is(":visible")){var width=$this.outerWidth(true)+parseInt($this.css("right"));if(width>maxWidth){maxWidth=width}if(!rowElement){rowElement=$this.prev().not("[class^='ui-trash'], [class^='ui-checklistbutton'], [class^='ui-rowbutton']")}}if(rowElement){rowElement.css("margin-right",(maxWidth+extraMargin)+"px")}maxWidth=0;rowElement=null})}function enhanceHeaderRowButtons(){var rightHeaderButtons=$(".ui-header a[class*='ui-btn-right']:visible").get().reverse();var leftHeaderButtons=$(".ui-header a[class*='ui-btn-left']:visible");var margin=0;var extraMargin=2;function applyEnhancement(el,position){if(el.is(":visible")&&position){position=position.toLowerCase();var width=el.outerWidth(true)+parseInt(el.css(position));if(width>margin){margin=width}var btn=null;if(position=="right"){btn=el.prevAll("a.ui-btn-"+position+":visible:first")}if(position=="left"){btn=el.nextAll("a.ui-btn-"+position+":visible:first")}if(btn&&!btn.inlineStyle(position)){inlineMargin=btn.inlineStyle("margin-"+position)?parseInt(btn.inlineStyle("margin-"+position)):0;btn.css("margin-"+position,(margin+extraMargin+inlineMargin)+"px")}}}if(rightHeaderButtons.length>1){$.each(rightHeaderButtons,function(){applyEnhancement($(this),"right")})}margin=0;if(leftHeaderButtons.length>1){$.each(leftHeaderButtons,function(){applyEnhancement($(this),"left")})}}$(function(){enhanceRowWithButtons();enhanceHeaderRowButtons();$("[emm-readonlydate]").each(function(){var el=$(this);if(el.attr("emm-readonlydate")==="true"||el.is('[disabled="true"]')){el.prop("disabled",true)}else{el.prop("readonly",false).prop("disabled",false);el.off("click").on("click",function(){this.focus()})}el.removeAttr("emm-readonlydate")});var arrows=$(".ui-field .ui-arrow:visible, .ui-field .ui-field-barcode:visible");$.each(arrows,function(){var $this=$(this);var siblings=$this.siblings("p");var margin=siblings.css("margin-right");if(margin){$.each(siblings,function(){var $p=$(this);var pMargin=parseFloat($p.css("margin-right"));if(pMargin){var origMargin=pMargin;pMargin+=parseFloat(margin);$p.css("margin-right",(pMargin-origMargin+$this.width()+5)+"px")}})}})});$("select[data-value]").each(function(){var el=$(this);if(el.data("value")!=""){el.val(el.data("value"))}});(function(){var touch=("ontouchstart" in window),END_EVENT=touch?"touchend":"mouseup";var body_height=$("body").height();$("#btn_main_menu").bind(END_EVENT,function(){var menu_height=$("#main_menu").height();if(body_height<menu_height){if($("#main_menu").is(":visible")){$("body").height(menu_height+30)}else{$("body").height("auto")}}})})();if(defaultOpts.fixedHeader==true){$(function(){var $header=$(".ui-page .ui-header:visible"),headerTop=($header[0]&&$header[0].getBoundingClientRect()?$header[0].getBoundingClientRect().top:0),headerOuterHeight=$header.outerHeight(),$win=$(window),$inputs=$('input:not([type="search"]), textarea, [contenteditable="true"]');if(isiOS){$header.css({position:"-webkit-sticky",top:"0","z-index":"200"})}else{if(headerTop<0){headerTop=0+($header.siblings(".ui-panel").height()||0)}$win.on("scroll",function(){if($header[0]&&($win[0].pageYOffset<=headerTop)){$header.removeClass("ui-header-fixed");$header.next().css({paddingTop:"0"})}else{$header.next().css({paddingTop:headerOuterHeight});$header.addClass("ui-header-fixed")}})}})}if(defaultOpts.enableBreadcrumbs==true){var breadCrumb=$('<div class="ui-breadcrumb">');var page=$(".ui-page:visible");breadCrumb.breadcrumb(defaultOpts).appendTo(page)}if(defaultOpts.enableHtmlEditor==true){$('textarea[data-htmleditor="true"]').htmlEditor()}$("[data-esig]").each(function(){var el=$(this);var event=el.attr("data-esig");if(event){var clone=el.clone(true);el.attr("href","").attr("onclick","").off("click");el.on("click",function(){emm.core.checkESig(event).pass(function(){clone.css({display:"none"});el.after(clone);clone[0].click();clone.remove()});return false})}});var $loading=$('<div id="emm_loader_container" class="ui-loader" style="height: '+$(document).height()+'px; "><div id="emm_loader_dialog" class="ui-container"><div id="emm_loader" class="ui-header"><h1 class="ui-title"><img src="'+emm.util.getHostURL()+'images/ajax-loader-white.gif"/></h1></div></div></div>');$("body").append($loading);emm.ui.loader={_isVisible:false,show:function(){if(this._isVisible===false){this._isVisible=true;$loading.show();var windowH=$(window).height();var windowW=$(window).width();$("#emm_loader_dialog").css({position:"fixed",left:((windowW-$("#emm_loader").outerWidth())/2+$(document).scrollLeft()),top:"150px"})}},hide:function(){this._isVisible=false;$loading.hide()}}};(function(emm,win){emm.exceptions=emm.exceptions||{};emm.exceptions.EMMInputException=function(evt,message,type){this.message=message;if(String.isNullOrEmpty(evt)){this.target=null}else{this.target=(evt.target||evt[0].target||evt[0]||evt)}type=type||EMMConstants.ERROR;this.type=type};$.extend(emm.exceptions.EMMInputException.prototype,{showCallout:function(){$(this.target).callout(this.message,this.type)},toString:function(){return this.message}});$.each(emm.exceptions,function(k,v){win[k]=v})})(emm,window);window.emm=emm;$(function(){emm.ui.init();$(function(){if(isOfflineMode){$(".ui-search button.ui-btn-clear").remove()}$.each($.mobiscroll.instances,function(k,v){var e=$("#"+k),inst=$.mobiscroll.instances[k];var d=!String.isNullOrEmpty(e.val())?e.val().toDate()||e.val():null;if(typeof e.val().getTime!=="undefined"){var d2=new Date(e.val());if(d2!="Invalid Date"){d=d2}}if(!d&&e.val()!==""){d=e.val().toDate()}if(d){if(!isOfflineMode){var d=!String.isNullOrEmpty(e.val())?e.val().toDate()||e.val():null;if(!d&&e.val()!==""){d=e.val().toDate()}e.val($.mobiscroll.formatDate(inst.format,d,$.mobiscroll.i18n[defaultOpts.locale]))}if(isOfflineMode==true){var localscope=angular.element(e).scope();var model=e.attr("ng-model").split(".");var inputVal=null;eval('inputVal = localscope["'+model.join('"]["')+'"];');if(inputVal&&!inputVal.getTime){d=inputVal.toDate()}else{d=inputVal}}inst.setDate(d)}})})})})(jQuery);(function(q){function g(l){for(var e in l){if(void 0!==h[l[e]]){return !0}}return !1}function k(l,e){l=l.originalEvent||l;return l.changedTouches?l.changedTouches[0]["page"+e]:l["page"+e]}function i(l,s,a){var b=l;if("object"===typeof s){return l.each(function(){this.id||(this.id="mobiscroll"+ ++y);m[this.id]&&m[this.id].destroy();new q.mobiscroll.classes[s.component||"Scroller"](this,s)})}"string"===typeof s&&l.each(function(){var e;if((e=m[this.id])&&e[s]){if(e=e[s].apply(this,Array.prototype.slice.call(a,1)),void 0!==e){return b=e,!1}}});return b}function u(b){if("touchstart"==b.type){j[b.target]=!0}else{if(j[b.target]){return delete j[b.target],!1}}return !0}var y=+new Date,j={},m={},o=q.extend,h=document.createElement("modernizr").style,f=g(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),x=g(["flex","msFlex","WebkitBoxDirection"]),r=function(){var l=["Webkit","Moz","O","ms"],e;for(e in l){if(g([l[e]+"Transform"])){return"-"+l[e].toLowerCase()+"-"}}return""}(),d=r.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz");q.fn.mobiscroll=function(a){o(this,q.mobiscroll.components);return i(this,a,arguments)};q.mobiscroll=q.mobiscroll||{util:{prefix:r,jsPrefix:d,has3d:f,hasFlex:x,getCoord:k,testTouch:u},presets:{},themes:{listview:{}},i18n:{},instances:m,classes:{},components:{},defaults:{},userdef:{},setDefaults:function(b){o(this.userdef,b)},presetShort:function(l,e){this.components[l]=function(a){return i(this,o(a,{component:e,preset:l}),arguments)}}};q.scroller=q.scroller||q.mobiscroll;q.fn.scroller=q.fn.scroller||q.fn.mobiscroll})(jQuery);(function(Q){function N(){h=!0;setTimeout(function(){h=!1},500)}function g(p,l,q){return Math.max(l,Math.min(p,q))}function f(a){var l={values:[],keys:[]};Q.each(a,function(p,e){l.keys.push(p);l.values.push(e)});return l}Q.mobiscroll.classes.Scroller=function(ak,aN){function aF(B){if(d(B)&&!C&&!a2&&!aq&&!ab(this)&&(B.preventDefault(),C=!0,ah="clickpick"!=ae.mode,aG=Q(".dw-ul",this),aJ(aG),aD=(ap=void 0!==E[af])?x(aG):b[af],a6=r(B,"Y"),l=new Date,ao=a6,aW(aG,af,aD,0.001),ah&&aG.closest(".dwwl").addClass("dwa"),"mousedown"===B.type)){Q(document).on("mousemove",J).on("mouseup",ad)}}function J(B){C&&(ah&&(B.preventDefault(),B.stopPropagation(),ao=r(B,"Y"),aW(aG,af,g(aD+(a6-ao)/ay,D-1,s+1))),a6!==ao&&(ap=!0))}function ad(X){if(C){var T=new Date-l,B=g(aD+(a6-ao)/ay,D-1,s+1),S,V=aG.offset().top;k&&300>T?(T=(ao-a6)/T,S=T*T/ae.speedUnit,0>ao-a6&&(S=-S)):S=ao-a6;T=Math.round(aD-S/ay);if(!S&&!ap){var V=Math.floor((ao-V)/ay),U=Q(Q(".dw-li",aG)[V]);S=ah;!1!==G("onValueTap",[U])?T=V:S=!0;S&&(U.addClass("dw-hl"),setTimeout(function(){U.removeClass("dw-hl")},200))}ah&&aL(aG,T,0,!0,Math.round(B));"mouseup"===X.type&&Q(document).off("mousemove",J).off("mouseup",ad);C=!1}}function ag(B){aq&&aq.removeClass("dwb-a");aq=Q(this);!aq.hasClass("dwb-d")&&!aq.hasClass("dwb-nhl")&&aq.addClass("dwb-a");aq.hasClass("dwwb")&&d(B)&&ai(B,aq.closest(".dwwl"),aq.hasClass("dwwbp")?v:W);if("mousedown"===B.type){Q(document).on("mouseup",ac)}}function ac(B){a2&&(clearInterval(an),a2=!1);aq&&(aq.removeClass("dwb-a"),aq=null);"mouseup"===B.type&&Q(document).off("mousedown",ac)}function aO(B){38==B.keyCode?ai(B,Q(this),W):40==B.keyCode&&ai(B,Q(this),v)}function K(){a2&&(clearInterval(an),a2=!1)}function aC(S){if(!ab(this)){S.preventDefault();var S=S.originalEvent||S,S=S.wheelDelta?S.wheelDelta/120:S.detail?-S.detail/3:0,B=Q(".dw-ul",this);aJ(B);aL(B,Math.round(b[af]-S),0>S?1:2)}}function aA(B){var U,T,S;aK.remove();o&&!B&&setTimeout(function(){P=!0;U=o[0];S=U.type;T=U.value;U.type="button";o.focus();U.type=S;U.value=T},200);w=!1}function ai(S,U,T){S.stopPropagation();S.preventDefault();if(!a2&&!ab(U)&&!U.hasClass("dwa")){a2=!0;var B=U.find(".dw-ul");aJ(B);clearInterval(an);an=setInterval(function(){T(B)},ae.delay);T(B)}}function ab(B){return Q.isArray(ae.readonly)?(B=Q(".dwwl",aK).index(B),ae.readonly[B]):ae.readonly}function aR(X){var U='<div class="dw-bf">',X=aS[X],X=X.values?X:f(X),S=1,B=X.labels||[],T=X.values,V=X.keys||T;Q.each(T,function(Y,Z){0===S%20&&(U+='</div><div class="dw-bf">');U+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+V[Y]+'"'+(B[Y]?' aria-label="'+B[Y]+'"':"")+' style="height:'+ay+"px;line-height:"+ay+'px;"><div class="dw-i"'+(1<a?' style="line-height:'+Math.round(ay/a)+"px;font-size:"+Math.round(0.8*(ay/a))+'px;"':"")+">"+Z+"</div></div>";S++});return U+="</div>"}function aJ(B){D=Q(".dw-li",B).index(Q(".dw-v",B).eq(0));s=Q(".dw-li",B).index(Q(".dw-v",B).eq(-1));af=Q(".dw-ul",aK).index(B)}function az(B){var S=ae.headerText;return S?"function"===typeof S?S.call(ak,B):S.replace(/\{value\}/i,B):""}function a5(){am.temp=am.values?am.values.slice(0):ae.parseValue(al.val()||"",am);aE()}function x(T){var S=window.getComputedStyle?getComputedStyle(T[0]):T[0].style,B;k?(Q.each(["t","webkitT","MozT","OT","msT"],function(U,V){if(void 0!==S[V+"ransform"]){return B=S[V+"ransform"],!1}}),B=B.split(")")[0].split(", "),T=B[13]||B[5]):T=S.top.replace("px","");return Math.round(aw-T/ay)}function aU(B,S){clearTimeout(E[S]);delete E[S];B.closest(".dwwl").removeClass("dwa")}function aW(S,Y,V,T,B){var U=(aw-V)*ay,X=S[0].style;U==a1[Y]&&E[Y]||(T&&U!=a1[Y]&&G("onAnimStart",[aK,Y,T]),a1[Y]=U,X[u+"Transition"]="all "+(T?T.toFixed(3):0)+"s ease-out",k?X[u+"Transform"]="translate3d(0,"+U+"px,0)":X.top=U+"px",E[Y]&&aU(S,Y),T&&B&&(S.closest(".dwwl").addClass("dwa"),E[Y]=setTimeout(function(){aU(S,Y)},1000*T)),b[Y]=V)}function at(Z,U,S){var Z=Q('.dw-li[data-val="'+Z+'"]',U),U=Q(".dw-li",U),B=U.index(Z),T=U.length;if(!Z.hasClass("dw-v")){for(var X=Z,V=0,Y=0;0<=B-V&&!X.hasClass("dw-v");){V++,X=U.eq(B-V)}for(;B+Y<T&&!Z.hasClass("dw-v");){Y++,Z=U.eq(B+Y)}(Y<V&&Y&&2!==S||!V||0>B-V||1==S)&&Z.hasClass("dw-v")?B+=Y:(Z=X,B-=V)}return{cell:Z,v:B,val:Z.hasClass("dw-v")?Z.attr("data-val"):null}}function ax(T,B,S,V,U){!1!==G("validate",[aK,B,T,V])&&(Q(".dw-ul",aK).each(function(Z){var a8=Q(this),X=Z==B||void 0===B,aa=at(am.temp[Z],a8,V),Y=aa.cell;if(!Y.hasClass("dw-sel")||X){am.temp[Z]=aa.val,ae.multiple||(Q(".dw-sel",a8).removeAttr("aria-selected"),Y.attr("aria-selected","true")),Q(".dw-sel",a8).removeClass("dw-sel"),Y.addClass("dw-sel"),aW(a8,Z,aa.v,X?T:0.1,X?U:!1)}}),a0=ae.formatResult(am.temp),am.live&&aE(S,S,0,!0),A.html(az(a0)),S&&G("onChange",[a0]))}function G(T,S){var B;S.push(am);Q.each([y,aQ,av,aN],function(U,V){V&&V[T]&&(B=V[T].apply(ak,S))});return B}function aL(X,a8,V,Z,B){var a8=g(a8,D,s),aa=Q(".dw-li",X).eq(a8),S=void 0===B?a8:B,Y=void 0!==B,T=af,U=Z?a8==S?0.1:Math.abs((a8-S)*ae.timeUnit):0;am.temp[T]=aa.attr("data-val");aW(X,T,a8,U,Y);setTimeout(function(){ax(U,T,!0,V,Y)},10)}function v(B){var S=b[af]+1;aL(B,S>s?D:S,1,!0)}function W(B){var S=b[af]-1;aL(B,S<D?s:S,2,!0)}function aE(S,U,B,T,V){w&&!T&&ax(B);a0=ae.formatResult(am.temp);V||(am.values=am.temp.slice(0),am.val=a0);S&&(G("onValueFill",[a0,U]),t&&(al.val(a0),U&&(z=!0,al.change())))}function aH(B,T){var S;p.on(B,function(){clearTimeout(S);S=setTimeout(function(){(au&&T||!T)&&am.position(!T)},200)})}var aY,A,aK,q,R,e,p,a3,aI,aT,ah,w,ay,av,z,a7,au,aQ,a0,aZ,aB,aX,aw,aV,aP,aj,aM,a2,ap,a6,l,ao,aD,D,s,aG,af,a,an,a4,aq,am=this,al=Q(ak),ae,E={},b={},a1={},aS=[],ar=[],t=al.is("input");am.position=function(aa){var bb=R.width(),Y=p[0].innerHeight||p.innerHeight();if(!(aB===bb&&aX===Y&&aa)&&!a7&&!1!==G("onPosition",[aK,bb,Y])&&aT){var a9,T,a8,U,V,X,bf,S,ba,bc=0,Z=0,aa=p.scrollLeft(),be=p.scrollTop();U=Q(".dwwr",aK);var B=Q(".dw",aK),bd={};V=void 0===ae.anchor?al:ae.anchor;aI&&"liquid"!==ae.layout&&(400>bb?aK.addClass("dw-liq"):aK.removeClass("dw-liq"));/modal|bubble/.test(ae.display)&&(U.width(""),Q(".dwc",aK).each(function(){a9=Q(this).outerWidth(!0);bc+=a9;Z=a9>Z?a9:Z}),a9=bc>bb?Z:bc,U.width(a9).css("white-space",bc>bb?"":"nowrap"));aV=B.outerWidth();aP=B.outerHeight(!0);au=aP<=Y&&aV<=bb;am.scrollLock=au;"modal"==ae.display?(T=Math.max(0,(bb-aV)/2),a8=be+(Y-aP)/2):"bubble"==ae.display?(ba=!0,S=Q(".dw-arrw-i",aK),a8=V.offset(),X=Math.abs(Q(ae.context).offset().top-a8.top),bf=Math.abs(Q(ae.context).offset().left-a8.left),U=V.outerWidth(),V=V.outerHeight(),T=g(bf-(B.outerWidth(!0)-U)/2-aa,3,bb-aV-3),a8=X-aP,a8<be||X>be+Y?(B.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),a8=X+V):B.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),S=S.outerWidth(),U=g(bf+U/2-(T+(aV-S)/2)-aa,0,S),Q(".dw-arr",aK).css({left:U})):"top"==ae.display?a8=be:"bottom"==ae.display&&(a8=be+Y-aP);bd.top=0>a8?0:a8;bd.left=T;B.css(bd);R.height(0);T=Math.max(a8+aP,"body"==ae.context?Q(document).height():aY.scrollHeight);R.css({height:T,left:aa});if(ba&&(a8+aP>be+Y||X>be+Y)){a7=!0,setTimeout(function(){a7=false},300),p.scrollTop(Math.min(a8+aP-Y,T-Y))}}aB=bb;aX=Y};am.enable=function(){ae.disabled=!1;t&&al.prop("disabled",!1)};am.disable=function(){ae.disabled=!0;t&&al.prop("disabled",!0)};am.setValue=function(T,B,S,U,V){am.temp=Q.isArray(T)?T.slice(0):ae.parseValue.call(ak,T+"",am);aE(B,void 0===V?B:V,S,!1,U)};am.getValue=function(){return am.values};am.getValues=function(){var B=[],S;for(S in am._selectedValues){B.push(am._selectedValues[S])}return B};am.changeWheel=function(T,B,S){if(aK){var V=0,U=T.length;Q.each(ae.wheels,function(X,Y){Q.each(Y,function(Z,aa){if(-1<Q.inArray(V,T)&&(aS[V]=aa,Q(".dw-ul",aK).eq(V).html(aR(V)),U--,!U)){return am.position(),ax(B,void 0,S),!1}V++});if(!U){return !1}})}};am.isVisible=function(){return w};am.tap=function(S,V,U){var B,T;if(ae.tap){S.on("touchstart.dw",function(X){U&&X.preventDefault();B=r(X,"X");T=r(X,"Y")}).on("touchend.dw",function(X){var Y=this;20>Math.abs(r(X,"X")-B)&&20>Math.abs(r(X,"Y")-T)&&(X.preventDefault(),setTimeout(function(){V.call(Y,X)},M?400:10));N()})}S.on("click.dw",function(X){h||V.call(this,X);X.preventDefault()})};am.show=function(S,T){var V,U,B=0,X="";if(!ae.disabled&&!w){!1!==aj&&("top"==ae.display&&(aj="slidedown"),"bottom"==ae.display&&(aj="slideup"));a5();G("onBeforeShow",[]);aT&&aj&&!S&&(X="dw-"+aj+" dw-in");U='<div class="'+ae.theme+" dw-"+ae.display+(aI?" dw-liq":"")+(1<a?" dw-ml":"")+(a3?"":" dw-nobtn")+'"><div class="dw-persp">'+(aT?'<div class="dwo"></div>':"")+"<div"+(aT?' role="dialog" tabindex="-1"':"")+' class="dw dwbg '+X+(ae.rtl?" dw-rtl":" dw-ltr")+'">'+("bubble"===ae.display?'<div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>':"")+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(ae.headerText?"":" dw-hidden")+'"></div><div class="dwcc">';Q.each(ae.wheels,function(Z,Y){U=U+('<div class="dwc'+(ae.mode!="scroller"?" dwpm":" dwsc")+(ae.showLabel?"":" dwhl")+'"><div class="dwwc"'+(ae.maxWidth?"":' style="max-width:600px;"')+">"+(L?"":'<table class="dw-tbl" cellpadding="0" cellspacing="0"><tr>'));Q.each(Y,function(aa,a8){aS[B]=a8;V=a8.label!==void 0?a8.label:aa;U=U+("<"+(L?"div":"td")+' class="dwfl" style="'+(ae.fixedWidth?"width:"+(ae.fixedWidth[B]||ae.fixedWidth)+"px;":(ae.minWidth?"min-width:"+(ae.minWidth[B]||ae.minWidth)+"px;":"min-width:"+ae.width+"px;")+(ae.maxWidth?"max-width:"+(ae.maxWidth[B]||ae.maxWidth)+"px;":""))+'"><div class="dwwl dwwl'+B+'">'+(ae.mode!="scroller"?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp '+(ae.btnPlusClass||"")+'" style="height:'+ay+"px;line-height:"+ay+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm '+(ae.btnMinusClass||"")+'" style="height:'+ay+"px;line-height:"+ay+'px;"><span>&ndash;</span></a>':"")+'<div class="dwl">'+V+'</div><div tabindex="0" aria-live="off" aria-label="'+V+'" role="listbox" class="dwww"><div class="dww" style="height:'+ae.rows*ay+'px;"><div class="dw-ul">');U=U+(aR(B)+'</div></div><div class="dwwo"></div></div><div class="dwwol"'+(ae.selectedLineHeight?' style="height:'+ay+"px;margin-top:-"+(ay/2+(ae.selectedLineBorder||0))+'px;"':"")+"></div></div>"+(L?"</div>":"</td>"));B++});U=U+((L?"":"</tr></table>")+"</div></div>")});U+="</div>";aT&&a3&&(U+='<div class="dwbc">',Q.each(a4,function(Y,Z){Z=typeof Z==="string"?am.buttons[Z]:Z;U=U+("<span"+(ae.btnWidth?' style="width:'+100/a4.length+'%"':"")+' class="dwbw '+Z.css+'"><a href="#" class="dwb dwb'+Y+' dwb-e" role="button">'+Z.text+"</a></span>")}),U+="</div>");U+="</div></div></div></div>";aK=Q(U);R=Q(".dw-persp",aK);q=Q(".dwo",aK);A=Q(".dwv",aK);e=Q(".dw",aK);a1={};w=!0;ax();G("onMarkupReady",[aK]);if(aT){if(i.activeInstance=am,aK.appendTo(ae.context),k&&aj&&!S){aK.addClass("dw-trans").on(I,function(){aK.removeClass("dw-trans").find(".dw").removeClass(X);T||e.focus()})}}else{al.is("div")?al.html(aK):aK.insertAfter(al)}G("onMarkupInserted",[aK]);if(aT){Q(window).on("keydown.dw",function(Y){Y.keyCode==13?am.select():Y.keyCode==27&&am.cancel()});if(ae.scrollLock){aK.on("touchmove",function(Y){au&&Y.preventDefault()})}"Moz"!==u&&Q("input,select,button",aY).each(function(){this.disabled||Q(this).addClass("dwtd").prop("disabled",true)});aH("scroll.dw",!0)}am.position();aH("orientationchange.dw resize.dw",!1);aK.on("DOMMouseScroll mousewheel",".dwwl",aC).on("keydown",".dwwl",aO).on("keyup",".dwwl",K).on("selectstart mousedown",j).on("click",".dwb-e",j).on("keydown",".dwb-e",function(Y){if(Y.keyCode==32){Y.preventDefault();Y.stopPropagation();Q(this).click()}});setTimeout(function(){Q.each(a4,function(Z,Y){am.tap(Q(".dwb"+Z,aK),function(aa){Y=typeof Y==="string"?am.buttons[Y]:Y;Y.handler.call(this,aa,am)},true)});ae.closeOnOverlay&&am.tap(q,function(){am.cancel()});aT&&!aj&&!T&&e.focus();aK.on("touchstart mousedown",".dwwl",aF).on("touchmove",".dwwl",J).on("touchend",".dwwl",ad).on("touchstart mousedown",".dwb-e",ag).on("touchend",".dwb-e",ac)},300);G("onShow",[aK,a0])}};am.hide=function(T,B,S){if(!w||!S&&!1===G("onClose",[a0,B])){return !1}"Moz"!==u&&Q(".dwtd",aY).each(function(){Q(this).prop("disabled",!1).removeClass("dwtd")});if(aK){if(k&&aT&&aj&&!T&&!aK.hasClass("dw-trans")){aK.addClass("dw-trans").find(".dw").addClass("dw-"+aj+" dw-out").on(I,function(){aA(T)})}else{aA(T)}p.off(".dw")}delete i.activeInstance};am.select=function(){!1!==am.hide(!1,"set")&&(aE(!0,!0,0,!0),G("onSelect",[am.val]))};am.cancel=function(){!1!==am.hide(!1,"cancel")&&G("onCancel",[am.val])};am.attachShow=function(S,B){ar.push(S);if("inline"!==ae.display){S.on("mousedown.dw",j).on((ae.showOnFocus?"focus.dw":"")+(ae.showOnTap?" click.dw":""),function(T){if(("focus"!==T.type||"focus"===T.type&&!P)&&!h){B&&B(),Q(document.activeElement).is("input,textarea")&&Q(document.activeElement).blur(),o=S,am.show()}setTimeout(function(){P=!1},300)})}};am.init=function(B){m(aN,B);ae=m({},F,y,aN);aQ=i.themes[ae.theme];aM=i.i18n[ae.lang];G("onThemeLoad",[aM,aN]);m(ae,aQ,aM,y,aN);ae.buttons=ae.buttons||["set","cancel"];ae.headerText=void 0===ae.headerText?"inline"!==ae.display?"{value}":!1:ae.headerText;am.settings=ae;al.off(".dw");if(B=i.presets[ae.preset]){av=B.call(ak,am),m(ae,av,aN)}aw=Math.floor(ae.rows/2);ay=ae.height;aj=M?!1:ae.animate;a=ae.multiline;aI="liquid"===(ae.layout||(/top|bottom/.test(ae.display)&&1==ae.wheels.length?"liquid":""));aT="inline"!==ae.display;a4=ae.buttons;p=Q("body"==ae.context?window:ae.context);aY=Q(ae.context)[0];ae.setText||a4.splice(Q.inArray("set",a4),1);ae.cancelText||a4.splice(Q.inArray("cancel",a4),1);ae.button3&&a4.splice(Q.inArray("set",a4)+1,0,{text:ae.button3Text,handler:ae.button3});am.context=p;am.live=!aT||-1==Q.inArray("set",a4);am.buttons.set={text:ae.setText,css:"dwb-s",handler:am.select};am.buttons.cancel={text:am.live?ae.closeText:ae.cancelText,css:"dwb-c",handler:am.cancel};am.buttons.clear={text:ae.clearText,css:"dwb-cl",handler:function(){am.trigger("onClear",[aK]);al.val("");am.live||am.hide(!1,"clear")}};a3=0<a4.length;w&&am.hide(!0,!1,!0);aT?(a5(),t&&(void 0===aZ&&(aZ=ak.readOnly),ak.readOnly=!0),am.attachShow(al)):am.show();if(t){al.on("change.dw",function(){z||am.setValue(al.val(),false,0.2);z=false})}};am.option=function(S,T){var B={};"object"===typeof S?B=S:B[S]=T;am.init(B)};am.destroy=function(){am.hide(!0,!1,!0);Q.each(ar,function(B,S){S.off(".dw")});t&&(ak.readOnly=aZ);delete O[ak.id];G("onDestroy",[])};am.getInst=function(){return am};am.getValidCell=at;am.trigger=G;O[ak.id]=am;am.values=null;am.val=null;am.temp=null;am.buttons={};am._selectedValues={};am.init(aN)};var o,C,h,P,i=Q.mobiscroll,O=i.instances,H=i.util,u=H.jsPrefix,k=H.has3d,L=H.hasFlex,r=H.getCoord,d=H.testTouch,j=function(b){b.preventDefault()},m=Q.extend,I="webkitAnimationEnd animationend",y=i.userdef,M=/android [1-3]/i.test(navigator.userAgent),F=m(i.defaults,{setText:"Set",selectedText:"Selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",minWidth:80,height:40,rows:3,multiline:1,delay:300,disabled:!1,readonly:!1,closeOnOverlay:!0,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",display:"modal",mode:"scroller",preset:"",context:"body",scrollLock:!0,tap:!0,btnWidth:!0,speedUnit:0.0012,timeUnit:0.1,formatResult:function(b){return b.join(" ")},parseValue:function(a,t){var v=a.split(" "),q=[],l=0,p;Q.each(t.settings.wheels,function(s,w){Q.each(w,function(x,z){z=z.values?z:f(z);p=z.keys||z.values;-1!==Q.inArray(v[l],p)?q.push(v[l]):q.push(p[0]);l++})});return q}});Q(window).on("focus",function(){o&&(P=!0)});Q(document).on("mouseover mouseup mousedown click",function(b){if(h){return b.stopPropagation(),b.preventDefault(),!1}})})(jQuery);(function(j){var d=j.mobiscroll,g=d.util,e=g.has3d,k=g.jsPrefix,m=g.getCoord,f=g.testTouch,h="webkitTransitionEnd transitionend",i={controls:["calendar"],firstDay:0,maxMonthWidth:170,months:1,preMonths:1,highlight:!0,swipe:!0,liveSwipe:!0,divergentDayChange:!0,navigation:"yearMonth",dateText:"Date",timeText:"Time",calendarText:"Calendar",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6"};d.presets.calbase=function(aA){function ar(w,A,r){var t,u,l,x,p={},q=aS+bp;w&&(w=aA.convert(w),j.each(w,function(o,E){t=E.d||E.start||E;u=t+"";if(E.start&&E.end){for(x=new Date(E.start);x<=E.end;){l=new Date(x.getFullYear(),x.getMonth(),x.getDate()),p[l]=p[l]||[],p[l].push(E),x.setDate(x.getDate()+1)}}else{if(t.getTime){l=new Date(t.getFullYear(),t.getMonth(),t.getDate()),p[l]=p[l]||[],p[l].push(E)}else{if(u.match(/w/i)){var C=+u.replace("w",""),y=0,D=az.getDate(A,r-aS-aH,1).getDay();1<az.firstDay-D+1&&(y=7);for(aw=0;aw<5*ac;aw++){l=az.getDate(A,r-aS-aH,7*aw-y-D+1+C),p[l]=p[l]||[],p[l].push(E)}}else{if(u=u.split("/"),u[1]){11<=r+q&&(l=az.getDate(A+1,u[0]-1,u[1]),p[l]=p[l]||[],p[l].push(E)),1>=r-q&&(l=az.getDate(A-1,u[0]-1,u[1]),p[l]=p[l]||[],p[l].push(E)),l=az.getDate(A,u[0]-1,u[1]),p[l]=p[l]||[],p[l].push(E)}else{for(aw=0;aw<ac;aw++){l=az.getDate(A,r-aS-aH+aw,u[0]),p[l]=p[l]||[],p[l].push(E)}}}}}}));return p}function aj(o,l){bl=ar(az.invalid,o,l);v=ar(az.valid,o,l);aA.onGenMonth(o,l)}function ah(T,U){var P,R,I,S,L,w,N,O,Q,K,E,A=1,t=0;P=az.getDate(T,U,1);var q=az.getYear(P),G=az.getMonth(P),D=aA.getDate(!0),C=az.getDate(q,G,1).getDay(),M='<div class="dw-cal-table">',F='<div class="dw-week-nr-c">';1<az.firstDay-C+1&&(t=7);for(E=0;42>E;E++){K=E+az.firstDay-t,P=az.getDate(q,G,K-C+1),R=P.getFullYear(),I=P.getMonth(),S=P.getDate(),L=az.getMonth(P),w=az.getDay(P),N=R+"-"+I+"-"+S,I=j.extend({valid:P<new Date(a3.getFullYear(),a3.getMonth(),a3.getDate())||P>J?!1:void 0===bl[P]||void 0!==v[P],selected:D.getFullYear()===R&&D.getMonth()===I&&D.getDate()===S},aA.getDayProps(P,D)),O=I.valid,Q=I.selected,R=I.cssClass,L=L!==G,be[N]=I,0===E%7&&(M+=(E?"</div>":"")+'<div class="dw-cal-row'+(az.highlight&&0<=D-P&&604800000>D-P?" dw-cal-week-hl":"")+'">',a5&&("month"==a5&&L&&E?A=1==S?1:2:"year"==a5&&(A=az.getWeekNumber(P)),F+='<div class="dw-week-nr"><div class="dw-week-nr-i">'+A+"</div></div>",A++)),M+='<div role="button" tabindex="-1" class="dw-cal-day '+(az.dayClass||"")+(Q?" dw-sel":"")+(R?" "+R:"")+(L?" dw-cal-day-diff":"")+(O?" dw-cal-day-v dwb-e dwb-nhl":" dw-cal-day-inv")+'" data-day="'+K%7+'" data-full="'+N+'"'+(Q?' aria-selected="true"':"")+(O?"":' aria-disabled="true"')+'><div class="dw-i '+(Q?a:"")+" "+(O?az.validDayClass||"":"")+'"><div class="dw-cal-day-fg">'+w+"</div>"+(I.markup||"")+'<div class="dw-cal-day-frame"></div></div></div>'}return M+("</div>"+F+"</div></div>")}function am(o,l){for(au=0;au<aJ;++au){j(bf[au]).text(bd[az.getMonth(az.getDate(o,l-aH+au,1))]),1<aG.length&&j(aG[au]).text(az.getYear(az.getDate(o,l-aH+au,1)))}1==aG.length&&aG.text(az.getYear(az.getDate(o,l,1)));az.getDate(o,l-aH-1,1)<aL?j(".dw-cal-prev-m",ak).addClass(aF).attr("aria-disabled","true"):j(".dw-cal-prev-m",ak).removeClass(aF).removeAttr("aria-disabled");az.getDate(o,l+aJ-aH,1)>af?j(".dw-cal-next-m",ak).addClass(aF).attr("aria-disabled","true"):j(".dw-cal-next-m",ak).removeClass(aF).removeAttr("aria-disabled");az.getDate(o,l,1).getFullYear()<=aL.getFullYear()?j(".dw-cal-prev-y",ak).addClass(aF).attr("aria-disabled","true"):j(".dw-cal-prev-y",ak).removeClass(aF).removeAttr("aria-disabled");az.getDate(o,l,1).getFullYear()>=af.getFullYear()?j(".dw-cal-next-y",ak).addClass(aF).attr("aria-disabled","true"):j(".dw-cal-next-y",ak).removeClass(aF).removeAttr("aria-disabled")}function a2(t){if(aK.calendar&&"calendar"===bc){var l,p,q=az.getDate(aT,aX,1),r=Math.abs(12*(az.getYear(t)-az.getYear(q))+az.getMonth(t)-az.getMonth(q));aA.needsSlide&&r&&(aT=az.getYear(t),aX=az.getMonth(t),t>q?(p=r>aS-aH+aJ-1,aX-=p?0:r-aS,l="next"):t<q&&(p=r>aS+aH,aX+=p?0:r-aS,l="prev"),ag.call(this,aT,aX,l,Math.min(r,aS),p,!0));aA.trigger("onDayHighlight",[t]);az.highlight&&(j(".dw-cal .dw-sel .dw-i",ak).removeClass(a),j(".dw-cal .dw-sel",ak).removeClass("dw-sel").removeAttr("aria-selected"),j(".dw-cal-week-hl",ak).removeClass("dw-cal-week-hl"),j('.dw-cal .dw-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',ak).addClass("dw-sel").attr("aria-selected","true").parent().addClass("dw-cal-week-hl"),j(".dw-cal .dw-sel .dw-i",ak).addClass(a));aA.needsSlide=!0}}function aI(o,q,l,p){p||aj(o,q);for(au=0;au<ac;au++){aQ[au].html(ah(o,q-aH-aS+au))}aA.needsRefresh=!1}function ag(x,l,r,u,t,w,p){x&&bg.push({y:x,m:l,dir:r,slideNr:u,load:t,active:w,callback:p});if(!ab){var q=bg.shift(),x=q.y,l=q.m,r="next"===q.dir,u=q.slideNr,t=q.load,w=q.active,p=q.callback||a8,q=az.getDate(x,l,1),x=az.getYear(q),l=az.getMonth(q);ab=!0;aA.changing=!0;aA.trigger("onMonthChange",[x,l]);aj(x,l);if(t){for(au=0;au<aJ;au++){aQ[r?ac-aJ+au:au].html(ah(x,l-aH+au))}}w&&bi.addClass("dw-cal-slide-a");setTimeout(function(){a7(r?aZ-aq*u*s:aZ+aq*u*s,200,function(){var o;bi.removeClass("dw-cal-slide-a");if(r){o=aQ.splice(0,u);for(au=0;au<u;au++){aQ.push(o[au]),a4(aQ[aQ.length-1],+aQ[aQ.length-2].data("curr")+100*s)}}else{o=aQ.splice(ac-u,u);for(au=u-1;0<=au;au--){aQ.unshift(o[au]),a4(aQ[0],+aQ[1].data("curr")-100*s)}}for(au=0;au<u;au++){aQ[r?ac-u+au:au].html(ah(x,l-aH-aS+au+(r?ac-u:0))),t&&aQ[r?au:ac-u+au].html(ah(x,l-aH-aS+au+(r?0:ac-u)))}for(au=0;au<aJ;au++){aQ[aS+au].addClass("dw-cal-slide-a")}ab=!1;am(x,l);bg.length?setTimeout(function(){ag()},10):(aT=x,aX=l,aA.changing=!1,a5&&aV.html(j(".dw-week-nr-c",aQ[aS]).html()),j(".dw-cal-day",ak).attr("tabindex",-1),j(".dw-cal-slide-a .dw-cal-day",ak).attr("tabindex",0),aA.needsRefresh&&ao(),aA.trigger("onMonthLoaded",[x,l]),p())})},10)}}function a0(){var u=j(this),p=aA.live,q=aA.getDate(!0),r=u.attr("data-full"),l=r.split("-"),l=new Date(l[0],l[1],l[2]),t=u.hasClass("dw-sel");if((a9||!u.hasClass("dw-cal-day-diff"))&&!1!==aA.trigger("onDayChange",[j.extend(be[r],{date:l,cell:this,selected:t})])){aA.needsSlide=!1,aA.setDate(new Date(l.getFullYear(),l.getMonth(),l.getDate(),q.getHours(),q.getMinutes(),q.getSeconds()),p,0.2,!p,!0),az.divergentDayChange&&(aM=!0,l<az.getDate(aT,aX-aH,1)?aB():l>az.getDate(aT,aX-aH+aJ,0)&&al(),aM=!1)}}function a7(l,p,q){l=Math.max(aZ-aq*aS,Math.min(l,aZ+aq*aS));ay[0].style[k+"Transition"]="all "+(p||0)+"ms";if(e){if(q){if(bb==l){q()}else{ay.on(h,function(){ay.off(h);q()})}}ay[0].style[k+"Transform"]="translate3d("+l+"px,0,0)"}else{q&&setTimeout(q,p),ay[0].style.left=l+"px"}p&&(aZ=l);bb=l}function a4(l,o){l.data("curr",o);e?l[0].style[k+"Transform"]="translate3d("+o+"%,0,0)":l[0].style.left=o+"%"}function ao(){aA.isVisible()&&aK.calendar&&aI(aT,aX)}function al(){aM&&az.getDate(aT,aX+aJ-aH,1)<=af&&ag(aT,++aX,"next",1,!1,!0,al)}function aB(){aM&&az.getDate(aT,aX-aH-1,1)>=aL&&ag(aT,--aX,"prev",1,!1,!0,aB)}function a6(l){aM&&az.getDate(aT,aX,1)<=az.getDate(az.getYear(af)-1,az.getMonth(af)-bp,1)?ag(++aT,aX,"next",aS,!0,!0,function(){a6(l)}):aM&&!l.hasClass("dwb-d")&&ag(az.getYear(af),az.getMonth(af)-bp,"next",aS,!0,!0)}function aU(l){aM&&az.getDate(aT,aX,1)>=az.getDate(az.getYear(aL)+1,az.getMonth(aL)+aH,1)?ag(--aT,aX,"prev",aS,!0,!0,function(){aU(l)}):aM&&!l.hasClass("dwb-d")&&ag(az.getYear(aL),az.getMonth(aL)+aH,"prev",aS,!0,!0)}var ai,au,aw,at,aN,ak,aR,aP,ay,aq,bb,aZ,aO,bn,aV,bd,bf,aG,aL,af,a3,J,ap,aT,aX,bh,ad,a1,z,an,b,v,bl,aY,bc,ax,ab,aM,aJ,ac,bp,aH,a9,bj=this,bi=[],aQ=[],bg=[],aK={},be={},a8=function(){};at=j.extend({},aA.settings);var az=j.extend(aA.settings,i,at),a5=az.weekCounter;at=az.layout||(/top|bottom/.test(az.display)?"liquid":"");var bk="liquid"==at&&"bubble"!==az.display,aE="modal"==az.display,bo=az.rtl,s=bo?-1:1,aD=bk?null:az.calendarWidth,aS=az.preMonths,ae="yearMonth"==az.navigation,B=az.controls.join(","),aW=(!0===az.tabs||!1!==az.tabs&&bk)&&1<az.controls.length,av=!aW&&void 0===az.tabs&&!bk&&1<az.controls.length,a=az.activeClass||"",aC="dw-sel "+(az.activeTabClass||""),bm=az.activeTabInnerClass||"",aF="dwb-d "+(az.disabledClass||"");B.match(/calendar/)&&(aK.calendar=1);B.match(/date/)&&(aK.date=1);B.match(/time/)&&(aK.time=1);aK.calendar&&aK.date&&(aW=!0,av=!1);az.layout=at;az.preset=(aK.date||aK.calendar?"date":"")+(aK.time?"time":"");if("inline"==az.display){j(this).closest('[data-role="page"]').on("pageshow",function(){aA.position()})}aA.changing=!1;aA.needsRefresh=!1;aA.needsSlide=!0;aA.getDayProps=a8;aA.onGenMonth=a8;aA.prepareObj=ar;aA.refresh=function(){aA.changing?aA.needsRefresh=true:ao()};at=j.mobiscroll.presets.datetime.call(this,aA);an=at.validate;j.extend(at,{onMarkupReady:function(Q){var R,K,O="",L=az.dateOrder.search(/m/i),I=az.dateOrder.search(/y/i);ak=Q;aR=az.display=="inline"?j(this).is("div")?j(this):j(this).parent():aA.context;ap=aA.getDate(true);aT=az.getYear(ap);aX=az.getMonth(ap);bb=aZ=0;bn=true;ab=false;bd=az.monthNames;bc="calendar";if(az.minDate){aL=new Date(az.minDate.getFullYear(),az.minDate.getMonth(),1);a3=az.minDate}else{a3=aL=new Date(az.startYear,0,1)}if(az.maxDate){af=new Date(az.maxDate.getFullYear(),az.maxDate.getMonth(),1);J=az.maxDate}else{J=af=new Date(az.endYear,11,31,23,59,59)}Q.addClass("dw-calendar"+(e?"":" dw-cal-no3d"));aN=j(".dw",Q);aY=j(".dwcc",Q);aK.date?aK.date=j(".dwc",ak).eq(0):aK.calendar&&j(".dwc",ak).eq(0).addClass("dwc-hh");if(aK.time){aK.time=j(".dwc",ak).eq(1)}if(aK.calendar){aJ=az.months=="auto"?Math.max(1,Math.min(3,Math.floor((aD||aR.width())/280))):az.months;ac=aJ+2*aS;bp=Math.floor(aJ/2);aH=Math.round(aJ/2)-1;a9=az.showDivergentDays===void 0?aJ<2:az.showDivergentDays;K='<div class="dw-cal-btnw"><div class="'+(bo?"dw-cal-next-m":"dw-cal-prev-m")+' dw-cal-prev dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt '+(az.btnCalPrevClass||"")+'">'+az.prevMonthText+"</a></div>";for(au=0;au<aJ;++au){K=K+('<div class="dw-cal-btnw-m" style="width: '+100/aJ+'%">'+(!ae&&I<L?'<span aria-live="assertive" class="dw-cal-year"></span>&nbsp;':"")+'<span aria-live="assertive" class="dw-cal-month"></span>'+(!ae&&I>L?'&nbsp;<span aria-live="assertive" class="dw-cal-year"></span>':"")+"</div>")}K=K+('<div class="'+(bo?"dw-cal-prev-m":"dw-cal-next-m")+' dw-cal-next dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt '+(az.btnCalNextClass||"")+'">'+az.nextMonthText+"</a></div></div>");ae&&(O='<div class="dw-cal-btnw"><div class="'+(bo?"dw-cal-next-y":"dw-cal-prev-y")+' dw-cal-prev dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt '+(az.btnCalPrevClass||"")+'">'+az.prevYearText+'</a></div><span aria-live="assertive" class="dw-cal-year"></span><div class="'+(bo?"dw-cal-prev-y":"dw-cal-next-y")+' dw-cal-next dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt '+(az.btnCalNextClass||"")+'">'+az.nextYearText+"</a></div></div>");aO='<div class="dwc dw-cal-c"><div class="dw-cal '+(aJ>1?" dw-cal-multi ":"")+(a5?" dw-weeks ":"")+(a9?"":" dw-hide-diff ")+(az.calendarClass||"")+'"><div class="dw-cal-header"><div class="dw-cal-btnc '+(ae?"dw-cal-btnc-ym":"dw-cal-btnc-m")+'">'+(I<L||aJ>1?O+K:K+O)+'</div><div class="dw-cal-days-c">';for(aw=0;aw<aJ;++aw){aO=aO+('<div class="dw-cal-days" style="width: '+100/aJ+'%"><table cellpadding="0" cellspacing="0"><tr>');for(au=0;au<7;au++){aO=aO+("<th>"+az.dayNamesShort[(au+az.firstDay)%7]+"</th>")}aO=aO+"</tr></table></div>"}aO=aO+('</div></div><div class="dw-cal-anim-c '+(az.calendarClass||"")+'"><div class="dw-week-nrs-c '+(az.weekNrClass||"")+'"><div class="dw-week-nrs"></div></div><div class="dw-cal-anim">');for(au=0;au<aJ+2*aS;au++){aO=aO+'<div class="dw-cal-slide"></div>'}aO=aO+"</div></div></div></div>";aK.calendar=j(aO)}j.each(az.controls,function(o,l){aK[l]=j('<div class="dw-cal-pnl" id="'+(bj.id+"_dw_pnl_"+o)+'"></div>').append(j('<div class="dw-cal-pnl-i"></div>').append(aK[l])).appendTo(aY)});R='<div class="dw-cal-tabs"><ul role="tablist">';j.each(az.controls,function(l,o){aK[o]&&(R=R+('<li role="tab" aria-controls="'+(bj.id+"_dw_pnl_"+l)+'" class="dw-cal-tab '+(l?"":aC)+'" data-control="'+o+'"><a href="#" class="dwb-e dwb-nhl dw-i '+(!l?bm:"")+'">'+az[o+"Text"]+"</a></li>"))});R=R+"</ul></div>";aY.before(R);aP=j(".dw-cal-anim-c",ak);ay=j(".dw-cal-anim",ak);if(aK.calendar){bi=j(".dw-cal-slide",ak).each(function(o,l){aQ.push(j(l))});bi.slice(aS,aS+aJ).addClass("dw-cal-slide-a");for(au=0;au<ac;au++){a4(aQ[au],100*(au-aS)*s)}aI(aT,aX);j(".dw-cal-slide-a .dw-cal-day",ak).attr("tabindex",0);aV=j(".dw-week-nrs",ak).html(j(".dw-week-nr-c",aQ[aS]).html())}bf=j(".dw-cal-month",ak);aG=j(".dw-cal-year",ak);setTimeout(function(){aA.tap(aP,function(l){l=j(l.target);if(!ab&&!b){for(;!l.hasClass("dw-cal-day")&&!l.hasClass("dw-cal-row");){l=l.parent()}l.hasClass("dw-cal-day-v")&&a0.call(l[0])}});j(".dw-cal-btn",ak).on("touchstart mousedown keydown",function(o){var l=j(this);if(o.type!=="keydown"){o.preventDefault();o=f(o)}else{o=o.keyCode===32}if(!aM&&o&&!l.hasClass("dwb-d")){aM=true;l.hasClass("dw-cal-prev-m")?aB():l.hasClass("dw-cal-next-m")?al():l.hasClass("dw-cal-prev-y")?aU(l):l.hasClass("dw-cal-next-y")&&a6(l);j(document).on("mouseup.dwbtn",function(){j(document).off(".dwbtn");aM=false})}}).on("touchend touchcancel keyup",function(){aM=false});j(".dw-cal-tab",ak).on("touchstart click",function(o){var l=j(this);if(f(o)&&!l.hasClass("dw-sel")){bc=l.attr("data-control");j(".dw-cal-pnl",ak).addClass("dw-cal-pnl-h");j(".dw-cal-tab",ak).removeClass(aC).removeAttr("aria-selected").find(".dw-i").removeClass(bm);l.addClass(aC).attr("aria-selected","true").find(".dw-i").addClass(bm);aK[bc].removeClass("dw-cal-pnl-h");if(bc==="calendar"){ai=aA.getDate(true);(ai.getFullYear()!==ap.getFullYear()||ai.getMonth()!==ap.getMonth()||ai.getDate()!==ap.getDate())&&a2(ai)}else{ap=aA.getDate(true);aA.setDate(ap,false,0,true)}aA.trigger("onTabChange",[bc])}})},300);bk?Q.addClass("dw-cal-liq"):j(".dw-cal",ak).width(aD||280*aJ);az.calendarHeight&&j(".dw-cal-anim-c",ak).height(az.calendarHeight);if(az.swipe){var N,E,y,F,A,G,H,q,P=az.liveSwipe,u=window.requestAnimationFrame||function(l){l()},r=window.cancelAnimationFrame||a8,M=function(l){if(!q&&!ab){ax=true;b=false;q=true;y=new Date;aZ=bb;bh=m(l,"X");ad=m(l,"Y")}},D=function(){A=q=false;if(H){H=false;r(N);E=false;F=new Date-y;G=(F<300&&Math.abs(a1-bh)>50?a1-bh<0?-aS:aS:Math.round((bb-aZ)/aq))*s;G>0&&az.getDate(aT,aX-G-aH,1)>=aL?ag(aT,aX-G,"prev",G):G<0&&az.getDate(aT,aX-G+aJ-aH-1,1)<=af?ag(aT,aX-G,"next",-G):P&&a7(aZ,200)}},x=function(l){ab&&l.preventDefault();if(q){a1=m(l,"X");z=m(l,"Y");if(!H&&!A){if(Math.abs(a1-bh)>7){b=H=true}else{if(!aA.scrollLock&&Math.abs(z-ad)>10){b=A=true;l.type==="touchmove"&&aP.trigger("touchend")}}}H&&l.preventDefault();if(H&&P&&!E){E=true;N=u(C)}}},C=function(){a7(aZ+a1-bh);E=false};aP.on("touchstart",M).on("touchmove",x).on("touchend touchcancel",D).on("mousedown",function(l){if(!ax){M(l);j(document).on("mousemove.dwsw",x).on("mouseup.dwsw",function(){D();j(document).off("dwsw")})}ax=false})}},onShow:function(){am(aT,aX);aA.trigger("onMonthLoaded",[aT,aX])},onPosition:function(u,x,l){var t,w,q,r=0,p=0,A=0;if(bk&&aE){aP.height("");aY.height("")}if(aW&&bn||av||bk){j(".dw-cal-pnl",ak).removeClass("dw-cal-pnl-h");bk&&ay.width("");j.each(aK,function(o,y){t=y.width();r=Math.max(r,t);p=Math.max(p,y.height());A=A+t});if(aW||av&&A>aR.width()){w=true;bc=j(".dw-cal-tabs .dw-sel",ak).attr("data-control");aN.addClass("dw-cal-tabbed")}else{bc="calendar";p=r="";aN.removeClass("dw-cal-tabbed")}}if(bk&&aE){w&&aY.height(aK.calendar.height());u=aN.outerHeight();l>=u&&aP.height(l-u+aP.height());p=Math.max(p,aK.calendar.height())}w&&aY.css({width:bk?"":r,height:p});aq&&(q=aq);if(aq=Math.round(Math.round(aP.width())/aJ)){ay.width(aq);if(bk&&!bn&&q){l=aZ/q;aZ=l*aq;a7(aZ,0)}if(ae){bd=az.maxMonthWidth>j(".dw-cal-btnw-m",ak).width()?az.monthNamesShort:az.monthNames;for(au=0;au<aJ;++au){j(bf[au]).text(bd[az.getMonth(az.getDate(aT,aX-aH+au,1))])}}if(w){j(".dw-cal-pnl",ak).addClass("dw-cal-pnl-h");aK[bc].removeClass("dw-cal-pnl-h")}}aA.trigger("onCalResize",[]);bn=false},onClose:function(){aQ=[];bc=null;ab=true},validate:function(l,o){an.call(this,l,o);aA.trigger("onSetDate",[]);a2(aA.getDate(true))}});return at}})(jQuery);(function(e){var d=e.mobiscroll,b=d.util,h=b.getCoord,f=b.has3d,g=b.jsPrefix,i={firstSelectDay:0,eventText:"event",eventsText:"events"};d.presetShort("calendar");d.presets.calendar=function(av){function an(k){if(k){if(ar[k]){return ar[k]}var j=e('<div style="background-color:'+k+';"></div>').appendTo("body"),l=(window.getComputedStyle?getComputedStyle(j[0]):j[0].style).backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),l=130<0.299*l[0]+0.587*l[1]+0.114*l[2]?"#000":"#fff";j.remove();return ar[k]=l}}function at(u,x){var l=aa[u];if(l){var w,q;q=e(".dw-cal-c",U).height();var C=x.height(),k=x.width(),A=x.offset().top-e(".dw-cal-c",U).offset().top,j=2>x.closest(".dw-cal-row").index(),B='<ul class="dw-cal-event-list">';ap=0;ao=!1;S=x;x.addClass(F).find(".dw-i").addClass(N);e.each(l,function(p,m){w=m.color;an(w);B+='<li class="dw-cal-event"><div class="dw-cal-event-color" style="'+(w?"background:"+w+";":"")+'"></div>'+m.text+"</li>"});B+="</ul>";al.html(B);av.trigger("onEventBubbleShow",[S,ae]);q=ae.addClass("dw-cal-events-t").css({top:j?A+C:"0",bottom:j?"0":q-A}).addClass("dw-cal-events-v").height();ag=q-al.height();ae.css(j?"bottom":"top","auto").removeClass("dw-cal-events-t");V.css("max-height",q);af(0);j?ae.addClass("dw-cal-events-b"):ae.removeClass("dw-cal-events-b");e(".dw-cal-events-arr",ae).css("left",x.offset().left-ae.offset().left+k/2);av.tap(e(".dw-cal-event",al),function(m){ao||av.trigger("onEventSelect",[m,l[e(this).index()],u])});aj=!0}}function Z(){ae&&ae.removeClass("dw-cal-events-v");S&&S.removeClass(F).find(".dw-i").removeClass(N);aj=!1}function ah(){a&&Z();av.refresh()}function af(j){f?al[0].style[g+"Transform"]="translateY("+j+"px)":al.css("top",j)}var ak,U,o,ae,S,aa,V,al,aj,au,X,J,ag,ap,aq,ao,v,ai,I,z,ar={};au=e.extend({},av.settings);var am=e.extend(av.settings,i,au),F="dw-sel dw-cal-day-ev",N=am.activeClass||"",y=am.multiSelect||"week"==am.selectType,M=am.markedDisplay,ad=!0===am.events||!0===am.markedText,ab=0,ac=[],a=e.isArray(am.events),s=a?e.extend(!0,[],am.events):[];aq=e.mobiscroll.presets.calbase.call(this,av);ak=e.extend({},aq);if(am.selectedValues){for(au=0;au<am.selectedValues.length;au++){X=am.selectedValues[au],av._selectedValues[X]=X}}a&&e.each(s,function(k,j){j._id=ab++});av.onGenMonth=function(j,k){aa=av.prepareObj(s,j,k);J=av.prepareObj(am.marked,j,k)};av.getDayProps=function(r){for(var u=y?void 0!==av._selectedValues[r]:a?r.getTime()===(new Date).setHours(0,0,0,0):void 0,t=J[r]?J[r][0]:!1,l=aa[r]?aa[r][0]:!1,q=t||l,t=t.text||(ad&&l?aa[r].length+" "+(1<aa[r].length?am.eventsText:am.eventText):0),l=J[r]||[],w="",m=q.color,p=ad&&t?an(m):"",r=0;r<l.length;r++){l[r].icon&&(w+='<span class="mbsc-ic mbsc-ic-'+l[r].icon+'"'+(l[r].color?' style="color:'+l[r].color+';"':"")+"></span>\n")}return{marked:q,selected:a?!1:u,cssClass:a&&u?"dw-cal-day-hl":"",markup:ad&&t?'<div class="dw-cal-day-txt-c"><div class="dw-cal-day-txt '+(am.eventTextClass||"")+'" title="'+e("<div>"+t+"</div>").text()+'"'+(m?' style="background:'+m+";color:"+p+';text-shadow:none;"':"")+">"+w+t+"</div></div>":ad&&w?'<div class="dw-cal-day-ic-c">'+w+"</div>":q?'<div class="dw-cal-day-m"'+(m?' style="background-color:'+m+";border-color:"+m+" "+m+' transparent transparent"':"")+"></div>":""}};av.addValue=function(j){av._selectedValues[j]=j;ah()};av.removeValue=function(j){delete av._selectedValues[j];ah()};av.setValues=function(j){var k=0;av._selectedValues={};for(k;k<j.length;k++){av._selectedValues[j[k]]=j[k]}ah()};a&&(av.addEvent=function(j){var k=[],j=e.extend(!0,[],e.isArray(j)?j:[j]);e.each(j,function(m,l){l._id=ab++;s.push(l);k.push(l._id)});ah();return k},av.removeEvent=function(j){j=e.isArray(j)?j:[j];e.each(j,function(k,l){e.each(s,function(p,m){if(m._id===l){return s.splice(p,1),!1}})});ah()},av.getEvents=function(){return s},av.setEvents=function(j){var k=[];s=e.extend(!0,[],j);e.each(s,function(m,l){l._id=ab++;k.push(l._id)});ah();return k});e.extend(aq,{highlight:!y&&!a,divergentDayChange:!y&&!a,buttons:a?["cancel"]:am.buttons,onClear:function(){if(y){av._selectedValues={};av.refresh()}},onBeforeShow:function(){if(a){am.headerText=false}if(am.closeOnSelect){am.divergentDayChange=false}if(am.counter&&y){am.headerText=function(){var j=0,k=am.selectType=="week"?7:1;e.each(av._selectedValues,function(){j++});return j/k+" "+am.selectedText}}},onMarkupReady:function(j){ak.onMarkupReady.call(this,j);U=j;if(y){e(".dwv",j).attr("aria-live","off");ac=e.extend({},av._selectedValues)}ad&&e(".dw-cal",j).addClass("dw-cal-ev");M&&e(".dw-cal",j).addClass("dw-cal-m-"+M);if(a){j.addClass("dw-cal-em");ae=e('<div class="dw-cal-events '+(am.eventBubbleClass||"")+'"><div class="dw-cal-events-arr"></div><div class="dw-cal-events-i"><div class="dw-cal-events-sc"></div></div></div>').appendTo(e(".dw-cal-c",j));V=e(".dw-cal-events-i",ae);al=e(".dw-cal-events-sc",ae);ae.on("touchstart mousedown",function(k){if(ag<0){I=k.type==="touchstart";ao=false;v=ap;ai=h(k,"Y");o=h(k,"Y");e(document).on(I?"touchmove.dwsc":"mousemove.dwsc",function(l){l.preventDefault();o=h(l,"Y");ap=Math.min(0,Math.max(v+o-ai,ag));af(ap);Math.abs(o-ai)>5&&(ao=true)}).on(I?"touchend.dwsc":"mouseup.dwsc",function(){e(document).off(".dwsc")})}});av.tap(ae,function(){ao||Z()})}},onMonthChange:function(){a&&Z()},onMonthLoaded:function(){if(z){at(z.d,e('.dw-cal-day-v[data-full="'+z.full+'"]:not(.dw-cal-day-diff)',U));z=false}},onDayChange:function(q){var r=q.date,l=e(q.cell),q=q.selected;if(a){Z();l.hasClass("dw-cal-day-ev")||setTimeout(function(){av.changing?z={d:r,full:l.attr("data-full")}:at(r,l)},10)}else{if(y){if(am.selectType=="week"){var p,m,t=r.getDay()-am.firstSelectDay,t=t<0?7+t:t;if(!am.multiSelect){av._selectedValues={}}for(p=0;p<7;p++){m=new Date(r.getFullYear(),r.getMonth(),r.getDate()-t+p);q?delete av._selectedValues[m]:av._selectedValues[m]=m}ah()}else{p=e('.dw-cal .dw-cal-day[data-full="'+l.attr("data-full")+'"]',U);if(q){p.removeClass("dw-sel").removeAttr("aria-selected").find(".dw-i").removeClass(N);delete av._selectedValues[r]}else{p.addClass("dw-sel").attr("aria-selected","true").find(".dw-i").addClass(N);av._selectedValues[r]=r}}}}if(!a&&!am.multiSelect&&am.closeOnSelect&&am.display!=="inline"){av.needsSlide=false;av.setDate(r);av.select();return false}},onCalResize:function(){aj&&e(".dw-cal-events-arr",ae).css("left",S.offset().left-ae.offset().left+S.width()/2)},onCancel:function(){if(!av.live&&y){av._selectedValues=e.extend({},ac)}}});return aq}})(jQuery);(function(e){var d=e.mobiscroll,b={wheelOrder:"hhiiss",useShortLabels:!1,minTime:0,maxTime:Infinity,labels:"Years,Months,Days,Hours,Minutes,Seconds".split(","),labelsShort:"Yrs,Mths,Days,Hrs,Mins,Secs".split(",")};d.presetShort("timespan");d.presets.timespan=function(ac){function K(h){var j={};e(m).each(function(k,l){j[l]=ad[l]?Math.floor(h/M[l].limit):0;h-=j[l]*M[l].limit});return j}function S(k,v){var u=!1,q=af[ad[k]-1]||1,r=M[k],h=r.wheel,t=r.prefix;a=0;F=r.until;k==f&&(a=Math.max(T[k],v[k]-50*q),F=Math.min(ab[k],a+100*q),Y=a+5*q,Q=F-5*q);h.keys=[];h.values=[];h.label=r.label;V.match(RegExp(r.re+r.re,"i"))&&(u=!0);for(ai=a;ai<=F;ai+=q){h.keys.push(ai),h.values.push((t||"")+(10>ai&&u?"0":"")+ai+'<span class="dwtlbl">'+r.label+"</span>")}}function o(h){var j=0;e.each(ae,function(k,l){isNaN(+h[0])||(j+=M[l.v].limit*h[k])});return j}var ai,y,ag,Y,Q,H,aa,N,a,F,I,Z,T,ab,X=e.extend({},ac.settings),ah=e.extend(ac.settings,b,X),V=ah.wheelOrder,X=ah.useShortLabels?ah.labelsShort:ah.labels,m="years,months,days,hours,minutes,seconds".split(","),M={years:{index:6,until:10,limit:31536000000,label:X[0],re:"y",wheel:{}},months:{index:5,until:11,limit:2592000000,label:X[1],re:"m",wheel:{}},days:{index:4,until:31,limit:86400000,label:X[2],re:"d",wheel:{}},hours:{index:3,until:23,limit:3600000,label:X[3],re:"h",wheel:{}},minutes:{index:2,until:59,limit:60000,label:X[4],re:"i",wheel:{}},seconds:{index:1,until:59,limit:1000,label:X[5],re:"s",wheel:{}}},ae=[],af=ah.steps||[],ad={},f="seconds",U=0,i=ah.defaultValue||Math.max(ah.minTime,Math.min(0,ah.maxTime)),g=[[]];ag=0;N=K(ag);T=K(ah.minTime);ab=K(ah.maxTime);e(m).each(function(j,h){y=V.search(RegExp(M[h].re,"i"));-1<y&&(ae.push({o:y,v:h}),M[h].index>M[f].index&&(f=h))});ae.sort(function(j,h){return j.o>h.o?1:-1});e.each(ae,function(j,h){h.v==f&&(U=j);ad[h.v]=j+1;g[0].push(M[h.v].wheel);S(h.v,N)});return{wheels:g,parseValue:function(h){var j=[];h?(e(ah.labels).each(function(k,l){h=h.replace(l,"")}),e(ah.labelsShort).each(function(k,l){h=h.replace(l,"")}),j=h.replace(/\s+/g," ").split(" ")):(N=K(i),e.each(ae,function(l,k){j.push(N[k.v])}));e(j).each(function(l,k){j[l]=Math.floor(k/(af[l]||1))*(af[l]||1)});return j},formatResult:function(h){var j="";e(ae).each(function(k,l){j+=h[k]+" "+M[l.v].label+" "});return j},validate:function(k,v,s){var r,p;ag=o(ac.temp);r=K(ag);if(v===U||!H&&(ac.temp[U]<Y||ac.temp[U]>Q)){if(S(f,r),I!==a||Z!==F){p=ac.temp[U],aa=setTimeout(function(){I=a;Z=F;H=!0;ac.temp[U]=p;ac.changeWheel([U],void 0,void 0!==v)},1000*s)}}var t=!0,l=!0;e(m).each(function(x,w){if(void 0!==ad[w]){var j=e(".dw-ul",k).eq(ad[w]-1),u=e(".dw-li",j).index(e('.dw-li[data-val="'+ab[w]+'"]',j)),q=e(".dw-li",j).index(e('.dw-li[data-val="'+T[w]+'"]',j));e(".dw-li",j).addClass("dw-v");t&&-1<u&&e(".dw-li",j).slice(u+1).removeClass("dw-v");l&&-1<q&&e(".dw-li",j).slice(0,q).removeClass("dw-v");t=t&&r[w]==ab[w];l=l&&r[w]==T[w]}});H=!1},onBeforeShow:function(){ah.mode="scroller";ah.showLabel=!0;ag=o(ac.temp);N=K(ag);T=K(ah.minTime);ab=K(ah.maxTime);S(f,N)},onMarkupReady:function(h){h.addClass("dw-timespan");e(".dwwl"+U,h).on("mousedown touchstart",function(){clearTimeout(aa)})}}}})(jQuery);(function(e){var d=e.mobiscroll,b=d.util.testTouch,f={autoCorrect:!0,fromText:"Start",toText:"End"};d.presetShort("rangepicker");d.presets.rangepicker=function(K){function S(j,h){j&&(j.setFullYear(h.getFullYear()),j.setMonth(h.getMonth()),j.setDate(h.getDate()))}function o(){ab>X&&(M?(ab=new Date(X),I=d.formatDate(H,ab,ae)):(X=new Date(ab),T=d.formatDate(H,X,ae)),e(".dw-drv0",Y).html(I||"&nbsp;"),e(".dw-drv1",Y).html(T||"&nbsp;"))}function ah(){y.removeClass("dw-sel").removeAttr("aria-checked").find(".dw-dr",Y).removeClass(U);y=e(".dw-dr-c",Y).eq(M).addClass("dw-sel").attr("aria-checked","true");y.find(".dw-dr").addClass(U)}var y,af,Y,Q,H,aa,N,a,F,I,Z,T,ab,X,ag,V,m,M=0;aa=new Date;var ad=e.extend({},K.settings),ae=e.extend(K.settings,f,ad),ac=ae.anchor,g=ae.rangeTap,U=ae.activeClass||"",l=g?"":"dw-cal-day-hl",i=ae.defaultValue||[new Date(aa.setHours(0,0,0,0)),new Date(aa.getFullYear(),aa.getMonth(),aa.getDate()+6,23,59,59,999)];g&&(ae.tabs=!0);aa=e.mobiscroll.presets.calbase.call(this,K);af=e.extend({},aa);H=K.format;ag="time"===ae.controls.join("");ae.startInput&&(V=e(ae.startInput).prop("readonly"),K.attachShow(e(ae.startInput).prop("readonly",!0),function(){M=0;ae.anchor=ac||e(ae.startInput)}));ae.endInput&&(m=e(ae.endInput).prop("readonly"),K.attachShow(e(ae.endInput).prop("readonly",!0),function(){M=1;ae.anchor=ac||e(ae.endInput)}));K._setValue||(K._setValue=K.setValue);K.setValue=function(p,h,u,q,r){var t=p;if(p[0]===void 0||p[0]===null||p[0].getTime){a=true;I=(ab=p[0])?d.formatDate(H,ab,ae):"";M||(t=af.parseValue(I,K))}if(p[1]===void 0||p[1]===null||p[1].getTime){a=true;T=(X=p[1])?d.formatDate(H,X,ae):"";M&&(t=af.parseValue(T,K))}if(!q){F=ab;Z=X}K._setValue.call(this,t,h,u,q,r)};K.getValue=function(h){return h?[ab,X]:[F,Z]};K.getDayProps=function(j){var h=ab?new Date(ab.getFullYear(),ab.getMonth(),ab.getDate()):null,k=X?new Date(X.getFullYear(),X.getMonth(),X.getDate()):ab;return{selected:h&&j>=h&&j<=X,cssClass:!M&&h&&h.getTime()===j.getTime()||M&&k&&k.getTime()===j.getTime()?l:""}};K.setActiveDate=function(h){h=(M=h=="start"?0:1)?X:ab;if(K.isVisible()){ah();e(".dw-cal-table .dw-sel",Y).removeClass(l);if(h){e('.dw-cal-day[data-full="'+h.getFullYear()+"-"+h.getMonth()+"-"+h.getDate()+'"]',Y).addClass(l);N=true;K.setDate(h,false,0.2,true)}}};e.extend(aa,{highlight:!1,divergentDayChange:!1,formatResult:function(){return I+(ae.endInput?"":T?" - "+T:"")},parseValue:function(h){h=h.split(" - ");ae.defaultValue=i[1];Z=ae.endInput?e(ae.endInput).val()?d.parseDate(H,e(ae.endInput).val(),ae):i[1]:h[1]?d.parseDate(H,h[1],ae):i[1];ae.defaultValue=i[0];F=ae.startInput?e(ae.startInput).val()?d.parseDate(H,e(ae.startInput).val(),ae):i[0]:h[0]?d.parseDate(H,h[0],ae):i[0];ae.defaultValue=i[M];I=F?d.formatDate(H,F,ae):"";T=Z?d.formatDate(H,Z,ae):"";return af.parseValue(M?T:I,K)},onValueFill:function(h,j){F=ab;Z=X;if(ae.startInput){e(ae.startInput).val(I);j&&e(ae.startInput).change()}if(ae.endInput){e(ae.endInput).val(T);j&&e(ae.endInput).change()}},onClose:function(j,h){if(ab>X){o();K.setActiveDate(M?"start":"end");return false}af.onClose.call(this,j,h);M=0;ae.anchor=ac},onClear:function(){K.setValue([])},onBeforeShow:function(){ae.headerText=false;ab=F;X=Z;if(ae.counter){ae.headerText=function(){return Math.max(1,Math.round(((new Date(X)).setHours(0,0,0,0)-(new Date(ab)).setHours(0,0,0,0))/86400000)+1)+" "+ae.selectedText}}N=true;if(M&&Z||!M&&F){K.setDate(M?Z:F)}},onMarkupReady:function(h){var j;Y=h;if(ab){N=true;K.setDate(ab,false,0,true);ab=K.getDate(true)}if(X){N=true;K.setDate(X,false,0,true);X=K.getDate(true)}N=true;K.setDate(M?X:ab,false,0,true);I=d.formatDate(H,ab,ae);T=d.formatDate(H,X,ae);af.onMarkupReady.call(this,h);h.addClass("dw-rangepicker");j='<div class="dw-dr-t" role="radiogroup"><div class="dw-dr-c dw-dr0"><a href="#" role="radio" class="dwb-e dwb-nhl dw-i dw-dr">'+ae.fromText+'<div class="dw-drv dw-drv0">'+(I||"&nbsp;")+'</div></a></div><div class="dw-dr-c dw-dr1"><a href="#" role="radio" class="dwb-e dwb-nhl dw-i dw-dr">'+ae.toText+'<div class="dw-drv dw-drv1">'+(T||"&nbsp;")+"</div></a></div></div>";e(".dw-cal-tabs",h).before(j);y=e(".dw-dr"+M,h).addClass("dw-sel").attr("aria-checked","true");y.find(".dw-dr").addClass(U);setTimeout(function(){e(".dw-dr-c",h).on("touchstart click",function(k){if(!g||g&&e(".dw-cal-tab.dw-sel",Y).attr("data-control")!=="calendar"){var p=e(this);b(k)&&!p.hasClass("dw-sel")&&K.setActiveDate(p.index()?"end":"start")}})},300)},onDayChange:function(){Q=true},onSetDate:function(){if(!N){var s,h,q,r=0;s=K.getDate(true);if(!a||Q){g&&Q&&M==1&&s<ab&&(M=0);if(M){X=X?s:new Date(s.setHours(23,59,59,999));T=d.formatDate(H,X,ae);ab=ab||X;I=I||T}else{ab=ab?s:new Date(s.setHours(0,0,0,0));I=d.formatDate(H,ab,ae)}if(ag){S(ab,s);S(X,s)}if(g&&Q){if(M===0){M=1;X=null;T=""}else{M=0;N=true;K.setDate(ab,false,0,true)}ah()}else{ab>X&&(ae.autoCorrect||Q)&&o()}}e(".dw-drv0",Y).html(I||"&nbsp;");e(".dw-drv1",Y).html(T||"&nbsp;");s=new Date(ab);h=new Date(X||ab);q=M?h:s;e(".dw-cal-table .dw-sel .dw-i",Y).removeClass(U);e(".dw-cal-table .dw-sel",Y).removeClass("dw-sel "+l).removeAttr("aria-selected");for(e('.dw-cal-day[data-full="'+q.getFullYear()+"-"+q.getMonth()+"-"+q.getDate()+'"]',Y).addClass(l);h>=s&&r<84;){e('.dw-cal-day[data-full="'+q.getFullYear()+"-"+q.getMonth()+"-"+q.getDate()+'"]',Y).addClass("dw-sel").attr("aria-selected","true").find(".dw-i ").addClass(U);q.setDate(q.getDate()+(M?-1:1));r++}}N=a=Q=false},onTabChange:o,onDestroy:function(){e(ae.startInput).prop("readonly",V);e(ae.endInput).prop("readonly",m)}});return aa}})(jQuery);(function(e){var d=e.mobiscroll,b=new Date,g={startYear:b.getFullYear()-100,endYear:b.getFullYear()+1,shortYearCutoff:"+10",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" ",dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",amText:"am",pmText:"pm",nowText:"Now",getYear:function(h){return h.getFullYear()},getMonth:function(h){return h.getMonth()},getDay:function(h){return h.getDate()},getDate:function(j,i,h,k,m,o){return new Date(j,i,h,k||0,m||0,o||0)},getMaxDayOfMonth:function(i,h){return 32-(new Date(i,h,32)).getDate()},getWeekNumber:function(i){i=new Date(i);i.setHours(0,0,0);i.setDate(i.getDate()+4-(i.getDay()||7));var h=new Date(i.getFullYear(),0,1);return Math.ceil(((i-h)/86400000+1)/7)}},f=function(az){function ar(j,h,k){return void 0!==U[h]?+j[U[h]]:void 0!==k?k:S[h](a)}function aM(j,h,m,k){j.push({values:m,keys:h,label:k})}function aw(j,h,m,k){return Math.min(k,Math.floor(j/h)*h+m)}function aK(j){var h=ar(j,"h",0);return aG.getDate(ar(j,"y"),ar(j,"m"),ar(j,"d"),ar(j,"a",0)?h+12:h,ar(j,"i",0),ar(j,"s",0))}function ai(p,m){var v,u,t=!1,q=!1,r=0,s=0;if(ay(p)){return p}p<ak&&(p=ak);p>aq&&(p=aq);u=v=p;if(2!==m){for(t=ay(v);!t&&v<aq;){v=new Date(v.getTime()+86400000),t=ay(v),r++}}if(1!==m){for(q=ay(u);!q&&u>ak;){u=new Date(u.getTime()-86400000),q=ay(u),s++}}return 1===m&&t?v:2===m&&q?u:s<r&&q?u:v}function ay(h){return h<ak||h>aq?!1:av(h,aF)?!0:av(h,aJ)?!1:!0}function av(j,h){var p,m,k;if(h){for(m=0;m<h.length;m++){if(p=h[m],k=p+"",!p.start){if(p.getTime){if(j.getFullYear()==p.getFullYear()&&j.getMonth()==p.getMonth()&&j.getDate()==p.getDate()){return !0}}else{if(k.match(/w/i)){if(k=+k.replace("w",""),k==j.getDay()){return !0}}else{if(k=k.split("/"),k[1]){if(k[0]-1==j.getMonth()&&k[1]==j.getDate()){return !0}}else{if(k[0]==j.getDate()){return !0}}}}}}}return !1}function aD(x,w,v,u,t,r,s){var p,k,q;if(x){for(p=0;p<x.length;p++){if(k=x[p],q=k+"",!k.start){if(k.getTime){aG.getYear(k)==w&&aG.getMonth(k)==v&&(r[aG.getDay(k)-1]=s)}else{if(q.match(/w/i)){q=+q.replace("w","");for(ah=q-u;ah<t;ah+=7){0<=ah&&(r[ah]=s)}}else{q=q.split("/"),q[1]?q[0]-1==v&&(r[q[1]-1]=s):r[q[0]-1]=s}}}}}}function af(a4,a3,a2,a0,aY,aZ,aW,aV,aX){var aU,W,O,aQ,aN,aS,Q,aT,v,aR,aO,Y,a1,aP,T,R,z={},P={h:o,i:at,s:i,a:1},s=ar(a3,"d"),k=aG.getDate(a2,a0,s),y=["a","h","i","s"];a4&&(e.each(a4,function(j,h){if(h.start&&(h.apply=!1,aU=h.d,W=aU+"",aQ=W.split("/"),aU&&(aU.getTime&&a2==aG.getYear(aU)&&a0==aG.getMonth(aU)&&s==aG.getDay(aU)||!W.match(/w/i)&&(aQ[1]&&s==aQ[1]&&a0==aQ[0]-1||!aQ[1]&&s==aQ[0])||W.match(/w/i)&&k.getDay()==+W.replace("w","")))){h.apply=!0,z[k]=!0}}),e.each(a4,function(h,j){if(j.start&&(j.apply||!j.d&&!z[k])){aN=j.start.split(":");aS=j.end.split(":");for(Q=0;3>Q;Q++){void 0===aN[Q]&&(aN[Q]=0),void 0===aS[Q]&&(aS[Q]=59),aN[Q]=+aN[Q],aS[Q]=+aS[Q]}aN.unshift(11<aN[0]?1:0);aS.unshift(11<aS[0]?1:0);al&&(12<=aN[1]&&(aN[1]-=12),12<=aS[1]&&(aS[1]-=12));a1=Y=!0;e.each(y,function(m,p){if(U[p]!==void 0){O=ar(a3,p);aR=R=T=0;aO=void 0;aP=e(".dw-ul",aV).eq(U[p]);for(Q=m+1;Q<4;Q++){aN[Q]>0&&(T=P[p]);aS[Q]<aZ[y[Q]]&&(R=P[p])}aT=aw(aN[m],P[p],aY[p],aZ[p])+T;v=aw(aS[m],P[p],aY[p],aZ[p])-R;Y&&(aR=aT<0?0:aT>aZ[p]?e(".dw-li",aP).length:l(aP,aT)+0);a1&&(aO=v<0?0:v>aZ[p]?e(".dw-li",aP).length:l(aP,v)+1);if(Y||a1){aX?e(".dw-li",aP).slice(aR,aO).addClass("dw-v"):e(".dw-li",aP).slice(aR,aO).removeClass("dw-v")}O=az.getValidCell(O,aP,aW).val;Y=Y&&O==aw(aN[m],P[p],aY[p],aZ[p]);a1=a1&&O==aw(aS[m],P[p],aY[p],aZ[p])}})}}))}function l(h,j){return e(".dw-li",h).index(e('.dw-li[data-val="'+j+'"]',h))}function au(j){var h,k=[];for(h in U){k[U[h]]=S[h](j)}return k}function ad(j){var h,p,m,k=[];if(j){for(h=0;h<j.length;h++){if(p=j[h],p.start&&p.start.getTime){for(m=new Date(p.start);m<=p.end;){k.push(new Date(m.getFullYear(),m.getMonth(),m.getDate())),m.setDate(m.getDate()+1)}}else{k.push(p)}}return k}return j}var aj=e(this),ag={},aE;if(aj.is("input")){switch(aj.attr("type")){case"date":aE="yy-mm-dd";break;case"datetime":aE="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":aE="yy-mm-ddTHH:ii:ss";break;case"month":aE="yy-mm";ag.dateOrder="mmyy";break;case"time":aE="HH:ii:ss"}var aB=aj.attr("min"),aj=aj.attr("max");aB&&(ag.minDate=d.parseDate(aE,aB));aj&&(ag.maxDate=d.parseDate(aE,aj))}var aL,ah,Z,ax,aH,aI,aB=e.extend({},az.settings),aG=e.extend(az.settings,g,ag,aB),J=0,aB=[],aA=[],U={},S={y:function(h){return aG.getYear(h)},m:function(h){return aG.getMonth(h)},d:function(h){return aG.getDay(h)},h:function(h){h=h.getHours();h=al&&12<=h?h-12:h;return aw(h,o,X,ap)},i:function(h){return aw(h.getMinutes(),at,ab,ae)},s:function(h){return aw(h.getSeconds(),i,an,V)},a:function(h){return ao&&11<h.getHours()?1:0}},aJ=aG.invalid,aF=aG.valid,aa=aG.preset,ac=aG.dateOrder,N=aG.timeWheels,aC=ac.match(/D/),ao=N.match(/a/i),al=N.match(/h/),am="datetime"==aa?aG.dateFormat+aG.separator+aG.timeFormat:"time"==aa?aG.timeFormat:aG.dateFormat,a=new Date,o=aG.stepHour,at=aG.stepMinute,i=aG.stepSecond,ak=aG.minDate||new Date(aG.startYear,0,1),aq=aG.maxDate||new Date(aG.endYear,11,31,23,59,59),X=ak.getHours()%o,ab=ak.getMinutes()%at,an=ak.getSeconds()%i,ap=Math.floor(((al?11:23)-X)/o)*o+X,ae=Math.floor((59-ab)/at)*at+ab,V=Math.floor((59-ab)/at)*at+ab;aE=aE||am;if(aa.match(/date/i)){e.each(["y","m","d"],function(j,h){aL=ac.search(RegExp(h,"i"));-1<aL&&aA.push({o:aL,v:h})});aA.sort(function(j,h){return j.o>h.o?1:-1});e.each(aA,function(j,h){U[h.v]=j});ag=[];for(ah=0;3>ah;ah++){if(ah==U.y){J++;Z=[];aj=[];ax=aG.getYear(ak);aH=aG.getYear(aq);for(aL=ax;aL<=aH;aL++){aj.push(aL),Z.push((ac.match(/yy/i)?aL:(aL+"").substr(2,2))+(aG.yearSuffix||""))}aM(ag,aj,Z,aG.yearText)}else{if(ah==U.m){J++;Z=[];aj=[];for(aL=0;12>aL;aL++){ax=ac.replace(/[dy]/gi,"").replace(/mm/,(9>aL?"0"+(aL+1):aL+1)+(aG.monthSuffix||"")).replace(/m/,aL+1+(aG.monthSuffix||"")),aj.push(aL),Z.push(ax.match(/MM/)?ax.replace(/MM/,'<span class="dw-mon">'+aG.monthNames[aL]+"</span>"):ax.replace(/M/,'<span class="dw-mon">'+aG.monthNamesShort[aL]+"</span>"))}aM(ag,aj,Z,aG.monthText)}else{if(ah==U.d){J++;Z=[];aj=[];for(aL=1;32>aL;aL++){aj.push(aL),Z.push((ac.match(/dd/i)&&10>aL?"0"+aL:aL)+(aG.daySuffix||""))}aM(ag,aj,Z,aG.dayText)}}}}aB.push(ag)}if(aa.match(/time/i)){aI=!0;aA=[];e.each(["h","i","s","a"],function(j,h){j=N.search(RegExp(h,"i"));-1<j&&aA.push({o:j,v:h})});aA.sort(function(j,h){return j.o>h.o?1:-1});e.each(aA,function(j,h){U[h.v]=J+j});ag=[];for(ah=J;ah<J+4;ah++){if(ah==U.h){J++;Z=[];aj=[];for(aL=X;aL<(al?12:24);aL+=o){aj.push(aL),Z.push(al&&0===aL?12:N.match(/hh/i)&&10>aL?"0"+aL:aL)}aM(ag,aj,Z,aG.hourText)}else{if(ah==U.i){J++;Z=[];aj=[];for(aL=ab;60>aL;aL+=at){aj.push(aL),Z.push(N.match(/ii/)&&10>aL?"0"+aL:aL)}aM(ag,aj,Z,aG.minuteText)}else{if(ah==U.s){J++;Z=[];aj=[];for(aL=an;60>aL;aL+=i){aj.push(aL),Z.push(N.match(/ss/)&&10>aL?"0"+aL:aL)}aM(ag,aj,Z,aG.secText)}else{ah==U.a&&(J++,aj=N.match(/A/),aM(ag,[0,1],aj?[aG.amText.toUpperCase(),aG.pmText.toUpperCase()]:[aG.amText,aG.pmText],aG.ampmText))}}}}aB.push(ag)}az.setDate=function(j,h,p,m,k){az.temp=au(j);az.setValue(az.temp,h,p,m,k)};az.getDate=function(h){return aK(h?az.temp:az.values)};az.convert=function(h){var j=h;e.isArray(h)||(j=[],e.each(h,function(k,m){e.each(m,function(p,q){"daysOfWeek"===k&&(q.d?q.d="w"+q.d:q="w"+q);j.push(q)})}));return j};az.format=am;az.buttons.now={text:aG.nowText,css:"dwb-n",handler:function(){az.setDate(new Date,!1,0.3,!0,!0)}};aG.showNow&&aG.buttons.splice(e.inArray("set",aG.buttons)+1,0,"now");aJ=aJ?az.convert(aJ):!1;aJ=ad(aJ);aF=ad(aF);ak=aK(au(ak));aq=aK(au(aq));return{wheels:aB,headerText:aG.headerText?function(){return d.formatDate(am,aK(az.temp),aG)}:!1,formatResult:function(h){return d.formatDate(aE,aK(h),aG)},parseValue:function(h){return au(d.parseDate(aE,h,aG))},validate:function(z,v,s,m){var v=ai(aK(az.temp),m),p=au(v),B={y:ak.getFullYear(),m:0,d:1,h:X,i:ab,s:an,a:0},C={y:aq.getFullYear(),m:11,d:31,h:ap,i:ae,s:V,a:1},k=ar(p,"y"),h=ar(p,"m"),A=!0,x=!0;e.each("y,m,d,a,h,i,s".split(","),function(y,w){if(U[w]!==void 0){var t=B[w],u=C[w],r=31,F=ar(p,w),D=e(".dw-ul",z).eq(U[w]);if(w=="d"){u=r=aG.getMaxDayOfMonth(k,h);aC&&e(".dw-li",D).each(function(){var j=e(this),H=j.data("val"),G=aG.getDate(k,h,H).getDay(),H=ac.replace(/[my]/gi,"").replace(/dd/,(H<10?"0"+H:H)+(aG.daySuffix||"")).replace(/d/,H+(aG.daySuffix||""));e(".dw-i",j).html(H.match(/DD/)?H.replace(/DD/,'<span class="dw-day">'+aG.dayNames[G]+"</span>"):H.replace(/D/,'<span class="dw-day">'+aG.dayNamesShort[G]+"</span>"))})}A&&ak&&(t=S[w](ak));x&&aq&&(u=S[w](aq));if(w!="y"){var E=l(D,t),q=l(D,u);e(".dw-li",D).removeClass("dw-v").slice(E,q+1).addClass("dw-v");w=="d"&&e(".dw-li",D).removeClass("dw-h").slice(r).addClass("dw-h")}F<t&&(F=t);F>u&&(F=u);A&&(A=F==t);x&&(x=F==u);if(w=="d"){t=aG.getDate(k,h,1).getDay();u={};aD(aJ,k,h,t,r,u,1);aD(aF,k,h,t,r,u,0);e.each(u,function(j,G){G&&e(".dw-li",D).eq(j).removeClass("dw-v")})}}});aI&&(af(aJ,p,k,h,B,C,m,z,0),af(aF,p,k,h,B,C,m,z,1));az.temp=p}}};e.each(["date","time","datetime"],function(h,i){d.presets[i]=f;d.presetShort(i)});d.datetime={};d.formatDate=d.datetime.formatDate=function(i,k,m){if(!k){return null}var m=e.extend({},g,m),q=function(p){for(var l=0;r+1<i.length&&i.charAt(r+1)==p;){l++,r++}return l},j=function(p,l,t){l=""+l;if(q(p)){for(;l.length<t;){l="0"+l}}return l},h=function(u,p,v,t){return q(u)?t[p]:v[p]},r,o,a="",s=!1;for(r=0;r<i.length;r++){if(s){"'"==i.charAt(r)&&!q("'")?s=!1:a+=i.charAt(r)}else{switch(i.charAt(r)){case"d":a+=j("d",m.getDay(k),2);break;case"D":a+=h("D",k.getDay(),m.dayNamesShort,m.dayNames);break;case"o":a+=j("o",(k.getTime()-(new Date(k.getFullYear(),0,0)).getTime())/86400000,3);break;case"m":a+=j("m",m.getMonth(k)+1,2);break;case"M":a+=h("M",m.getMonth(k),m.monthNamesShort,m.monthNames);break;case"y":o=m.getYear(k);a+=q("y")?o:(10>o%100?"0":"")+o%100;break;case"h":o=k.getHours();a+=j("h",12<o?o-12:0===o?12:o,2);break;case"H":a+=j("H",k.getHours(),2);break;case"i":a+=j("i",k.getMinutes(),2);break;case"s":a+=j("s",k.getSeconds(),2);break;case"a":a+=11<k.getHours()?m.pmText:m.amText;break;case"A":a+=11<k.getHours()?m.pmText.toUpperCase():m.amText.toUpperCase();break;case"'":q("'")?a+="'":s=!0;break;default:a+=i.charAt(r)}}}return a};d.parseDate=d.datetime.parseDate=function(L,m,O){var O=e.extend({},g,O),h=O.defaultValue||new Date;if(!L||!m){return h}var m="object"==typeof m?m.toString():m+"",M=O.shortYearCutoff,y=O.getYear(h),r=O.getMonth(h)+1,j=O.getDay(h),H=-1,o=h.getHours(),a=h.getMinutes(),i=0,k=-1,F=!1,s=function(l){(l=u+1<L.length&&L.charAt(u+1)==l)&&u++;return l},I=function(l){s(l);l=m.substr(N).match(RegExp("^\\d{1,"+("@"==l?14:"!"==l?20:"y"==l?4:"o"==l?3:2)+"}"));if(!l){return 0}N+=l[0].length;return parseInt(l[0],10)},z=function(p,l,q){p=s(p)?q:l;for(l=0;l<p.length;l++){if(m.substr(N,p[l].length).toLowerCase()==p[l].toLowerCase()){return N+=p[l].length,l+1}}return 0},N=0,u;for(u=0;u<L.length;u++){if(F){"'"==L.charAt(u)&&!s("'")?F=!1:N++}else{switch(L.charAt(u)){case"d":j=I("d");break;case"D":z("D",O.dayNamesShort,O.dayNames);break;case"o":H=I("o");break;case"m":r=I("m");break;case"M":r=z("M",O.monthNamesShort,O.monthNames);break;case"y":y=I("y");break;case"H":o=I("H");break;case"h":o=I("h");break;case"i":a=I("i");break;case"s":i=I("s");break;case"a":k=z("a",[O.amText,O.pmText],[O.amText,O.pmText])-1;break;case"A":k=z("A",[O.amText,O.pmText],[O.amText,O.pmText])-1;break;case"'":s("'")?N++:F=!0;break;default:N++}}}100>y&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(y<=("string"!=typeof M?M:(new Date).getFullYear()%100+parseInt(M,10))?0:-100));if(-1<H){r=1;j=H;do{M=32-(new Date(y,r-1,32)).getDate();if(j<=M){break}r++;j-=M}while(1)}o=O.getDate(y,r-1,j,-1==k?o:k&&12>o?o+12:!k&&12==o?0:o,a,i);return O.getYear(o)!=y||O.getMonth(o)+1!=r||O.getDay(o)!=j?h:o}})(jQuery);(function(){var d,b;b=navigator.userAgent.match(/Android|iPhone|iPad|iPod|Windows|Windows Phone|MSIE/i);if(/Android/i.test(b)){if(d="android-ics",b=navigator.userAgent.match(/Android\s+([\d\.]+)/i)){b=b[0].replace("Android ",""),d=4<=b.split(".")[0]?"android-ics":"android"}}else{if(/iPhone/i.test(b)||/iPad/i.test(b)||/iPod/i.test(b)){if(d="ios",b=navigator.userAgent.match(/OS\s+([\d\_]+)/i)){b=b[0].replace(/_/g,".").replace("OS ",""),d="7"<=b?"ios7":"ios"}}else{if(/Windows/i.test(b)||/MSIE/i.test(b)||/Windows Phone/i.test(b)){d="wp"}}}$.mobiscroll.themes[d]&&($.mobiscroll.defaults.theme=d)})();
/*! EZMaxMobile Native App v5.2.0 */(function(e,g){var b=window.emm||{};b.nativeapp=b.nativeapp||{};b.nativeapp.isClientFromNativeApp=function(){return String.isNullOrEmpty(b.deviceSettings.type)==false};b.nativeapp.isWin8=function(){if(b.deviceSettings.type=="WIN8"||b.deviceSettings.type=="WP8"||b.deviceSettings.type=="WIN81"){return true}return false};b.nativeapp.setTouchIDEnabled=function(i){if(e.type(i)==="boolean"){if(i===true){e("[data-touchid]").show();e(document).trigger("onTouchIDEnabled")}}};b.nativeapp.isTouchIDEnabled=function(){return String.isNullOrEmpty(b.deviceSettings.touchIDEnabled)?false:b.deviceSettings.touchIDEnabled};g._NativeAppBarcodescanCallback=function h(k){var i=sessionStorage.getItem("_emm_scan_session_");if(typeof i!=="undefined"){i=JSON.parse(i);var j=new g.EMMBarcodeScanInput();j.selector=i.selector;j.scanCallback(k)}sessionStorage.removeItem("_emm_scan_session_")};g.EMMBarcodeScanInput=function d(){this.selector=null};g.EMMBarcodeScanInput.prototype.scanCallback=function(i){e(this.selector).val(i).trigger("change")};b.nativeapp.scanBarcode=function(j){if(!String.isNullOrEmpty(j)){if(b.nativeapp.isWin8()){var i={selector:j};sessionStorage.setItem("_emm_scan_session_",JSON.stringify(i));b.core.ezformscan("_NativeAppBarcodescanCallback")}else{b.core.ezformscan().then(function(l){var k=new g.EMMBarcodeScanInput();k.selector=j;k.scanCallback(l)})}}else{return b.core.ezformscan()}};var a={show:function(j){if(b.nativeapp.isWin8()){var i=[];if(b.deviceSettings.photoEnabled){i.push('[onclick^="emm.core.ezphoto"]');i.push('[onclick^="emm.core.addModifyImage"]')}if(b.deviceSettings.scanEnabled){i.push('[onclick^="emm.core.ezscan"]');i.push('[onclick^="emm.core.ezlookup"]')}e(i.join(",")).show()}else{e('[onclick^="emm.core.ezphoto"], [onclick^="emm.core.addModifyImage"], [onclick^="emm.core.ezscan"], [onclick^="emm.core.ezlookup"]').show()}b.nativeapp.setTouchIDEnabled(b.deviceSettings.touchIDEnabled);b.ui.initNativeAppControls()},hide:function(i){e('[onclick^="emm.core.ezphoto"], [onclick^="emm.core.addModifyImage"], [onclick^="emm.core.ezscan"], [onclick^="emm.core.ezlookup"]').hide()}};b.nativeapp.controls=function(i){if(a[i]){return a[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof i==="object"||!i){return a.init.apply(this,arguments)}else{e.error("Method "+i+" does not exist on emm.nativeapp.controls")}}};b.nativeapp.init=function(){b.nativeapp.controls("hide")};var f=null;b.nativeapp.setBounceObject=function(i){f=(typeof i==="object"?JSON.stringify(i):i)};var c=null;b.nativeapp.setProfileObject=function(i){c=(typeof i==="object"?JSON.stringify(i):i)};window.emm=b;g.getBounceObject=function(){return f};g.getProfileObject=function(){return c};g.enableNativeAppFeatures=function(i){if(i){e.extend(b.deviceSettings,i)}b.nativeapp.controls("show");b.ui.sendProfileToNativeApp()};g.changeNativeAppLoginAction=function(){if(location.href.toLowerCase().indexOf("login/tologin.action")!=-1){e("#fromApp").value="1"}};g.enableNativeAppOfflineFeatures=function(){e('#divOffline:not([data-visible="false"]), [data-native="true"]:not([data-visible="false"])').show()};g.showOfflineSyncNeededStatus=function(i){e('#syncbadge, [data-syncbadge="true"]').html(i);e('#syncbadge, [data-syncbadge="true"]').show()};g.notifyNativeApp=function(i){b.nativeapp.setBounceObject(i);if(navigator.userAgent.match(/Android/i)){if(window.emmiface!==undefined&&window.emmiface.sendToAndroid){window.emmiface.sendToAndroid(getBounceObject());return}}if(b.nativeapp.isWin8()){if(b.deviceSettings.type!="WIN81"){if(window.external!==undefined&&window.external.notify){window.external.notify(getBounceObject());return}}}if((navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&!navigator.userAgent.match(/Safari/i)){window.location="eznotify://?jsonParam="+encodeURIComponent(getBounceObject())}};g.nativeUrl=function(i){if(b.nativeapp.isWin8()){if(b.deviceSettings.type=="WIN81"){if(i&&i.length>2000){b.nativeapp.setBounceObject(i);i=i.substring(0,i.indexOf("://")+3)+"?isBounce=1"}i=i.replace(":/","");window.location.href=i}else{window.external.notify(i)}}else{window.location.href=i}};g.sendProfile=function(i){if(b.nativeapp.isWin8()){if(i&&i.length>2000){i=i.substring(0,i.indexOf("://")+3)+"?getProfile=1"}i=i.replace(":/","");window.location.href=i}else{window.location.href=i}};b.barcodes={zebra:{_templates:{default1:"^XA^LH20,20^FO5,17^GB780,360,8^FS^FO5,17^GB780,90,4^FS^FT248,73^A0N,39,38^FD{{title}}^FS^FO5,103^GB390,274,4^FS^FO5,103^GB390,135,4^FS^FT26,140^A0N,30,30^FD{{placeholder1}}^FS^FT26,275^A0N,30,30^FD{{placeholder2}}^FS^FO480,130 ^BQ,2,10^FDQa,{{barcodeValue}}^FS^XZ"},addTemplate:function(j,i){if(j&&!String.isNullOrEmpty(i)){b.barcodes.zebra._templates[j]=i}else{alert("Missing paramters")}},getTemplate:function(j,i){var k=b.barcodes.zebra._templates[j];if(k&&typeof(k)==="string"){return k.format(i)}return null},print:function(k,j){var i=this.getTemplate(k,j);if(i){location.href="ezprint://?type=zebra&template="+escape(i)}else{alert("Template "+k+" not found")}return true}}};e(function(){b.nativeapp.init()})})(jQuery,window);(function(b){var a=b.emm||{};a.android=a.android||{};if(!a.stringify){a.stringify=function(c){return JSON.stringify(c,function(d,e){return(typeof e==="function")?""+e:e})}}a.DataTypes={DOUBLE:"double",INTEGER:"integer",FLOAT:"float",LONG:"long",STRING:"string",BOOLEAN:"boolean"};a.android.Intent=(function(){var d=function c(f,g,h){this.name=f;this.extra=g;this.dataTypes=h};return d})();a.android.Activity=(function(){var c=function d(e,f){this.intent=e;this.result=f||{}};c.prototype.addEventListener=function(e,f){if(e&&typeof f==="function"){this[e]=f}};c.prototype.start=function(){if(navigator.userAgent.match(/Android/i)){b.emmiface.startActivity(a.stringify(this))}};return c})()})(window);
/*! EZMaxMobile Offline v5.2.1 */(function(e,g){var a=g.emm||{};a.offline=a.offline||{};e.fn.serializeObject=function(){var k={};var j=this.serializeArray();e.each(j,function(){if(k[this.name]){if(!k[this.name].push){k[this.name]=[k[this.name]]}k[this.name].push(this.value||"")}else{k[this.name]=this.value||""}});return k};e.fn.generateSelect=function(){var j=this.find("input[id],p[id],textarea[id]"),k=[],l="SELECT ";e.each(j,function(){var m=e(this),o=m.attr("id"),n="";if(o.indexOf(".")!=-1){o=o.split(".").pop()}if(m.is("input")||m.is("textarea")){n=m.val()}else{if(m.is("p")){n=m.html()}}n=n.replace("'","");k.push("'"+n+"' AS "+o)});l+=k.join(",");return l};function f(m,j){if(typeof m!="object"){alert("Invalid object");return}if(j!==undefined&&j!==null&&j!==""&&m!==undefined&&m!==null){var k={};var l=Object.prototype.hasOwnProperty;for(var n in m){if(m[n]!==undefined){if(l.call(m,n)){k[n]=m[n]}}}k.WHERECLAUSE=j;return k}else{return null}}a.offline.DefaultOffline=function(){var j=this;var m="ezdefault://?";var k="&jsonParam=";var l={sqlselects:{}};this.addQuery=function(o,q,p,n){l.sqlselects[o]={sqlstmt:q};if(p!==undefined&&p!==null&&n!==undefined&&n!==null){l.sqlselects[o].pagenum=p;l.sqlselects[o].pagesize=n}return j};this.go=function(){var o=JSON.parse(a.ui.getDefaults().userInfo).nativeAppSettings.sqliteEnabled;if(o){j.addQuery("STARTCENTER","SELECT * FROM STARTCENTER ORDER BY DESCRIPTION");j.addQuery("PORTLET","SELECT * FROM PORTLET WHERE SCCONFIGID IN (SELECT SCCONFIGID FROM STARTCENTER WHERE ISDEFAULT = '1') ORDER BY ORDERNUM ASC")}var n=m+k+encodeURIComponent(JSON.stringify(l));nativeUrl(n)};return j};a.offline.goOffline=function(){a.offline.DefaultOffline().go()};a.offline.goOnline=function(j){j=j||null;if(j!=null&&j.length>0){nativeUrl("ezonline://"+j)}};a.offline.login=function(n,l,m){var k={user:{username:n,password:l}};var j="ezmaxlogin://main.action?";j+="loginurl=login/doLoginJson.action";j+="&jsonParam="+encodeURIComponent(JSON.stringify(k));if(!m){j+="&jsCallBack=emm.offline.doLoginSuccessPost()"}else{j+="&jsCallBack="+m}nativeUrl(j)};a.offline.doLoginSuccessPost=function(){e("form:first").submit()};a.offline.postSyncProcess=function(j){if(j.SYNCSTATUS!=undefined&&j.SYNCSTATUS!="PASS"){if(j.CANREUSEOFFLINE!=undefined&&j.CANREUSEOFFLINE=="YES"){alert(a.util.getText("EMMOF1000W")||"Sync completed with errors!  You can still try working offline.")}else{alert(a.util.getText("EMMOF1001W")||"Sync completed with errors!  Please sync again to enable offline mode.")}}if(window.location.protocol.startsWith("file:")==false){window.location.reload()}};a.offline.sync=function(j){if(j===undefined&&j!=""){j="emm.offline.postSyncProcess(EZJSONRESULT)"}nativeUrl("ezofflinesync://?jsCallBack="+j)};a.offline.prepareBounce=function(m,j){var n=new a.offline.select();n.addQueries(m);var l={ezsavebounceurl:n.getUrl(j)},k="";k=JSON.stringify(l);notifyNativeApp(k);if(navigator.appVersion.indexOf("MSIE")>-1){window.external.notify(k)}};a.offline.addDoclink=function(m,l,k,o){var n={ownerentity:m,ownerentityid:l,doctype:k,syncaction:"EMM_FILE_UPLOAD"};var j="ezofflinephoto://?";j=j+"jsonParam="+encodeURIComponent(JSON.stringify(n));j=j+"&jsCallBack="+encodeURIComponent(o);nativeUrl(j)};a.offline.viewDoclink=function(j){if(j!=undefined&&j!=null&&j.length>0){var k="ezdoclink://?id="+j;nativeUrl(k)}};a.offline.query=function(){var m="ezquery://?";var k="&jsonParam=";var j="&jsCallBack=";var l={sqlselects:{}};this.addQuery=function(n,o){l.sqlselects[n]={sqlstmt:o}};this.run=function(p){var n=m+k+encodeURIComponent(JSON.stringify(l));if(p!==undefined&&p!==null&&p!==""){n+=j+p;nativeUrl(n)}else{sleep(1);var o="_emm_"+new Date().getTime();return new a.core.EMMPromise(function(r){window[o]=function(s){r(s)};var q=o+"(EZJSONRESULT)";nativeUrl(n)})}}};a.offline.select=function(){var o="ezxformselect://?";var m="&jsonParam=";var l="&xslxform=";var p="&appname=";var n={sqlselects:{}};var k=null,j=null;this.addDoclinksQuery=function(r,t,s,q){if(t&&t.OWNERENTITY&&t.OWNERENTITYID){n.sqlselects[r]={sqlstmt:"SELECT * FROM EMMDOCINFO WHERE OWNERENTITY = '"+t.OWNERENTITY+"' AND OWNERENTITYID = '"+t.OWNERENTITYID+"'"};if(s!==undefined&&s!==null&&q!==undefined&&q!==null){n.sqlselects[r].pagenum=s;n.sqlselects[r].pagesize=q}}};this.addDownloadableDoclinksQuery=function(r,t,s,q){if(t&&t.OWNERTABLE&&t.OWNERID&&t.APP){n.sqlselects[r]={sqlstmt:"SELECT D.*, E.REQUESTED, E.DOWNLOADED, E.MESSAGE, DI.DESCRIPTION FROM DOCLINKS D LEFT JOIN EMMDOCINFO E ON E.DOCINFOID = D.DOCINFOID LEFT JOIN DOCINFO DI ON DI.DOCINFOID = D.DOCINFOID WHERE (E.DOWNLOADED is null or E.DOWNLOADED = '0') AND EXISTS ( SELECT 1 FROM APPDOCTYPE WHERE APP = '"+t.APP+"' AND DOCTYPE = D.DOCTYPE ) AND D.OWNERTABLE = '"+t.OWNERTABLE+"' AND D.OWNERID = '"+t.OWNERID+"'"};if(s!==undefined&&s!==null&&q!==undefined&&q!==null){n.sqlselects[r].pagenum=s;n.sqlselects[r].pagesize=q}}};this.addQuery=function(r,t,s,q){n.sqlselects[r]={sqlstmt:t};if(s!==undefined&&s!==null&&q!==undefined&&q!==null){n.sqlselects[r].pagenum=s;n.sqlselects[r].pagesize=q}};this.addQueries=function(q){var r=Object.prototype.hasOwnProperty;for(var s in q){if(q[s]!==undefined){if(r.call(q,s)){this.addQuery(s,q[s])}}}};this.setAppName=function(q){this.appName=p+q};this.submit=function(r,q){if(a.nativeapp.isWin8()){r=r.replace(".xsl",".htm")}if(window.localStorage){if(q!==undefined&&q===true){var s=JSON.stringify(n);localStorage.setItem(r,s)}}if(k!=null){n.sqlselects.MESSAGE={sqlstmt:k}}nativeUrl(o+m+encodeURIComponent(JSON.stringify(n))+l+r+p)};this.addMessage=function(q){k="SELECT '"+q.replace("'","")+"' as DISPLAYMESSAGE"};this.go=function(r,q){if(a.nativeapp.isWin8()){r=r.replace(".xsl",".htm")}var s=this.getQuery(r);e.extend(true,s,n);if(window.localStorage){if(q!==undefined&&q===true){var t=JSON.stringify(s);localStorage.setItem(r,t)}}if(s!=null&&k!=null){s.sqlselects.MESSAGE={sqlstmt:k}}if(s!=null){nativeUrl(o+m+encodeURIComponent(JSON.stringify(s))+l+r)}else{alert("Query is null or empty")}};this.getQuery=function(t,s){if(a.nativeapp.isWin8()){t=t.replace(".xsl",".htm")}var u=null;if(window.localStorage){var q=localStorage.getItem(t);if(q!=null&&q!=""){u=JSON.parse(q)}if(s!==undefined&&typeof s==="object"){var r=e.extend({query:null},s);if(u!=null&&u.sqlselects!=null&&r.query!=null&&u.sqlselects[r.query]){u=u.sqlselects[r.query].sqlstmt||null}}}return u};this.getUrl=function(q){if(a.nativeapp.isWin8()){q=q.replace(".xsl",".htm")}return o+m+encodeURIComponent(JSON.stringify(n))+l+q}};a.offline.insert=function(m,j){var o="ezdbinsert://?";var n="&jsonParam=";var l="&jsCallBack=";var k={entityname:m,syncaction:j,sqlparams:null};this.addObject=function(p){if(typeof p=="object"){k.sqlparams=p}else{alert("Invalid object")}};this.submit=function(q){var p=o+n+encodeURIComponent(JSON.stringify(k));if(q!==undefined&&q!==null&&q!==""){p+=l+q}nativeUrl(p)}};a.offline.update=function(m,j){var o="ezxformupdate://?";var n="&jsonParam=";var l="&jsCallBack=";var k={entityname:m,syncaction:j,sqlparams:null};this.addObject=function(q,p){if(p!==undefined&&p!==null&&p!==""){k.sqlparams=f(q,p)}else{alert("Missing Where Clause")}};this.submit=function(q){var p=o+n+encodeURIComponent(JSON.stringify(k));if(q!==undefined&&q!==null&&q!==""){p+=l+q}nativeUrl(p)}};a.offline.multiUpdate=function(){var m="ezdbaction://?";var l="&jsonParam=";var k="&jsCallBack=";var j=[];this.addObject=function(n){if(typeof n=="object"){if(n.dbaction!==undefined){j.push(n)}else{alert("Invalid object")}}else{alert("Invalid object")}};this.submit=function(o){if(j.length>0){var n=m+l+encodeURIComponent(JSON.stringify(j));if(o!==undefined&&o!==null&&o!==""){n+=k+o}nativeUrl(n)}}};a.offline.multiAction=function(m,j){var k=null;var o=m;var l=j;var n=null;this.addUpdateObject=function(q,p){if(p!==undefined&&p!==null&&p!==""){k="UPDATE";n=f(q,p)}else{alert("Missing Where Clause")}};this.addInsertObject=function(p){if(typeof p=="object"){k="INSERT";n=p}};this.getObject=function(){return{dbaction:k,entityname:o,syncaction:l,sqlparams:n}}};a.offline.addAttachmentRequests=function(n){var p="ezdocrequest://?";var o="&jsonParam=";var l="&jsCallBack=";var m=[];for(var k in n){var j=n[k];if(j&&j.mbo&&j.mbo.toBeSaved()){if(j.DOCINFOID&&j.REQUESTED){m.push({DOCINFOID:j.DOCINFOID,REQUESTED:j.REQUESTED,DOCTYPE:j.DOCTYPE,DOCNAME:j.DOCUMENT,DOCDESCRIPTION:j.DESCRIPTION,OWNERENTITY:j.OWNERTABLE,OWNERENTITYID:j.OWNERID})}}}this.submit=function(s){if(m.length>0){var r={requests:[]};r.requests=m;var q=p+o+encodeURIComponent(JSON.stringify(r));if(s!==undefined&&s!==null&&s!==""){q+=l+s}nativeUrl(q)}}};e(document).off("emm.offline.bounce").on("emm.offline.bounce",function(l){var k=l.bounceUrl||null;var m=["jsonParam","xslxform"],j={};if(k){e.each(m,function(n,o){match=RegExp("[?&]"+o+"=([^&]*)").exec(k);j[o]=(match&&decodeURIComponent(match[1].replace(/\+/g," ")))});if(window.localStorage){localStorage.setItem(j.xslxform,j.jsonParam)}}});var b={Session:{clear:function(){localStorage.clear()},setItem:function(j,k){if(typeof(k)==="object"){k=JSON.stringify(k)}localStorage.setItem(j,k)},getItem:function(j){var l=localStorage.getItem(j);if(l){try{return JSON.parse(l)}catch(k){return l}}else{return null}},removeItem:function(j){localStorage.removeItem(j)},getMboFromSession:function(l){var j=JSON.parse(l);var k={};k[j.k]=j.v;var m=new window[j.n](k);m.session.restore();return JSON.stringify(m.getMbo(true))==JSON.stringify(k)?null:m}},Cache:function(j,k,l){this.n=j;this.k=k;this.v=l},Offline:{_syncViewName:"offline/login/index.htm",_defaultOnlineAction:"startcenter/main.action",setSyncViewName:function(j){if(j){this._syncViewName=j}},setDefaultOnlineAction:function(j){if(j){this._defaultOnlineAction=j}},_init:(function(){window.syncComplete=function(j){var k=b.Offline.getSyncResult(j);if(k.isSyncComplete()){if(b.DB.Select().getQuery(b.Offline._syncViewName)){b.DB.Select().go(b.Offline._syncViewName)}else{if(window.location.protocol.startsWith("file:")==false){window.location.reload()}}}else{if(k.canReuseOffline()){alert(a.util.getText("EMMOF1002W")||"Sync process completed with errors!  You can try syncing again or remain working offline.");if(b.DB.Select().getQuery(b.Offline._syncViewName)){b.DB.Select().go(b.Offline._syncViewName)}}else{alert(a.util.getText("EMMOF1003W")||"Sync process completed with errors!  Please try to sync again in order to work offline.");a.offline.goOnline(b.Offline._defaultOnlineAction)}}}})(),sync:function(j){if(!j){j="syncComplete"}if(j!==undefined&&j!==null&&j!==""){if(j.indexOf("(")===-1){j+="(EZJSONRESULT)"}}a.offline.sync(j)},goOnline:function(j){if(j){a.offline.goOnline(j)}else{a.offline.goOnline(b.Offline._defaultOnlineAction)}},getSyncResult:function(j){return{canReuseOffline:function(){return j&&j.CANREUSEOFFLINE==="YES"||false},isSyncComplete:function(){return j&&j.SYNCSTATUS==="PASS"||false}}},prepareBounce:function(){a.offline.prepareBounce.apply(a.offline,arguments)},defaultBounceCallback:function(j){var k=j.ENTITIES[0];if(k!=null){if(k.ISDIRTY=="1"){e("#OFFLN_DIRTY_MSG, #SYNC_ACTION, #ACTIONS").toggle()}}},Bounce:function(){var k=true,j={ezsavebounceurl:null,ezcheck:null,ezvalidateentity:null};this.addBounceUrl=function(l){j.ezsavebounceurl=l;return this};this.checkEntity=function(m,n){if(!m){alert("Missing query");k=false;return this}if(!j.ezcheck){j.ezcheck=[]}j.ezcheck.push({sqlselect:m,jscallback:"EMMServer.Offline.defaultBounceCallback(EZJSONRESULT)"});if(n!==undefined&&n!==null&&n!==""){if(n.indexOf("(")===-1){n+="(EZJSONRESULT)"}var l=j.ezcheck.pop();l.jscallback=n;j.ezcheck.push(l)}return this};this.checkEntityCallback=function(l){if(l!==undefined&&l!==null&&l!==""){if(l.indexOf("(")===-1){l+="(EZJSONRESULT)"}}j.ezcheck.jscallback=l;return this};this.addBounceEntity=function(m,n,l){if(!m||(typeof m)!=="string"){alert('Missing "entityName" param');k=false;return this}if(!n||(typeof n)!=="string"){alert('Missing "entityWhere" param');k=false;return this}if(!l||(typeof l)!=="object"){alert('Missing/Invalid "entity" param');k=false;return this}if(!j.ezvalidateentity){j.ezvalidateentity=[]}j.ezvalidateentity.push({entityname:m,validatewhere:n,entitydata:l});return this};this.prepare=function(){if(j.ezcheck){e.each(j.ezcheck,function(m,l){if(!l||l.sqlselect==""){k=false}})}if(!j.ezsavebounceurl){alert("Missing Bounce URL");k=false;return}if(!j.ezvalidateentity){alert("Missing Entities");k=false;return}if(k===true){notifyNativeApp(j)}};return this}},Attachments:{addDoclink:function(l,k,j,n){if(n){if(n.indexOf("(")===-1){n+="(EZJSONRESULT)"}a.offline.addDoclink(l,k,j,n)}else{sleep(1);var m="_emm_"+new Date().getTime();return new a.core.EMMPromise(function(o){window[m]=function(p){o(p)};a.offline.addDoclink.apply(a.offline.addDoclink,[l,k,j,m+"(EZJSONRESULT)"])})}},viewDoclink:function(j){if(j._ID){a.offline.viewDoclink(j._ID)}else{alert(a.util.getText("EMMDL1000E")||"Invalid Object - Doclink record missing unique identifier")}},addRequests:function(j){var k=new a.offline.addAttachmentRequests(j);this.submit=function(){if(arguments.length>0){var m=arguments[0];if(m!==undefined&&m!==null&&m!==""){if(m.indexOf("(")===-1){m+="(EZJSONRESULT)";arguments[0]=m}}}if(m){k.submit.apply(k,arguments);return this}else{sleep(1);var l="_emm_"+new Date().getTime();return new a.core.EMMPromise(function(n){window[l]=function(o){n(o)};k.submit.apply(k,[l+"(EZJSONRESULT)"])})}};return this}},Barcode:{scan:function(j){return a.core.ezformscan(j)}},DB:{getUserTxnErrorCount:function(){if(a.query.getUserTxnErrorCount){return a.query.getUserTxnErrorCount()}return null},getUserDocRequest:function(){return a.query.getUserDocRequest()},getUserInfo:function(){if(a.query){return a.query.getUserInfo()}else{return{}}},getUserTxnCount:function(){return a.query.getUserTxnCount()},getQueryResult:function(j){return a.query.getQueryResult(j)},getMboSet:function(o,n,k){if(!o||!n){throw Error("Invalid params");return}if(!window.hasOwnProperty(o)){throw Error("Invalid MBO");return}var j=new h(),m,l=b.DB.getQueryResult(n);j.getPagination=l.getPagination;e.each(l,function(q,p){m=new window[o](p);if(k){m.mbo.appName(k)}j.addMbo(m)});return j},getDBResult:function(j,l){if(!j){return null}if(Object.prototype.toString.call(j)==="[object Array]"){var k=null;for(i=0;i<j.length;i++){if(typeof(j[i].entity)==="string"){k=JSON.parse(j[i].entity)}else{k=j[i].entity}if(k[l]){k=k[l][0];break}k=null}return k}else{if(j[l]&&Object.prototype.toString.call(j[l])==="[object Array]"){return j[l][0]}else{return j[l]}}},Select:function(){var j=new a.offline.select();this.setAppName=function(){j.setAppName.apply(j,arguments);return this};this.addQuery=function(){j.addQuery.apply(j,arguments);return this};this.addQueries=function(){j.addQueries.apply(j,arguments);return this};this.addDoclinksQuery=function(){var l={OWNERENTITY:arguments[1],OWNERENTITYID:arguments[2]};var k=Array.prototype.slice.call(arguments);k.splice(1,2,l);j.addDoclinksQuery.apply(j,k);return this};this.addDownloadableDoclinksQuery=function(){var l={OWNERTABLE:arguments[1],OWNERID:arguments[2],APP:arguments[3]};var k=Array.prototype.slice.call(arguments);k.splice(1,3,l);j.addDownloadableDoclinksQuery.apply(j,k);return this};this.addMessage=function(){if(arguments.length!==0&&arguments[0]!==undefined){j.addMessage.apply(j,arguments)}return this};this.submit=function(){j.submit.apply(j,arguments);return this};this.go=function(){j.go.apply(j,arguments)};this.getQuery=function(){return j.getQuery.apply(j,arguments)};this.getUrl=function(){return j.getUrl.apply(j,arguments)};return this},Insert:function(l,k){if(k==null||k==undefined){throw Error("Missing sync action")}var j=new a.offline.insert(l,k);this.addObject=function(){j.addObject.apply(j,arguments);return this};this.submit=function(){if(arguments.length>0){var n=arguments[0];if(n!==undefined&&n!==null&&n!==""){if(n.indexOf("(")===-1){n+="(EZJSONRESULT)";arguments[0]=n}}}if(n){j.submit.apply(j,arguments);return this}else{sleep(1);var m="_emm_"+new Date().getTime();return new a.core.EMMPromise(function(o){window[m]=function(p){o(p)};j.submit.apply(j,[m+"(EZJSONRESULT)"])})}};return this},Update:function(l,j){if(j==null||j==undefined){throw Error("Missing sync action")}var k=new a.offline.update(l,j);this.addObject=function(){k.addObject.apply(k,arguments);return this};this.submit=function(){if(arguments.length>0){var n=arguments[0];if(n!==undefined&&n!==null&&n!==""){if(n.indexOf("(")===-1){n+="(EZJSONRESULT)";arguments[0]=n}}}if(n){k.submit.apply(k,arguments);return this}else{sleep(1);var m="_emm_"+new Date().getTime();return new a.core.EMMPromise(function(o){window[m]=function(p){o(p)};k.submit.apply(k,[m+"(EZJSONRESULT)"])})}};return this},MultiUpdate:function(){var j=new a.offline.multiUpdate();this.addUpdateObject=function(n,m,l,k){if(m==null||m==undefined){throw Error("Missing sync action")}var m=new a.offline.multiAction(n,m);m.addUpdateObject(l,k);j.addObject(m.getObject());return this};this.addInsertObject=function(n,m,l,k){if(m==null||m==undefined){throw Error("Missing sync action")}var m=new a.offline.multiAction(n,m);m.addInsertObject(l,k);j.addObject(m.getObject());return this};this.submit=function(){if(arguments.length>0){var l=arguments[0];if(l!==undefined&&l!==null&&l!==""){if(l.indexOf("(")===-1){l+="(EZJSONRESULT)";arguments[0]=l}}}if(l){j.submit.apply(j,arguments);return this}else{sleep(1);var k="_emm_"+new Date().getTime();return new a.core.EMMPromise(function(m){window[k]=function(n){m(n)};j.submit.apply(j,[k+"(EZJSONRESULT)"])})}};return this}}};function h(){var k="_MBOSETID";sleep(1);this[k]=new Date().getTime().toString();this._toBeSaved=false;var j=this;this.addMbo=function(m){if(m&&m.mbo&&m.mbo.setThisMboSet){var l=angular.copy(j,new h());l.splice(0,l.length);m.mbo.setThisMboSet(l);j.push(m);if(j._toBeSaved==false){j._toBeSaved=m.mbo.toBeSaved()}}};this.toBeSaved=function(l){if(typeof(l)==="boolean"){j._toBeSaved=l;this._toBeSaved=l}else{return j._toBeSaved}}}h.prototype=new Array;function c(k){var l="_ID";sleep(1);this[l]=new Date().getTime().toString();e.extend(this,k);var j=this;this.setUniqueIdentifier=function(m){if(m!==undefined&&m!==null&&m!==""){if(j[m]===undefined||j[m]===null||j[m]===""){j[m]=new Date().getTime().toString()}j.session.cacheKey(m)}};this.getMbo=function(n){if((((typeof(n)==="boolean")&&n!=true)||typeof(n)==="undefined")){if(j.mbo.validate()===false){throw new Error(j.mbo.message());return}}var m=e.extend({},j);delete m.mbo;delete m.session;delete m.$$hashKey;e.each(m,function(p,q){if(m[p]&&(typeof m[p])!=="function"&&!String.isNullOrEmpty(m[p])&&(typeof m[p])==="string"){var o=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;if(o.test(m[p])){d=m[p].toDate();if(d){m[p]=d.toISOString()}}}if(m[p]&&typeof m[p]==="object"&&m[p].getTime){m[p]=m[p].toISOString()}if(m[p]!==undefined&&m[p]!==null&&typeof m[p]==="boolean"){m[p]=m[p]?"1":"0"}});return m};this.toSql=function(){var n=e.extend({},j),o=[];delete n.mbo;delete n.session;delete n.$$hashKey;for(var m in n){if(n.hasOwnProperty(m)&&n[m]!=null&&n[m]!=undefined){if(typeof(n[m])!=="function"){if(n[m]&&typeof n[m]==="object"&&n[m].getTime){n[m]=n[m].toISOString()}o.push("'"+n[m].toString().replaceAll("'","''","g")+"' AS "+m)}}}if(o.length>0){return"SELECT "+o.join(", ")}return null};this.mbo={extend:function(m){e.extend(j.mbo,m);j.init()},_maxStatusValue:null,_maxStatusWhere:"SITEID IS NULL AND ORGID IS NULL",maxStatusValue:function(m){if(typeof(m)==="string"){this._maxStatusValue=m}else{return this._maxStatusValue}},applyMaxStatusValue:function(o){if(o==undefined||o==null){alert("Cannot apply max status, missing required status list parameter");return}if(!Array.isArray(o)){alert("Cannot apply max status, input status list is not an array");return}var p=e.grep(o,function(r,q){return r.SITEID==j.SITEID&&r.ORGID==j.ORGID&&r.VALUE==j.STATUS});var n=e.grep(o,function(r,q){return r.ORGID==j.ORGID&&r.VALUE==j.STATUS});var m=e.grep(o,function(r,q){return r.VALUE==j.STATUS});if(p.length>0){this._maxStatusValue=p[0].MAXVALUE;if(!String.isNullOrEmpty(j.SITEID)&&!String.isNullOrEmpty(j.ORGID)){this._maxStatusWhere="SITEID = '{0}' AND ORGID = '{1}'".format(j.SITEID,j.ORGID)}else{this._maxStatusWhere="SITEID IS NULL AND ORGID IS NULL"}}else{if(n.length>0){this._maxStatusValue=n[0].MAXVALUE;if(!String.isNullOrEmpty(j.ORGID)){this._maxStatusWhere="ORGID = '{0}' AND SITEID IS NULL".format(j.ORGID)}else{this._maxStatusWhere="ORGID IS NULL"}}else{this._maxStatusValue=m[0].MAXVALUE;this._maxStatusWhere="SITEID IS NULL AND ORGID IS NULL"}}},getChangeStatusWhere:function(n,m){if(String.isNullOrEmpty(n)){throw new Error("Cannot get max where, missing required Domain ID")}if(String.isNullOrEmpty(this._maxStatusValue)){throw new Error("Cannot get change status where clause because of missing MAXSTATUSVALUE")}if(m==undefined||m==null){throw new Error("Cannot get max where, missing required status list parameter")}m=m[this._maxStatusValue];if(!Array.isArray(m)){throw new Error("Cannot get max where, input status list is not an array")}return"DOMAINID = '{0}' AND VALUE <> '{1}' AND MAXVALUE IN ('{2}') AND {3}".format(n,j.STATUS,m.join("','"),this._maxStatusWhere)},_message:null,message:function(m){if(typeof(m)==="string"){this._message=m}else{return this._message}},_toBeSaved:false,toBeSaved:function(m){if(typeof(m)==="boolean"){this._toBeSaved=m}else{return this._toBeSaved}},_isNew:false,isNew:function(m){if(typeof(m)==="boolean"){this._isNew=m}else{return this._isNew}},isDirty:function(){return j.ISDIRTY==="1"||false},_appName:null,appName:function(m){if(typeof(m)==="string"){this._appName=m}else{return this._appName}},setThisMboSet:function(m){this._parent=m},getThisMboSet:function(){return this._parent},lookup:function(){if(typeof(j.lookup)==="function"){return j.lookup.apply(j,arguments)}return null},setValue:function(m){if(typeof(j.setValue)==="function"){var n=j.setValue.apply(j,arguments);a.ui.removeAllCallouts();return n}else{return false}},onChange:function(m){if(typeof(j.onChange)==="function"){return j.onChange.apply(j,arguments)}else{return false}},validate:function(){if(typeof(j.validate)==="function"){return j.validate.apply(j,arguments)}else{return true}},isReadOnly:function(m){if(typeof(j.isReadOnly)==="function"){return j.isReadOnly.apply(j,arguments)}else{return false}},isRequired:function(m){if(typeof(j.isRequired)==="function"){return j.isRequired.apply(j,arguments)}else{return false}}};this.session={_instanceCacheKey:null,_cacheIdentifier:l,cacheKey:function(m){if(m&&j[m]!==undefined&&j[m]!==null&&j[m]!==""){this._cacheIdentifier=m;delete j[l];j.init()}var n=new b.Cache(j.constructor.name,this._cacheIdentifier,j[this._cacheIdentifier]);this._instanceCacheKey=JSON.stringify(n);return this._instanceCacheKey},cache:function(){if(this._instanceCacheKey!=null){for(var m in j){if(j.hasOwnProperty(m)){if(typeof(j[m])!=="function"){if(j[m]&&typeof j[m]==="object"&&j[m].getTime){j[m]=j[m].toISOString()}}}}localStorage.setItem(this._instanceCacheKey,JSON.stringify(j,function(o,n){if(n===undefined){return null}return n}));return true}return false},restore:function(){if(this._instanceCacheKey!=null){var m=localStorage.getItem(this._instanceCacheKey);if(m!=null){e.extend(true,j,JSON.parse(m));return true}}return false},remove:function(){if(this._instanceCacheKey!=null){localStorage.removeItem(this._instanceCacheKey);return true}return false}};this.setDefaultValues=function(m){e.extend(j,m)};this.init=function(){this.session.cacheKey();this.session.restore();var m=this;var n=angular.element(document.querySelector("[ng-app]")).scope();n.$watch(function(){var o=angular.copy(m);return o},function(q,p){if(!a.util.compareObjects(q,p)){m.mbo.toBeSaved(true);if(m.mbo.getThisMboSet()&&m.mbo.getThisMboSet().toBeSaved){m.mbo.getThisMboSet().toBeSaved(true)}}},true)};this.init()}g.EMMServer=b;g.Mbo=c;window.emm=a})(jQuery,window);
/*! EZMaxMobile Util v5.2.1 */(function(b,c){var a=c.emm||{};a.util=a.util||{};if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}Number.getNumber=function(e){if(Number.isNumber(e)){return numeral(e).value()}return null};Number.isNumber=function(e){if(String.isNullOrEmpty(e)){return false}if(typeof(e)!="string"){e=""+e}e=e.replaceAll(numeral.localeData().delimiters.thousands,"");e=e.replaceAll(numeral.localeData().delimiters.decimal,"");return !isNaN(e)};String.prototype.hashCode=function(){var g=0,e,f;if(this.length===0){return g}for(e=0;e<this.length;e++){f=this.charCodeAt(e);g=((g<<5)-g)+f;g|=0}return g};String.prototype.removeQueryParam=function(g){var e=this;if(typeof(g)!=="undefined"){var f=g.split(",");b.each(f,function(){e=e.replace(new RegExp("[&?]("+this.trim()+")=[^&]*"),"")});return e}};String.prototype.toTime=function(){var g=this;if(b.isNumeric(g)){g=Math.round(Number(g)*100)/100;var e=g<0?"-":"";var f=Math.floor(Math.abs(g));var h=Math.floor((Math.abs(g)*60)%60);return e+f+":"+(h<10?"0":"")+h}return g};String.prototype.toNumber=function(){return Number.getNumber(this)};String.prototype.replaceAll=function(f,e){if(typeof(e)==="undefined"){e=""}return this.split(f).join(e)};if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(e){return this.slice(0,e.length)==e}}if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(e){return this.slice(-e.length)==e}}String.isNullOrEmpty=function(e){return !e&&e!==0&&e!==false};String.prototype.isValidEmail=function(){return a.util.isValidEmailAddress(this)};String.prototype.format=function(){var f=this;if(Array.isArray(arguments[0])){for(var e=0;e<arguments[0].length;e++){f=f.replaceAll("{"+e+"}",arguments[0][e])}}else{if(typeof arguments[0]==="object"){f=f.formatWithObject(arguments[0])}else{for(var e=0;e<arguments.length;e++){f=f.replaceAll("{"+e+"}",arguments[e])}}}return f.toString()};String.prototype.formatWithObject=function(h){var g=this;if(typeof(h)==="undefined"){h=null}if(h){var f=/\{\{(.*?)\}\}/,e;while(e=f.exec(g)){g=g.replaceAll(e[0],h[e[1]])}}return g.toString()};String.prototype.toDate=function(){var e=new Date();e.setHours(0,0,0,0);e.setTime(this);if(e!="Invalid Date"){return e}else{if((e=Date.parse(this))!=null){return e}else{if((e=new Date(this))!="Invalid Date"){return e}}}return NaN};Number.prototype.toDate=function(){var e=""+this;return e.toDate()};Date.getDiffInHours=function(g,f){if((typeof g)==="object"&&g.getTime&&(typeof f)==="object"&&f.getTime){var e=Math.abs(g.getTime()-f.getTime())/(3600*1000);return e.toFixed(2)}};Date.parseTime=function(h,f){if(!f){f=new Date()}var g=h.match(/^(\d+)(?::(\d\d))?\s*(p?)/i);if(!g){return NaN}var e=parseInt(g[1],10);if(e==12&&!g[3]){e=0}else{e+=(e<12&&g[3])?12:0}f.setHours(e);f.setMinutes(parseInt(g[2],10)||0);f.setSeconds(0,0);return f};Number.prototype.toNumber=function(){return Number.getNumber(this)};b.fn.generateTemplate=function(){return this.html().replaceAll("%{","\u0024{").trim()};a.util.parseJavaDate=function(i){if(i!=undefined&&i!=""){var h=i.split(" ")[0],e=i.split(" ")[1],j=i.split(" ")[2],f=e+" "+h+" "+j,g=Date.parse(f);return g}else{return null}};var d={datetime:function(){var j=new Date(),k=j.getMonth()+1,f=j.getDate(),i=j.getFullYear(),e=j.getHours(),h=j.getMinutes(),l=j.getSeconds(),g="";if(k<10){k="0"+k}if(f<10){f="0"+f}if(e<10){e="0"+e}if(h<10){h="0"+h}if(l<10){l="0"+l}if(e>11){g="PM"}else{g="AM"}return i+"-"+k+"-"+f+" "+e+":"+h+":"+l},date:function(){var g=new Date(),h=g.getMonth()+1,e=g.getDate(),f=g.getFullYear();if(h<10){h="0"+h}if(e<10){e="0"+e}return h+"/"+e+"/"+f}};a.util.getCurrentDateTime=function(e){if(d[e]){return d[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return d.init.apply(this,arguments)}else{b.error("Method "+e+" does not exist on emm.core.getCurrentDateTime")}}};a.util.compareObjects=function(g,f){if(!f||g.length!=f.length){return false}var e=true;b.each(g,function(h,i){if(typeof g[h]==="function"||h=="session"){return}if(h=="mbo"){b.each(g.mbo,function(l,j){if(typeof g.mbo[l]==="function"||l=="_toBeSaved"||l=="_parent"||l=="_message"||l=="_isNew"||l=="_appName"){return}if(String.isNullOrEmpty(g.mbo[l])){g.mbo[l]=null}if(String.isNullOrEmpty(f.mbo[l])){f.mbo[l]=null}if(g.mbo[l]!==f.mbo[l]){e=false;return false}});return}if(String.isNullOrEmpty(g[h])){g[h]=null}if(String.isNullOrEmpty(f[h])){f[h]=null}if(g[h]!==f[h]){e=false;return false}});return e};a.util.isValidEmailAddress=function(f){var e=new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i);return e.test(f)};a.util.getHostURL=function(){var f=window.location;if(f){var e=f.pathname.split("/");if(e.length>1){return f.protocol+"//"+f.host+"/"+e[1]+"/"}else{return f.protocol+"//"+f.host+"/"}}else{return""}};a.util.phone=function(g,i){if(!g||g==null||g==""){return}var f={title:a.util.getText("EMMGB1008I")||"Phone",phoneText:a.util.getText("EMMGB1009I")||"Call",smsText:a.util.getText("EMMGB1010I")||"SMS",cancelText:a.util.getText("EMMGB1003I")||"Cancel",cssClass:"ui-btn-a",cancelCssClass:"ui-btn-b",phone:function(){window.location.href="tel:"+g;return false},sms:function(){window.location.href="sms:"+g;return false}};f=b.extend(f,i);var h='<div id="emm_phonedialog" class="ui-dialog"><div class="ui-container"><div class="ui-header"><h1 class="ui-title">'+f.title+'</h1></div><div class="ui-content"><div class="ui-btn-container"><a href="#" id="emm_dialog_phone" class="'+f.cssClass+'">'+f.phoneText+'</a></div><div class="ui-btn-container"><a href="#" id="emm_dialog_sms" class="'+f.cssClass+'">'+f.smsText+'</a></div><div class="ui-btn-container"><a href="#" id="emm_dialog_cancel" class="'+f.cancelCssClass+'">'+f.cancelText+"</a></div></div></div></div>";var j='<a id="emm_phonedialog_click" href="#emm_phonedialog" data-control="dialog"></a>';b("#emm_phonedialog, #emm_phonedialog_click").remove();var e=b("body"),l=b(h),k=b(j);e.append(k);k.dialog();e.append(l);b("#emm_dialog_cancel").off("click").on("click",function(m){b("#emm_dialog_close").trigger("click")});b("#emm_dialog_phone").off("click").on("click",function(m){if(typeof f.phone==="function"){f.phone.apply()}});b("#emm_dialog_sms").off("click").on("click",function(m){if(typeof f.sms==="function"){f.sms.apply()}});k.trigger("click")};a.util.email=function(g,i){if(!g||g==null||g==""){return}var f={title:a.util.getText("EMMGB1001I")||"Email",emailText:a.util.getText("EMMGB1001I")||"Email",facetimeText:a.util.getText("EMMGB1002I")||"Facetime",cancelText:a.util.getText("EMMGB1003I")||"Cancel",cssClass:"ui-btn-a",cancelCssClass:"ui-btn-b",email:function(){window.location.href="mailto:"+g;return false},facetime:function(){window.location.href="facetime:"+g;return false}};f=b.extend(f,i);var h='<div id="emm_emaildialog" class="ui-dialog"><div class="ui-container"><div class="ui-header"><h1 class="ui-title">'+f.title+'</h1></div><div class="ui-content"><div class="ui-btn-container"><a href="#" id="emm_dialog_email" class="'+f.cssClass+'">'+f.emailText+"</a></div>";if(navigator&&(navigator.platform=="iPad"||navigator.platform=="iPhone"||navigator.platform=="iPod")){h+='<div class="ui-btn-container"><a href="#" id="emm_dialog_facetime" class="'+f.cssClass+'">'+f.facetimeText+"</a></div>"}h+='<div class="ui-btn-container"><a href="#" id="emm_dialog_cancel" class="'+f.cancelCssClass+'">'+f.cancelText+"</a></div></div></div></div>";var j='<a id="emm_emaildialog_click" href="#emm_emaildialog" data-control="dialog"></a>';b("#emm_emaildialog, #emm_emaildialog_click").remove();var e=b("body"),l=b(h),k=b(j);e.append(k);k.dialog();e.append(l);b("#emm_dialog_cancel").off("click").on("click",function(m){b("#emm_dialog_close").trigger("click")});b("#emm_dialog_email").off("click").on("click",function(m){if(typeof f.email==="function"){f.email.apply()}});b("#emm_dialog_facetime").off("click").on("click",function(m){if(typeof f.facetime==="function"){f.facetime.apply()}});k.trigger("click")};a.util.confirm=function(i){var g={title:a.util.getText("EMMGB1005I")||"Confirm",message:"",mode:"emm",yesText:a.util.getText("EMMGB1006I")||"Yes",noText:a.util.getText("EMMGB1007I")||"No",yesCssClass:"ui-btn-a",noCssClass:"ui-btn-b",yes:function(){},no:function(){}};g=b.extend(g,i);if(!g.message||g.message==null||g.message==""){return}if(g.mode=="native"){if(confirm(g.message)){if(typeof g.yes==="function"){g.yes.apply()}}else{if(typeof g.no==="function"){g.no.apply()}}}else{var h='<div id="emm_confirmdialog" class="ui-dialog"><div class="ui-container"><div class="ui-header"><h1 class="ui-title">'+g.title+'</h1></div><div class="ui-content"><p class="ui-section">'+g.message+'</p><div class="ui-btn-container"><a href="#" id="emm_dialog_yes" class="'+g.yesCssClass+'">'+g.yesText+'</a></div><div class="ui-btn-container"><a href="#" id="emm_dialog_no" class="'+g.noCssClass+'">'+g.noText+"</a></div></div></div></div>";var j='<a id="emm_confirmdialog_click" href="#emm_confirmdialog" data-control="dialog"></a>';b("#emm_confirmdialog, #emm_confirmdialog_click").remove();var f=b("body"),l=b(h),k=b(j);f.append(k);var e=k.dialog();f.append(l);b("#emm_dialog_no").off("click").on("click",function(m){b("#emm_dialog_close").trigger("click");if(typeof g.no==="function"){g.no.apply(this,[e])}});b("#emm_dialog_yes").off("click").on("click",function(m){b("#emm_dialog_close").trigger("click");if(typeof g.yes==="function"){g.yes.apply(this,[e])}});k.trigger("click");e.close=function(){b("#emm_dialog_close").trigger("click")};return e}};a.util.alert=function(i){var g={title:"EZMaxMobile",message:"",mode:"emm",yesText:a.util.getText("EMMGB1004I")||"OK",yesCssClass:"ui-btn-a",yes:function(){b("#emm_dialog_close").trigger("click")}};g=b.extend(g,i);if(!g.message||g.message==null||g.message==""){return}if(g.mode=="native"){if(confirm(g.message)){if(typeof g.yes==="function"){g.yes.apply()}}}else{var h='<div id="emm_alertdialog" class="ui-dialog"><div class="ui-container"><div class="ui-header"><h1 class="ui-title">'+g.title+'</h1></div><div class="ui-content"><p class="ui-section">'+g.message+'</p><div class="ui-btn-container"><a href="#" id="emm_dialog_yes" class="'+g.yesCssClass+'">'+g.yesText+"</a></div></div></div></div>";var j='<a id="emm_alertdialog_click" href="#emm_alertdialog" data-control="dialog"></a>';b("#emm_alertdialog, #emm_alertdialog_click").remove();var f=b("body"),l=b(h),k=b(j);f.append(k);var e=k.dialog();f.append(l);b("#emm_dialog_yes").off("click").on("click",function(m){if(typeof g.yes==="function"){g.yes.apply(this,[e])}});k.trigger("click");e.close=function(){b("#emm_dialog_close").trigger("click")};return e}};a.util.dialog=function(i){if(i){var g='<a id="emm_customdialog_click" href="'+i+'" data-control="dialog"></a>';b("#emm_customdialog, #emm_customdialog_click").remove();var f=b("body"),h=b(g);f.append(h);var e=h.dialog();h.trigger("click");e.close=function(){b("#emm_dialog_close").trigger("click")};return e}};a.util.esign=function(h){var f={title:a.util.getText("EMMES1000I")||"e-Sign Authorization",message:a.util.getText("EMMES1001I")||"An electronic signature is required",authFailedMessage:a.util.getText("EMMES1002E")||"Authorization Failed",invalidInput:a.util.getText("EMMES1003I")||"Please enter a password and reason",userLabel:a.util.getText("EMMES1004I")||"User",passwordLabel:a.util.getText("EMMES1005I")||"Password",reasonLabel:a.util.getText("EMMES1006I")||"Reason",userId:null,yesText:a.util.getText("EMMGB1004I")||"OK",noText:a.util.getText("EMMGB1003I")||"Cancel",yesCssClass:"ui-btn-a",noCssClass:"ui-btn-b",yes:function(){var m=b("#emm_esigndialog #emm_esign_password").val(),l=b("#emm_esigndialog #emm_esign_reason").val();if(!String.isNullOrEmpty(m)&&!String.isNullOrEmpty(l)){b.ajax({type:"POST",url:"verifyeSig.action",dataType:"json",data:{password:m,reason:l},beforeSend:function(){a.ui.loader.show()}}).always(function(){a.ui.loader.hide()}).then(function(n){if(n&&n.SUCCESS===true){b("body").trigger("esignSuccess")}else{if(n&&n.ERROR){k.setMessage(n.ERROR,EMMConstants.ERROR)}else{k.setMessage(f.authFailedMessage,EMMConstants.ERROR)}}})}else{k.setMessage(f.invalidInput,EMMConstants.WARNING)}},no:function(){}};f=b.extend(f,h);if(String.isNullOrEmpty(f.userId)){throw"USERID is null or empty"}b("html, body").animate({scrollTop:0},1);var g='<div id="emm_esigndialog" class="ui-dialog"><div class="ui-container"><div class="ui-header"><h1 class="ui-title">'+f.title+'</h1></div><div class="ui-content"><p style="padding: 0 10px">'+f.message+'</p><ul class="ui-listview"><li class="ui-field ui-readonly"><label>'+f.userLabel+'</label><input id="emm_esign_user" type="text" value="'+f.userId+'" readonly="true" disabled="true" class="ui-readonly"></li><li class="ui-field"><label>'+f.passwordLabel+'</label><input id="emm_esign_password" type="password"></li><li class="ui-divider">'+f.reasonLabel+'</li><li class="ui-field-block"><textarea id="emm_esign_reason" style="min-height:50px" rows="1"></textarea></li></ul><div class="ui-btn-container"><a href="#" id="emm_esign_dialog_yes" class="'+f.yesCssClass+'">'+f.yesText+'</a></div><div class="ui-btn-container"><a href="#" id="emm_esign_dialog_no" class="'+f.noCssClass+'">'+f.noText+"</a></div></div></div></div>";var i='<a id="emm_esigndialog_click" href="#emm_esigndialog" data-control="dialog"></a>';b("#emm_esigndialog, #emm_esigndialog_click").remove();var e=b("body"),k=b(g),j=b(i);e.append(j);j.dialog();e.append(k);b("#emm_esign_dialog_no").off("click").on("click",function(l){if(typeof f.no==="function"){f.no.apply()}b("#emm_dialog_close:visible").trigger("click")});b("#emm_esign_dialog_yes").off("click").on("click",function(l){if(typeof f.yes==="function"){f.yes.apply()}});j.trigger("click");k.setMessage=function(o,m){var l='<div class="ui-statusbar ui-statusbar-'+(m||EMMConstants.INFO)+'"><h3 class="ui-title">'+o+"</h3></div>";var n=k.find(".ui-content");n.find(".ui-statusbar").remove();n.prepend(b(l));b("html, body").animate({scrollTop:0},1)};return k};a.util.multiWorkflow=function(h){var f={title:a.util.getText("EMMWF1000I")||"Start Workflow",message:a.util.getText("EMMWF1001I")||"There is more than one workflow process available for this application.  Please select one and press OK.",invalidInput:a.util.getText("EMMWF1002I")||"Please select a process",processLabel:a.util.getText("EMMWF1003I")||"Process",memoLabel:a.util.getText("EMMWF1004I")||"Memo",wfOptions:[],yesText:a.util.getText("EMMGB1004I")||"OK",noText:a.util.getText("EMMGB1003I")||"Cancel",yesCssClass:"ui-btn-a",noCssClass:"ui-btn-b",yes:function(){var n=b('#emm_wfprocess_process input[type="radio"]:checked').val(),m=b("#emm_wfprocessdialog #emm_wfprocess_memo").val();if(!String.isNullOrEmpty(n)){b.ajax({type:"POST",url:"../workflow/startworkflow.action",dataType:"json",data:{wfprocess:n,memo:m},beforeSend:function(){a.ui.loader.show()}}).always(function(){a.ui.loader.hide()}).then(function(o){if(o&&o.SUCCESS===true){window.location.reload()}else{if(o&&o.ERROR){l.setMessage(o.ERROR,EMMConstants.ERROR)}}})}else{l.setMessage(f.invalidInput,EMMConstants.WARNING)}},no:function(){}};f=b.extend(f,h);if(f.wfOptions.length===0){throw"Error! No Workflow Options"}b("html, body").animate({scrollTop:0},1);var i=b("<ul />");b.each(f.wfOptions,function(n,m){b("<li />").append(b('<label for="check'+n+'" class="ui-wrap" />',{"for":"check"+n}).html(this.PROCESSDESC)).append(b('<input type="radio" id="check'+n+'" name="wfprocess" value="'+this.PROCESSNAME+'"/>')).appendTo(i)});var g='<div id="emm_wfprocessdialog" class="ui-dialog"><div class="ui-container"><div class="ui-header"><h1 class="ui-title">'+f.title+'</h1></div><div class="ui-content"><p style="padding: 0 10px">'+f.message+'</p><ul id="emm_wfprocess_process" class="ui-listview ui-radiobutton">'+i.html()+'</ul><div class="ui-btn-container"><a href="#" id="emm_wfprocess_dialog_yes" class="'+f.yesCssClass+'">'+f.yesText+'</a></div><div class="ui-btn-container"><a href="#" id="emm_wfprocess_dialog_no" class="'+f.noCssClass+'">'+f.noText+"</a></div></div></div></div>";var j='<a id="emm_wfprocessdialog_click" href="#emm_wfprocessdialog" data-control="dialog"></a>';b("#emm_wfprocessdialog, #emm_wfprocessdialog_click").remove();var e=b("body"),l=b(g),k=b(j);e.append(k);k.dialog();e.append(l);b("#emm_wfprocess_dialog_no").off("click").on("click",function(m){if(typeof f.no==="function"){f.no.apply()}b("#emm_dialog_close:visible").trigger("click")});b("#emm_wfprocess_dialog_yes").off("click").on("click",function(m){if(typeof f.yes==="function"){f.yes.apply()}});k.trigger("click");b("#emm_wfprocessdialog .ui-radiobutton input").radiobutton();l.setMessage=function(p,n){var m='<div class="ui-statusbar ui-statusbar-'+(n||EMMConstants.INFO)+'"><h3 class="ui-title">'+p+"</h3></div>";var o=l.find(".ui-content");o.find(".ui-statusbar").remove();o.prepend(b(m));b("html, body").animate({scrollTop:0},1)};return l};a.util.stopMultiWorkflow=function(h){var f={title:a.util.getText("EMMWF1005I")||"Stop Workflow",message:a.util.getText("EMMWF1001I")||"There is more than one workflow process available for this application.  Please select one and press OK.",invalidInput:a.util.getText("EMMWF1002I")||"Please select a process",processLabel:a.util.getText("EMMWF1003I")||"Process",memoLabel:a.util.getText("EMMWF1004I")||"Memo",wfOptions:[],yesText:a.util.getText("EMMGB1004I")||"OK",noText:a.util.getText("EMMGB1003I")||"Cancel",yesCssClass:"ui-btn-a",noCssClass:"ui-btn-b",yes:function(){var n=b('#emm_wfprocess_process input[type="radio"]:checked').val(),m=b("#emm_wfprocessdialog #emm_wfprocess_memo").val();if(!String.isNullOrEmpty(n)){b.ajax({type:"POST",url:"../workflow/stopworkflow.action",dataType:"json",data:{wfprocess:n,memo:m},beforeSend:function(){a.ui.loader.show()}}).always(function(){a.ui.loader.hide()}).then(function(o){if(o&&o.SUCCESS===true){window.location.reload()}else{if(o&&o.ERROR){l.setMessage(o.ERROR,EMMConstants.ERROR)}}})}else{l.setMessage(f.invalidInput,EMMConstants.WARNING)}},no:function(){}};f=b.extend(f,h);if(f.wfOptions.length===0){throw"No WF Options"}b("html, body").animate({scrollTop:0},1);var i=b("<ul />");b.each(f.wfOptions,function(n,m){b("<li />").append(b('<label for="check'+n+'" class="ui-wrap" />',{"for":"check"+n}).html(this.PROCESSDESC)).append(b('<input type="radio" id="check'+n+'" name="wfprocess" value="'+this.PROCESSNAME+'"/>')).appendTo(i)});var g='<div id="emm_wfprocessdialog" class="ui-dialog"><div class="ui-container"><div class="ui-header"><h1 class="ui-title">'+f.title+'</h1></div><div class="ui-content"><p style="padding: 0 10px">'+f.message+'</p><ul id="emm_wfprocess_process" class="ui-listview ui-radiobutton">'+i.html()+'</ul><div class="ui-btn-container"><a href="#" id="emm_wfprocess_dialog_yes" class="'+f.yesCssClass+'">'+f.yesText+'</a></div><div class="ui-btn-container"><a href="#" id="emm_wfprocess_dialog_no" class="'+f.noCssClass+'">'+f.noText+"</a></div></div></div></div>";var j='<a id="emm_wfprocessdialog_click" href="#emm_wfprocessdialog" data-control="dialog"></a>';b("#emm_wfprocessdialog, #emm_wfprocessdialog_click").remove();var e=b("body"),l=b(g),k=b(j);e.append(k);k.dialog();e.append(l);b("#emm_wfprocess_dialog_no").off("click").on("click",function(m){if(typeof f.no==="function"){f.no.apply()}b("#emm_dialog_close:visible").trigger("click")});b("#emm_wfprocess_dialog_yes").off("click").on("click",function(m){if(typeof f.yes==="function"){f.yes.apply()}});k.trigger("click");b("#emm_wfprocessdialog .ui-radiobutton input").radiobutton();l.setMessage=function(p,n){var m='<div class="ui-statusbar ui-statusbar-'+(n||EMMConstants.INFO)+'"><h3 class="ui-title">'+p+"</h3></div>";var o=l.find(".ui-content");o.find(".ui-statusbar").remove();o.prepend(b(m));b("html, body").animate({scrollTop:0},1)};return l};a.util.getUrlParameterValueByName=function(f){var e=RegExp("[?&]"+f+"=([^&]*)").exec(window.location.search);return e&&decodeURIComponent(e[1].replace(/\+/g," "))};a.util.log=function(i){var e=b(".ui-page");if(!e.length){e=b("body")}var g=b("#__emmLogs");if(!g.length){var f=b("<div/>",{id:"__emmLogWindow"}).appendTo(e).css({backgroundColor:"black",color:"white"});b("<span/>",{html:"EZMaxMobile - Log Console"}).appendTo(f).css({"font-weight":"bold",paddingBottom:"10px"});g=b("<ul/>",{id:"__emmLogs"}).appendTo(f)}try{b("<li/>",{html:JSON.stringify(i)}).appendTo(g).css({padding:"5px",borderBottom:"white solid 1px"})}catch(h){b("<li/>",{html:"ERROR: "+h}).appendTo(g).css({color:"red",padding:"5px",borderBottom:"white solid 1px"})}};a.util.getText=function(h,j,g){h=(h||"").toUpperCase();var m=h.split(".");var k=a.ui.getDefaults();var e=EMMServer.DB.getUserInfo().language||k.language;var n=a.l10n[e]||{};for(var f=0;f<m.length-1;f++){n=(n[m[f]])?n[m[f]]:n[m[f]]={}}var l=(n[m[m.length-1]]||"").toString();l=l.format.apply(l,j);if(String.isNullOrEmpty(l)&&!String.isNullOrEmpty(g)){return g}return l};if(!window.getText){window.getText=a.util.getText}c.sleep=function(f){if(String.isNullOrEmpty(f)){f=1}var g=new Date().getTime()+f;while(new Date().getTime()<=g){}};window._alert=window.alert;window.alert=function(e){if(a.nativeapp.isWin8()===true){a.util.alert({message:e})}else{return _alert.apply(this,arguments)}};window.emm=a;EMMConstants={ERROR:"a",WARNING:"b",INFO:"c",SUCCESS:"d"}})(jQuery,window);
/*! EZMaxMobile Maps v5.1.1 */(function(b){var a=b.emm||{};a.maps=a.maps||{};if(!a.stringify){a.stringify=function(c){return JSON.stringify(c,function(d,e){return(typeof e==="function")?""+e:e})}}if(!a.sendEventToDevice){a.sendEventToDevice=function(c,d){if(navigator.userAgent.match(/Android/i)){b.emmiface[c](d)}if((navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i))&&!navigator.userAgent.match(/Safari/i)){return d}return d}}a.maps={Providers:{DEFAULT:0,APPLE:1,GOOGLE:2,MICROSOFT:3,ESRI:4,INTERPRO:5},Type:{DEFAULT:0,SATELLITE:1,HYBRID:2,TERRAIN:3,TOPO:4,OSM:5},ConnectionMode:{OFFLINE:0,ONLINE:1}};a.maps.Map=(function(){var d=function c(e){this._settings={provider:a.maps.Providers.GOOGLE,maptype:a.maps.Type.DEFAULT,connectionMode:EMMServer.DB.getUserInfo().hasOwnProperty("username")?0:1,sidebar:null,center:null,zoom:10,refreshZoomLimit:10,dataSources:[],onDataSelected:null,esriMapServers:[]};if(e){$.extend(true,this._settings,e)}};d.prototype.getSettings=function(){return this._settings};d.prototype.setConnectionMode=function(e){this.getSettings().connectionMode=e};d.prototype.setProvider=function(e){if(!String.isNullOrEmpty(e)){this.getSettings().provider=e}};d.prototype.setMapType=function(e){if(!String.isNullOrEmpty(e)){this.getSettings().maptype=e}};d.prototype.setSidebar=function(e){this.getSettings().sidebar=e};d.prototype.setCenter=function(e){this.getSettings().center=e};d.prototype.setZoom=function(e){if($.isNumeric(e)){this.getSettings().zoom=e}};d.prototype.addEsriMapServer=function(e){this.getSettings().esriMapServers.push(e)};d.prototype.setRefreshZoomLimit=function(e){if($.isNumeric(e)){this.getSettings().refreshZoomLimit=e}};d.prototype.addDataSource=function(e){this.getSettings().dataSources.push(e)};d.prototype.addEventListener=function(e,f){if(e&&typeof f==="function"){this.getSettings()[e]=f}};return d})();a.maps.EsriMapServer=(function(){var d=function c(e){this.name=null;this.url=null;$.extend(true,this,e)};d.prototype.setName=function(e){this.name=e};d.prototype.setUrl=function(e){this.url=e};return d})();a.maps.DataSource=(function(){var d=function c(e){this.key=null;this.title=null;this.onBoundsChanged=null;this.latlngMap=new a.maps.LatLngMapping();this.image=null;this.callout=null;if(typeof e==="string"){this.key=e}else{if(e){$.extend(true,this,e)}}};d.prototype.setKey=function(e){this.key=e};d.prototype.setTitle=function(e){this.title=e};d.prototype.setImage=function(e){this.image=e};d.prototype.setCallout=function(e){this.callout=e};d.prototype.setLatLngFields=function(f,e){this.latlngMap=new a.maps.LatLngMapping(f,e)};d.prototype.addEventListener=function(e,f){if(e&&typeof f==="function"){this[e]=f}};return d})();a.maps.LatLng=(function(){var d=function c(f,e){this.latitude=0;this.longitude=0;if(!$.isNumeric(f)||!$.isNumeric(e)){return}if(f){if(f<-90){f=-90}if(f>90){f=90}this.latitude=f}if(e){if(e<-180){f=-170}if(e>180){f=170}this.longitude=e}};return d})();a.maps.LatLngMapping=(function(){var d=function c(f,e){this.latitude="LATITUDE";this.longitude="LONGITUDE";if(f){this.latitude=f}if(e){this.longitude=e}};return d})();a.maps.launchMap=(function(){var c={},d="load",e="emm.maps.launchMap.getMapLaunchSettings()";var f=function(g){if(g instanceof a.maps.Map){c={};$.extend(true,c,g.getSettings());nativeUrl("ezmap://?event="+d+"&action="+e)}else{alert("Parameter not an instance of 'emm.maps.Map'")}};f.getMapLaunchSettings=function(){return a.sendEventToDevice(d,a.stringify(c))};return f})();a.maps.selectData=(function(){var c={},d="selectdata",e="emm.maps.selectData.getSelectedData()";var f=function(g){c=g;nativeUrl("ezmap://?event="+d+"&action="+e)};f.getSelectedData=function(){return a.sendEventToDevice(d,JSON.stringify(c))};return f})();a.maps.zoomTo=(function(){var c={},d="zoomto",e="emm.maps.zoomTo.getZoomTo()";var f=function(i,h,g){c={dataSource:i,key:{id:h,value:""+g}};nativeUrl("ezmap://?event="+d+"&action="+e)};f.getZoomTo=function(){return a.sendEventToDevice(d,JSON.stringify(c))};return f})();a.maps.zoomToPoint=(function(){var c={},d="zoomtopoint",e="emm.maps.zoomToPoint.getZoomToPoint()";var f=function(k,i,g){if(k instanceof a.maps.LatLng){c={point:k,zoom:!!i?i:10};nativeUrl("ezmap://?event="+d+"&action="+e)}else{if(k&&i){var j=k,h=i,i=g;c={point:new a.maps.LatLng(j,h),zoom:!!i?i:10};nativeUrl("ezmap://?event="+d+"&action="+e)}}};f.getZoomToPoint=function(){return a.sendEventToDevice(d,JSON.stringify(c))};return f})();a.maps.filter=(function(){var c={},d="filter",e="emm.maps.filter.getFilterData()";var f=function(h,g){c={dataSource:h,filter:(g===undefined)?null:g};nativeUrl("ezmap://?event="+d+"&action="+e)};f.getFilterData=function(){return a.sendEventToDevice(d,JSON.stringify(c))};return f})();a.maps.selectBaseMaps=(function(){var c={},d="selectbasemaps",e="emm.maps.selectBaseMaps.getData()";var f=function(g){if(g){c={basemaps:g};nativeUrl("ezmap://?event="+d+"&action="+e)}};f.getData=function(){return a.sendEventToDevice(d,JSON.stringify(c))};return f})()})(window);
